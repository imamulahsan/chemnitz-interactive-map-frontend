import{$ as li,$a as ke,A as _e,Aa as j,Ab as sn,B as wn,Ba as O,Bb as vu,C as Ie,Ca as Cr,Cb as _u,D as ss,Da as au,Db as It,E as bn,Ea as Mr,Eb as yu,F as Gl,Fa as ci,Fb as gi,G as tn,Ga as ds,Gb as wu,H as Oe,Ha as _t,Hb as bu,I as as,Ia as fs,Ib as vi,J as ql,Ja as lu,Jb as Lr,K as Kl,Ka as Re,Kb as ze,L as Yl,La as uu,Lb as Cu,M as Ft,Ma as cu,Mb as Mu,N as Xl,Na as ps,Nb as Pu,O as pt,Oa as hi,Ob as Ar,P as et,Pa as ee,Pb as Su,Q as Le,Qa as Pr,Qb as Dr,R as ai,Ra as rt,S as $,Sa as ms,T as Tt,Ta as C,U as Jl,Ua as w,V as Y,Va as Q,W as ls,Wa as Pn,X as U,Xa as H,Y as T,Ya as rn,Z as us,Za as di,_ as Ql,_a as P,a as S,aa as ct,ab as Ne,b as ut,ba as ot,bb as Sn,ca as Et,cb as xn,d as Gd,da as St,db as Tn,e as Qe,ea as Cn,eb as fi,f as es,fa as tu,fb as hu,g as Bl,ga as Ae,gb as Fe,h as jl,ha as ue,hb as gs,i as Ul,ia as De,ib as vs,j as ns,ja as Ht,jb as pi,k as is,ka as Wt,kb as Sr,l as Te,la as Mn,lb as du,m as Rt,ma as eu,mb as xr,n as Ee,na as wr,nb as Tr,o as Ct,oa as cs,ob as _s,p as R,pa as en,pb as Er,q as si,qa as nt,qb as ys,r as Zl,ra as nu,rb as ws,s as $l,sa as br,sb as Ir,t as q,ta as iu,tb as Or,u as yr,ua as nn,ub as fu,v as Nt,va as ru,vb as mi,w as rs,wa as hs,wb as pu,x as Hl,xa as ou,xb as mu,y as os,ya as su,yb as on,z as Wl,za as ui,zb as gu}from"./chunk-UPCVSOBO.js";var je=Gd((Qr,vc)=>{"use strict";(function(i,e){typeof Qr=="object"&&typeof vc<"u"?e(Qr):typeof define=="function"&&define.amd?define(["exports"],e):(i=typeof globalThis<"u"?globalThis:i||self,e(i.leaflet={}))})(Qr,function(i){"use strict";var e="1.9.4";function a(t){var n,s,l,c;for(s=1,l=arguments.length;s<l;s++){c=arguments[s];for(n in c)t[n]=c[n]}return t}var r=Object.create||function(){function t(){}return function(n){return t.prototype=n,new t}}();function o(t,n){var s=Array.prototype.slice;if(t.bind)return t.bind.apply(t,s.call(arguments,1));var l=s.call(arguments,2);return function(){return t.apply(n,l.length?l.concat(s.call(arguments)):arguments)}}var u=0;function h(t){return"_leaflet_id"in t||(t._leaflet_id=++u),t._leaflet_id}function f(t,n,s){var l,c,d,p;return p=function(){l=!1,c&&(d.apply(s,c),c=!1)},d=function(){l?c=arguments:(t.apply(s,arguments),setTimeout(p,n),l=!0)},d}function v(t,n,s){var l=n[1],c=n[0],d=l-c;return t===l&&s?t:((t-c)%d+d)%d+c}function m(){return!1}function b(t,n){if(n===!1)return t;var s=Math.pow(10,n===void 0?6:n);return Math.round(t*s)/s}function A(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function x(t){return A(t).split(/\s+/)}function I(t,n){Object.prototype.hasOwnProperty.call(t,"options")||(t.options=t.options?r(t.options):{});for(var s in n)t.options[s]=n[s];return t.options}function Jt(t,n,s){var l=[];for(var c in t)l.push(encodeURIComponent(s?c.toUpperCase():c)+"="+encodeURIComponent(t[c]));return(!n||n.indexOf("?")===-1?"?":"&")+l.join("&")}var re=/\{ *([\w_ -]+) *\}/g;function J(t,n){return t.replace(re,function(s,l){var c=n[l];if(c===void 0)throw new Error("No value provided for variable "+s);return typeof c=="function"&&(c=c(n)),c})}var V=Array.isArray||function(t){return Object.prototype.toString.call(t)==="[object Array]"};function Bt(t,n){for(var s=0;s<t.length;s++)if(t[s]===n)return s;return-1}var Ge="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function gt(t){return window["webkit"+t]||window["moz"+t]||window["ms"+t]}var cn=0;function Qi(t){var n=+new Date,s=Math.max(0,16-(n-cn));return cn=n+s,window.setTimeout(t,s)}var $n=window.requestAnimationFrame||gt("RequestAnimationFrame")||Qi,Ea=window.cancelAnimationFrame||gt("CancelAnimationFrame")||gt("CancelRequestAnimationFrame")||function(t){window.clearTimeout(t)};function Ot(t,n,s){if(s&&$n===Qi)t.call(n);else return $n.call(window,o(t,n))}function jt(t){t&&Ea.call(window,t)}var bh={__proto__:null,extend:a,create:r,bind:o,get lastId(){return u},stamp:h,throttle:f,wrapNum:v,falseFn:m,formatNum:b,trim:A,splitWords:x,setOptions:I,getParamString:Jt,template:J,isArray:V,indexOf:Bt,emptyImageUrl:Ge,requestFn:$n,cancelFn:Ea,requestAnimFrame:Ot,cancelAnimFrame:jt};function de(){}de.extend=function(t){var n=function(){I(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},s=n.__super__=this.prototype,l=r(s);l.constructor=n,n.prototype=l;for(var c in this)Object.prototype.hasOwnProperty.call(this,c)&&c!=="prototype"&&c!=="__super__"&&(n[c]=this[c]);return t.statics&&a(n,t.statics),t.includes&&(Ch(t.includes),a.apply(null,[l].concat(t.includes))),a(l,t),delete l.statics,delete l.includes,l.options&&(l.options=s.options?r(s.options):{},a(l.options,t.options)),l._initHooks=[],l.callInitHooks=function(){if(!this._initHooksCalled){s.callInitHooks&&s.callInitHooks.call(this),this._initHooksCalled=!0;for(var d=0,p=l._initHooks.length;d<p;d++)l._initHooks[d].call(this)}},n},de.include=function(t){var n=this.prototype.options;return a(this.prototype,t),t.options&&(this.prototype.options=n,this.mergeOptions(t.options)),this},de.mergeOptions=function(t){return a(this.prototype.options,t),this},de.addInitHook=function(t){var n=Array.prototype.slice.call(arguments,1),s=typeof t=="function"?t:function(){this[t].apply(this,n)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(s),this};function Ch(t){if(!(typeof L>"u"||!L||!L.Mixin)){t=V(t)?t:[t];for(var n=0;n<t.length;n++)t[n]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var kt={on:function(t,n,s){if(typeof t=="object")for(var l in t)this._on(l,t[l],n);else{t=x(t);for(var c=0,d=t.length;c<d;c++)this._on(t[c],n,s)}return this},off:function(t,n,s){if(!arguments.length)delete this._events;else if(typeof t=="object")for(var l in t)this._off(l,t[l],n);else{t=x(t);for(var c=arguments.length===1,d=0,p=t.length;d<p;d++)c?this._off(t[d]):this._off(t[d],n,s)}return this},_on:function(t,n,s,l){if(typeof n!="function"){console.warn("wrong listener type: "+typeof n);return}if(this._listens(t,n,s)===!1){s===this&&(s=void 0);var c={fn:n,ctx:s};l&&(c.once=!0),this._events=this._events||{},this._events[t]=this._events[t]||[],this._events[t].push(c)}},_off:function(t,n,s){var l,c,d;if(this._events&&(l=this._events[t],!!l)){if(arguments.length===1){if(this._firingCount)for(c=0,d=l.length;c<d;c++)l[c].fn=m;delete this._events[t];return}if(typeof n!="function"){console.warn("wrong listener type: "+typeof n);return}var p=this._listens(t,n,s);if(p!==!1){var g=l[p];this._firingCount&&(g.fn=m,this._events[t]=l=l.slice()),l.splice(p,1)}}},fire:function(t,n,s){if(!this.listens(t,s))return this;var l=a({},n,{type:t,target:this,sourceTarget:n&&n.sourceTarget||this});if(this._events){var c=this._events[t];if(c){this._firingCount=this._firingCount+1||1;for(var d=0,p=c.length;d<p;d++){var g=c[d],_=g.fn;g.once&&this.off(t,_,g.ctx),_.call(g.ctx||this,l)}this._firingCount--}}return s&&this._propagateEvent(l),this},listens:function(t,n,s,l){typeof t!="string"&&console.warn('"string" type argument expected');var c=n;typeof n!="function"&&(l=!!n,c=void 0,s=void 0);var d=this._events&&this._events[t];if(d&&d.length&&this._listens(t,c,s)!==!1)return!0;if(l){for(var p in this._eventParents)if(this._eventParents[p].listens(t,n,s,l))return!0}return!1},_listens:function(t,n,s){if(!this._events)return!1;var l=this._events[t]||[];if(!n)return!!l.length;s===this&&(s=void 0);for(var c=0,d=l.length;c<d;c++)if(l[c].fn===n&&l[c].ctx===s)return c;return!1},once:function(t,n,s){if(typeof t=="object")for(var l in t)this._on(l,t[l],n,!0);else{t=x(t);for(var c=0,d=t.length;c<d;c++)this._on(t[c],n,s,!0)}return this},addEventParent:function(t){return this._eventParents=this._eventParents||{},this._eventParents[h(t)]=t,this},removeEventParent:function(t){return this._eventParents&&delete this._eventParents[h(t)],this},_propagateEvent:function(t){for(var n in this._eventParents)this._eventParents[n].fire(t.type,a({layer:t.target,propagatedFrom:t.target},t),!0)}};kt.addEventListener=kt.on,kt.removeEventListener=kt.clearAllEventListeners=kt.off,kt.addOneTimeEventListener=kt.once,kt.fireEvent=kt.fire,kt.hasEventListeners=kt.listens;var Hn=de.extend(kt);function N(t,n,s){this.x=s?Math.round(t):t,this.y=s?Math.round(n):n}var Ia=Math.trunc||function(t){return t>0?Math.floor(t):Math.ceil(t)};N.prototype={clone:function(){return new N(this.x,this.y)},add:function(t){return this.clone()._add(k(t))},_add:function(t){return this.x+=t.x,this.y+=t.y,this},subtract:function(t){return this.clone()._subtract(k(t))},_subtract:function(t){return this.x-=t.x,this.y-=t.y,this},divideBy:function(t){return this.clone()._divideBy(t)},_divideBy:function(t){return this.x/=t,this.y/=t,this},multiplyBy:function(t){return this.clone()._multiplyBy(t)},_multiplyBy:function(t){return this.x*=t,this.y*=t,this},scaleBy:function(t){return new N(this.x*t.x,this.y*t.y)},unscaleBy:function(t){return new N(this.x/t.x,this.y/t.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=Ia(this.x),this.y=Ia(this.y),this},distanceTo:function(t){t=k(t);var n=t.x-this.x,s=t.y-this.y;return Math.sqrt(n*n+s*s)},equals:function(t){return t=k(t),t.x===this.x&&t.y===this.y},contains:function(t){return t=k(t),Math.abs(t.x)<=Math.abs(this.x)&&Math.abs(t.y)<=Math.abs(this.y)},toString:function(){return"Point("+b(this.x)+", "+b(this.y)+")"}};function k(t,n,s){return t instanceof N?t:V(t)?new N(t[0],t[1]):t==null?t:typeof t=="object"&&"x"in t&&"y"in t?new N(t.x,t.y):new N(t,n,s)}function st(t,n){if(t)for(var s=n?[t,n]:t,l=0,c=s.length;l<c;l++)this.extend(s[l])}st.prototype={extend:function(t){var n,s;if(!t)return this;if(t instanceof N||typeof t[0]=="number"||"x"in t)n=s=k(t);else if(t=Lt(t),n=t.min,s=t.max,!n||!s)return this;return!this.min&&!this.max?(this.min=n.clone(),this.max=s.clone()):(this.min.x=Math.min(n.x,this.min.x),this.max.x=Math.max(s.x,this.max.x),this.min.y=Math.min(n.y,this.min.y),this.max.y=Math.max(s.y,this.max.y)),this},getCenter:function(t){return k((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,t)},getBottomLeft:function(){return k(this.min.x,this.max.y)},getTopRight:function(){return k(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(t){var n,s;return typeof t[0]=="number"||t instanceof N?t=k(t):t=Lt(t),t instanceof st?(n=t.min,s=t.max):n=s=t,n.x>=this.min.x&&s.x<=this.max.x&&n.y>=this.min.y&&s.y<=this.max.y},intersects:function(t){t=Lt(t);var n=this.min,s=this.max,l=t.min,c=t.max,d=c.x>=n.x&&l.x<=s.x,p=c.y>=n.y&&l.y<=s.y;return d&&p},overlaps:function(t){t=Lt(t);var n=this.min,s=this.max,l=t.min,c=t.max,d=c.x>n.x&&l.x<s.x,p=c.y>n.y&&l.y<s.y;return d&&p},isValid:function(){return!!(this.min&&this.max)},pad:function(t){var n=this.min,s=this.max,l=Math.abs(n.x-s.x)*t,c=Math.abs(n.y-s.y)*t;return Lt(k(n.x-l,n.y-c),k(s.x+l,s.y+c))},equals:function(t){return t?(t=Lt(t),this.min.equals(t.getTopLeft())&&this.max.equals(t.getBottomRight())):!1}};function Lt(t,n){return!t||t instanceof st?t:new st(t,n)}function At(t,n){if(t)for(var s=n?[t,n]:t,l=0,c=s.length;l<c;l++)this.extend(s[l])}At.prototype={extend:function(t){var n=this._southWest,s=this._northEast,l,c;if(t instanceof tt)l=t,c=t;else if(t instanceof At){if(l=t._southWest,c=t._northEast,!l||!c)return this}else return t?this.extend(W(t)||ht(t)):this;return!n&&!s?(this._southWest=new tt(l.lat,l.lng),this._northEast=new tt(c.lat,c.lng)):(n.lat=Math.min(l.lat,n.lat),n.lng=Math.min(l.lng,n.lng),s.lat=Math.max(c.lat,s.lat),s.lng=Math.max(c.lng,s.lng)),this},pad:function(t){var n=this._southWest,s=this._northEast,l=Math.abs(n.lat-s.lat)*t,c=Math.abs(n.lng-s.lng)*t;return new At(new tt(n.lat-l,n.lng-c),new tt(s.lat+l,s.lng+c))},getCenter:function(){return new tt((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new tt(this.getNorth(),this.getWest())},getSouthEast:function(){return new tt(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(t){typeof t[0]=="number"||t instanceof tt||"lat"in t?t=W(t):t=ht(t);var n=this._southWest,s=this._northEast,l,c;return t instanceof At?(l=t.getSouthWest(),c=t.getNorthEast()):l=c=t,l.lat>=n.lat&&c.lat<=s.lat&&l.lng>=n.lng&&c.lng<=s.lng},intersects:function(t){t=ht(t);var n=this._southWest,s=this._northEast,l=t.getSouthWest(),c=t.getNorthEast(),d=c.lat>=n.lat&&l.lat<=s.lat,p=c.lng>=n.lng&&l.lng<=s.lng;return d&&p},overlaps:function(t){t=ht(t);var n=this._southWest,s=this._northEast,l=t.getSouthWest(),c=t.getNorthEast(),d=c.lat>n.lat&&l.lat<s.lat,p=c.lng>n.lng&&l.lng<s.lng;return d&&p},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(t,n){return t?(t=ht(t),this._southWest.equals(t.getSouthWest(),n)&&this._northEast.equals(t.getNorthEast(),n)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function ht(t,n){return t instanceof At?t:new At(t,n)}function tt(t,n,s){if(isNaN(t)||isNaN(n))throw new Error("Invalid LatLng object: ("+t+", "+n+")");this.lat=+t,this.lng=+n,s!==void 0&&(this.alt=+s)}tt.prototype={equals:function(t,n){if(!t)return!1;t=W(t);var s=Math.max(Math.abs(this.lat-t.lat),Math.abs(this.lng-t.lng));return s<=(n===void 0?1e-9:n)},toString:function(t){return"LatLng("+b(this.lat,t)+", "+b(this.lng,t)+")"},distanceTo:function(t){return Pe.distance(this,W(t))},wrap:function(){return Pe.wrapLatLng(this)},toBounds:function(t){var n=180*t/40075017,s=n/Math.cos(Math.PI/180*this.lat);return ht([this.lat-n,this.lng-s],[this.lat+n,this.lng+s])},clone:function(){return new tt(this.lat,this.lng,this.alt)}};function W(t,n,s){return t instanceof tt?t:V(t)&&typeof t[0]!="object"?t.length===3?new tt(t[0],t[1],t[2]):t.length===2?new tt(t[0],t[1]):null:t==null?t:typeof t=="object"&&"lat"in t?new tt(t.lat,"lng"in t?t.lng:t.lon,t.alt):n===void 0?null:new tt(t,n,s)}var fe={latLngToPoint:function(t,n){var s=this.projection.project(t),l=this.scale(n);return this.transformation._transform(s,l)},pointToLatLng:function(t,n){var s=this.scale(n),l=this.transformation.untransform(t,s);return this.projection.unproject(l)},project:function(t){return this.projection.project(t)},unproject:function(t){return this.projection.unproject(t)},scale:function(t){return 256*Math.pow(2,t)},zoom:function(t){return Math.log(t/256)/Math.LN2},getProjectedBounds:function(t){if(this.infinite)return null;var n=this.projection.bounds,s=this.scale(t),l=this.transformation.transform(n.min,s),c=this.transformation.transform(n.max,s);return new st(l,c)},infinite:!1,wrapLatLng:function(t){var n=this.wrapLng?v(t.lng,this.wrapLng,!0):t.lng,s=this.wrapLat?v(t.lat,this.wrapLat,!0):t.lat,l=t.alt;return new tt(s,n,l)},wrapLatLngBounds:function(t){var n=t.getCenter(),s=this.wrapLatLng(n),l=n.lat-s.lat,c=n.lng-s.lng;if(l===0&&c===0)return t;var d=t.getSouthWest(),p=t.getNorthEast(),g=new tt(d.lat-l,d.lng-c),_=new tt(p.lat-l,p.lng-c);return new At(g,_)}},Pe=a({},fe,{wrapLng:[-180,180],R:6371e3,distance:function(t,n){var s=Math.PI/180,l=t.lat*s,c=n.lat*s,d=Math.sin((n.lat-t.lat)*s/2),p=Math.sin((n.lng-t.lng)*s/2),g=d*d+Math.cos(l)*Math.cos(c)*p*p,_=2*Math.atan2(Math.sqrt(g),Math.sqrt(1-g));return this.R*_}}),Oa=6378137,bo={R:Oa,MAX_LATITUDE:85.0511287798,project:function(t){var n=Math.PI/180,s=this.MAX_LATITUDE,l=Math.max(Math.min(s,t.lat),-s),c=Math.sin(l*n);return new N(this.R*t.lng*n,this.R*Math.log((1+c)/(1-c))/2)},unproject:function(t){var n=180/Math.PI;return new tt((2*Math.atan(Math.exp(t.y/this.R))-Math.PI/2)*n,t.x*n/this.R)},bounds:function(){var t=Oa*Math.PI;return new st([-t,-t],[t,t])}()};function Co(t,n,s,l){if(V(t)){this._a=t[0],this._b=t[1],this._c=t[2],this._d=t[3];return}this._a=t,this._b=n,this._c=s,this._d=l}Co.prototype={transform:function(t,n){return this._transform(t.clone(),n)},_transform:function(t,n){return n=n||1,t.x=n*(this._a*t.x+this._b),t.y=n*(this._c*t.y+this._d),t},untransform:function(t,n){return n=n||1,new N((t.x/n-this._b)/this._a,(t.y/n-this._d)/this._c)}};function Wn(t,n,s,l){return new Co(t,n,s,l)}var Mo=a({},Pe,{code:"EPSG:3857",projection:bo,transformation:function(){var t=.5/(Math.PI*bo.R);return Wn(t,.5,-t,.5)}()}),Mh=a({},Mo,{code:"EPSG:900913"});function La(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function Aa(t,n){var s="",l,c,d,p,g,_;for(l=0,d=t.length;l<d;l++){for(g=t[l],c=0,p=g.length;c<p;c++)_=g[c],s+=(c?"L":"M")+_.x+" "+_.y;s+=n?E.svg?"z":"x":""}return s||"M0 0"}var Po=document.documentElement.style,tr="ActiveXObject"in window,Ph=tr&&!document.addEventListener,Da="msLaunchUri"in navigator&&!("documentMode"in document),So=oe("webkit"),Ra=oe("android"),ka=oe("android 2")||oe("android 3"),Sh=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),xh=Ra&&oe("Google")&&Sh<537&&!("AudioNode"in window),xo=!!window.opera,Na=!Da&&oe("chrome"),Fa=oe("gecko")&&!So&&!xo&&!tr,Th=!Na&&oe("safari"),za=oe("phantom"),Va="OTransition"in Po,Eh=navigator.platform.indexOf("Win")===0,Ba=tr&&"transition"in Po,To="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!ka,ja="MozPerspective"in Po,Ih=!window.L_DISABLE_3D&&(Ba||To||ja)&&!Va&&!za,Gn=typeof orientation<"u"||oe("mobile"),Oh=Gn&&So,Lh=Gn&&To,Ua=!window.PointerEvent&&window.MSPointerEvent,Za=!!(window.PointerEvent||Ua),$a="ontouchstart"in window||!!window.TouchEvent,Ah=!window.L_NO_TOUCH&&($a||Za),Dh=Gn&&xo,Rh=Gn&&Fa,kh=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Nh=function(){var t=!1;try{var n=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("testPassiveEventSupport",m,n),window.removeEventListener("testPassiveEventSupport",m,n)}catch{}return t}(),Fh=function(){return!!document.createElement("canvas").getContext}(),Eo=!!(document.createElementNS&&La("svg").createSVGRect),zh=!!Eo&&function(){var t=document.createElement("div");return t.innerHTML="<svg/>",(t.firstChild&&t.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),Vh=!Eo&&function(){try{var t=document.createElement("div");t.innerHTML='<v:shape adj="1"/>';var n=t.firstChild;return n.style.behavior="url(#default#VML)",n&&typeof n.adj=="object"}catch{return!1}}(),Bh=navigator.platform.indexOf("Mac")===0,jh=navigator.platform.indexOf("Linux")===0;function oe(t){return navigator.userAgent.toLowerCase().indexOf(t)>=0}var E={ie:tr,ielt9:Ph,edge:Da,webkit:So,android:Ra,android23:ka,androidStock:xh,opera:xo,chrome:Na,gecko:Fa,safari:Th,phantom:za,opera12:Va,win:Eh,ie3d:Ba,webkit3d:To,gecko3d:ja,any3d:Ih,mobile:Gn,mobileWebkit:Oh,mobileWebkit3d:Lh,msPointer:Ua,pointer:Za,touch:Ah,touchNative:$a,mobileOpera:Dh,mobileGecko:Rh,retina:kh,passiveEvents:Nh,canvas:Fh,svg:Eo,vml:Vh,inlineSvg:zh,mac:Bh,linux:jh},Ha=E.msPointer?"MSPointerDown":"pointerdown",Wa=E.msPointer?"MSPointerMove":"pointermove",Ga=E.msPointer?"MSPointerUp":"pointerup",qa=E.msPointer?"MSPointerCancel":"pointercancel",Io={touchstart:Ha,touchmove:Wa,touchend:Ga,touchcancel:qa},Ka={touchstart:Gh,touchmove:er,touchend:er,touchcancel:er},hn={},Ya=!1;function Uh(t,n,s){return n==="touchstart"&&Wh(),Ka[n]?(s=Ka[n].bind(this,s),t.addEventListener(Io[n],s,!1),s):(console.warn("wrong event specified:",n),m)}function Zh(t,n,s){if(!Io[n]){console.warn("wrong event specified:",n);return}t.removeEventListener(Io[n],s,!1)}function $h(t){hn[t.pointerId]=t}function Hh(t){hn[t.pointerId]&&(hn[t.pointerId]=t)}function Xa(t){delete hn[t.pointerId]}function Wh(){Ya||(document.addEventListener(Ha,$h,!0),document.addEventListener(Wa,Hh,!0),document.addEventListener(Ga,Xa,!0),document.addEventListener(qa,Xa,!0),Ya=!0)}function er(t,n){if(n.pointerType!==(n.MSPOINTER_TYPE_MOUSE||"mouse")){n.touches=[];for(var s in hn)n.touches.push(hn[s]);n.changedTouches=[n],t(n)}}function Gh(t,n){n.MSPOINTER_TYPE_TOUCH&&n.pointerType===n.MSPOINTER_TYPE_TOUCH&&bt(n),er(t,n)}function qh(t){var n={},s,l;for(l in t)s=t[l],n[l]=s&&s.bind?s.bind(t):s;return t=n,n.type="dblclick",n.detail=2,n.isTrusted=!1,n._simulated=!0,n}var Kh=200;function Yh(t,n){t.addEventListener("dblclick",n);var s=0,l;function c(d){if(d.detail!==1){l=d.detail;return}if(!(d.pointerType==="mouse"||d.sourceCapabilities&&!d.sourceCapabilities.firesTouchEvents)){var p=nl(d);if(!(p.some(function(_){return _ instanceof HTMLLabelElement&&_.attributes.for})&&!p.some(function(_){return _ instanceof HTMLInputElement||_ instanceof HTMLSelectElement}))){var g=Date.now();g-s<=Kh?(l++,l===2&&n(qh(d))):l=1,s=g}}}return t.addEventListener("click",c),{dblclick:n,simDblclick:c}}function Xh(t,n){t.removeEventListener("dblclick",n.dblclick),t.removeEventListener("click",n.simDblclick)}var Oo=rr(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),qn=rr(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Ja=qn==="webkitTransition"||qn==="OTransition"?qn+"End":"transitionend";function Qa(t){return typeof t=="string"?document.getElementById(t):t}function Kn(t,n){var s=t.style[n]||t.currentStyle&&t.currentStyle[n];if((!s||s==="auto")&&document.defaultView){var l=document.defaultView.getComputedStyle(t,null);s=l?l[n]:null}return s==="auto"?null:s}function K(t,n,s){var l=document.createElement(t);return l.className=n||"",s&&s.appendChild(l),l}function at(t){var n=t.parentNode;n&&n.removeChild(t)}function nr(t){for(;t.firstChild;)t.removeChild(t.firstChild)}function dn(t){var n=t.parentNode;n&&n.lastChild!==t&&n.appendChild(t)}function fn(t){var n=t.parentNode;n&&n.firstChild!==t&&n.insertBefore(t,n.firstChild)}function Lo(t,n){if(t.classList!==void 0)return t.classList.contains(n);var s=ir(t);return s.length>0&&new RegExp("(^|\\s)"+n+"(\\s|$)").test(s)}function B(t,n){if(t.classList!==void 0)for(var s=x(n),l=0,c=s.length;l<c;l++)t.classList.add(s[l]);else if(!Lo(t,n)){var d=ir(t);Ao(t,(d?d+" ":"")+n)}}function lt(t,n){t.classList!==void 0?t.classList.remove(n):Ao(t,A((" "+ir(t)+" ").replace(" "+n+" "," ")))}function Ao(t,n){t.className.baseVal===void 0?t.className=n:t.className.baseVal=n}function ir(t){return t.correspondingElement&&(t=t.correspondingElement),t.className.baseVal===void 0?t.className:t.className.baseVal}function Ut(t,n){"opacity"in t.style?t.style.opacity=n:"filter"in t.style&&Jh(t,n)}function Jh(t,n){var s=!1,l="DXImageTransform.Microsoft.Alpha";try{s=t.filters.item(l)}catch{if(n===1)return}n=Math.round(n*100),s?(s.Enabled=n!==100,s.Opacity=n):t.style.filter+=" progid:"+l+"(opacity="+n+")"}function rr(t){for(var n=document.documentElement.style,s=0;s<t.length;s++)if(t[s]in n)return t[s];return!1}function qe(t,n,s){var l=n||new N(0,0);t.style[Oo]=(E.ie3d?"translate("+l.x+"px,"+l.y+"px)":"translate3d("+l.x+"px,"+l.y+"px,0)")+(s?" scale("+s+")":"")}function dt(t,n){t._leaflet_pos=n,E.any3d?qe(t,n):(t.style.left=n.x+"px",t.style.top=n.y+"px")}function Ke(t){return t._leaflet_pos||new N(0,0)}var Yn,Xn,Do;if("onselectstart"in document)Yn=function(){F(window,"selectstart",bt)},Xn=function(){it(window,"selectstart",bt)};else{var Jn=rr(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Yn=function(){if(Jn){var t=document.documentElement.style;Do=t[Jn],t[Jn]="none"}},Xn=function(){Jn&&(document.documentElement.style[Jn]=Do,Do=void 0)}}function Ro(){F(window,"dragstart",bt)}function ko(){it(window,"dragstart",bt)}var or,No;function Fo(t){for(;t.tabIndex===-1;)t=t.parentNode;t.style&&(sr(),or=t,No=t.style.outlineStyle,t.style.outlineStyle="none",F(window,"keydown",sr))}function sr(){or&&(or.style.outlineStyle=No,or=void 0,No=void 0,it(window,"keydown",sr))}function tl(t){do t=t.parentNode;while((!t.offsetWidth||!t.offsetHeight)&&t!==document.body);return t}function zo(t){var n=t.getBoundingClientRect();return{x:n.width/t.offsetWidth||1,y:n.height/t.offsetHeight||1,boundingClientRect:n}}var Qh={__proto__:null,TRANSFORM:Oo,TRANSITION:qn,TRANSITION_END:Ja,get:Qa,getStyle:Kn,create:K,remove:at,empty:nr,toFront:dn,toBack:fn,hasClass:Lo,addClass:B,removeClass:lt,setClass:Ao,getClass:ir,setOpacity:Ut,testProp:rr,setTransform:qe,setPosition:dt,getPosition:Ke,get disableTextSelection(){return Yn},get enableTextSelection(){return Xn},disableImageDrag:Ro,enableImageDrag:ko,preventOutline:Fo,restoreOutline:sr,getSizedParentNode:tl,getScale:zo};function F(t,n,s,l){if(n&&typeof n=="object")for(var c in n)Bo(t,c,n[c],s);else{n=x(n);for(var d=0,p=n.length;d<p;d++)Bo(t,n[d],s,l)}return this}var se="_leaflet_events";function it(t,n,s,l){if(arguments.length===1)el(t),delete t[se];else if(n&&typeof n=="object")for(var c in n)jo(t,c,n[c],s);else if(n=x(n),arguments.length===2)el(t,function(g){return Bt(n,g)!==-1});else for(var d=0,p=n.length;d<p;d++)jo(t,n[d],s,l);return this}function el(t,n){for(var s in t[se]){var l=s.split(/\d/)[0];(!n||n(l))&&jo(t,l,null,null,s)}}var Vo={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Bo(t,n,s,l){var c=n+h(s)+(l?"_"+h(l):"");if(t[se]&&t[se][c])return this;var d=function(g){return s.call(l||t,g||window.event)},p=d;!E.touchNative&&E.pointer&&n.indexOf("touch")===0?d=Uh(t,n,d):E.touch&&n==="dblclick"?d=Yh(t,d):"addEventListener"in t?n==="touchstart"||n==="touchmove"||n==="wheel"||n==="mousewheel"?t.addEventListener(Vo[n]||n,d,E.passiveEvents?{passive:!1}:!1):n==="mouseenter"||n==="mouseleave"?(d=function(g){g=g||window.event,Zo(t,g)&&p(g)},t.addEventListener(Vo[n],d,!1)):t.addEventListener(n,p,!1):t.attachEvent("on"+n,d),t[se]=t[se]||{},t[se][c]=d}function jo(t,n,s,l,c){c=c||n+h(s)+(l?"_"+h(l):"");var d=t[se]&&t[se][c];if(!d)return this;!E.touchNative&&E.pointer&&n.indexOf("touch")===0?Zh(t,n,d):E.touch&&n==="dblclick"?Xh(t,d):"removeEventListener"in t?t.removeEventListener(Vo[n]||n,d,!1):t.detachEvent("on"+n,d),t[se][c]=null}function Ye(t){return t.stopPropagation?t.stopPropagation():t.originalEvent?t.originalEvent._stopped=!0:t.cancelBubble=!0,this}function Uo(t){return Bo(t,"wheel",Ye),this}function Qn(t){return F(t,"mousedown touchstart dblclick contextmenu",Ye),t._leaflet_disable_click=!0,this}function bt(t){return t.preventDefault?t.preventDefault():t.returnValue=!1,this}function Xe(t){return bt(t),Ye(t),this}function nl(t){if(t.composedPath)return t.composedPath();for(var n=[],s=t.target;s;)n.push(s),s=s.parentNode;return n}function il(t,n){if(!n)return new N(t.clientX,t.clientY);var s=zo(n),l=s.boundingClientRect;return new N((t.clientX-l.left)/s.x-n.clientLeft,(t.clientY-l.top)/s.y-n.clientTop)}var td=E.linux&&E.chrome?window.devicePixelRatio:E.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function rl(t){return E.edge?t.wheelDeltaY/2:t.deltaY&&t.deltaMode===0?-t.deltaY/td:t.deltaY&&t.deltaMode===1?-t.deltaY*20:t.deltaY&&t.deltaMode===2?-t.deltaY*60:t.deltaX||t.deltaZ?0:t.wheelDelta?(t.wheelDeltaY||t.wheelDelta)/2:t.detail&&Math.abs(t.detail)<32765?-t.detail*20:t.detail?t.detail/-32765*60:0}function Zo(t,n){var s=n.relatedTarget;if(!s)return!0;try{for(;s&&s!==t;)s=s.parentNode}catch{return!1}return s!==t}var ed={__proto__:null,on:F,off:it,stopPropagation:Ye,disableScrollPropagation:Uo,disableClickPropagation:Qn,preventDefault:bt,stop:Xe,getPropagationPath:nl,getMousePosition:il,getWheelDelta:rl,isExternalTarget:Zo,addListener:F,removeListener:it},ol=Hn.extend({run:function(t,n,s,l){this.stop(),this._el=t,this._inProgress=!0,this._duration=s||.25,this._easeOutPower=1/Math.max(l||.5,.2),this._startPos=Ke(t),this._offset=n.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=Ot(this._animate,this),this._step()},_step:function(t){var n=+new Date-this._startTime,s=this._duration*1e3;n<s?this._runFrame(this._easeOut(n/s),t):(this._runFrame(1),this._complete())},_runFrame:function(t,n){var s=this._startPos.add(this._offset.multiplyBy(t));n&&s._round(),dt(this._el,s),this.fire("step")},_complete:function(){jt(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(t){return 1-Math.pow(1-t,this._easeOutPower)}}),G=Hn.extend({options:{crs:Mo,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(t,n){n=I(this,n),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(t),this._initLayout(),this._onResize=o(this._onResize,this),this._initEvents(),n.maxBounds&&this.setMaxBounds(n.maxBounds),n.zoom!==void 0&&(this._zoom=this._limitZoom(n.zoom)),n.center&&n.zoom!==void 0&&this.setView(W(n.center),n.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=qn&&E.any3d&&!E.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),F(this._proxy,Ja,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(t,n,s){if(n=n===void 0?this._zoom:this._limitZoom(n),t=this._limitCenter(W(t),n,this.options.maxBounds),s=s||{},this._stop(),this._loaded&&!s.reset&&s!==!0){s.animate!==void 0&&(s.zoom=a({animate:s.animate},s.zoom),s.pan=a({animate:s.animate,duration:s.duration},s.pan));var l=this._zoom!==n?this._tryAnimatedZoom&&this._tryAnimatedZoom(t,n,s.zoom):this._tryAnimatedPan(t,s.pan);if(l)return clearTimeout(this._sizeTimer),this}return this._resetView(t,n,s.pan&&s.pan.noMoveStart),this},setZoom:function(t,n){return this._loaded?this.setView(this.getCenter(),t,{zoom:n}):(this._zoom=t,this)},zoomIn:function(t,n){return t=t||(E.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+t,n)},zoomOut:function(t,n){return t=t||(E.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-t,n)},setZoomAround:function(t,n,s){var l=this.getZoomScale(n),c=this.getSize().divideBy(2),d=t instanceof N?t:this.latLngToContainerPoint(t),p=d.subtract(c).multiplyBy(1-1/l),g=this.containerPointToLatLng(c.add(p));return this.setView(g,n,{zoom:s})},_getBoundsCenterZoom:function(t,n){n=n||{},t=t.getBounds?t.getBounds():ht(t);var s=k(n.paddingTopLeft||n.padding||[0,0]),l=k(n.paddingBottomRight||n.padding||[0,0]),c=this.getBoundsZoom(t,!1,s.add(l));if(c=typeof n.maxZoom=="number"?Math.min(n.maxZoom,c):c,c===1/0)return{center:t.getCenter(),zoom:c};var d=l.subtract(s).divideBy(2),p=this.project(t.getSouthWest(),c),g=this.project(t.getNorthEast(),c),_=this.unproject(p.add(g).divideBy(2).add(d),c);return{center:_,zoom:c}},fitBounds:function(t,n){if(t=ht(t),!t.isValid())throw new Error("Bounds are not valid.");var s=this._getBoundsCenterZoom(t,n);return this.setView(s.center,s.zoom,n)},fitWorld:function(t){return this.fitBounds([[-90,-180],[90,180]],t)},panTo:function(t,n){return this.setView(t,this._zoom,{pan:n})},panBy:function(t,n){if(t=k(t).round(),n=n||{},!t.x&&!t.y)return this.fire("moveend");if(n.animate!==!0&&!this.getSize().contains(t))return this._resetView(this.unproject(this.project(this.getCenter()).add(t)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new ol,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),n.noMoveStart||this.fire("movestart"),n.animate!==!1){B(this._mapPane,"leaflet-pan-anim");var s=this._getMapPanePos().subtract(t).round();this._panAnim.run(this._mapPane,s,n.duration||.25,n.easeLinearity)}else this._rawPanBy(t),this.fire("move").fire("moveend");return this},flyTo:function(t,n,s){if(s=s||{},s.animate===!1||!E.any3d)return this.setView(t,n,s);this._stop();var l=this.project(this.getCenter()),c=this.project(t),d=this.getSize(),p=this._zoom;t=W(t),n=n===void 0?p:n;var g=Math.max(d.x,d.y),_=g*this.getZoomScale(p,n),y=c.distanceTo(l)||1,M=1.42,D=M*M;function Z(ft){var _r=ft?-1:1,Zd=ft?_:g,$d=_*_-g*g+_r*D*D*y*y,Hd=2*Zd*D*y,ts=$d/Hd,Vl=Math.sqrt(ts*ts+1)-ts,Wd=Vl<1e-9?-18:Math.log(Vl);return Wd}function xt(ft){return(Math.exp(ft)-Math.exp(-ft))/2}function vt(ft){return(Math.exp(ft)+Math.exp(-ft))/2}function $t(ft){return xt(ft)/vt(ft)}var Dt=Z(0);function yn(ft){return g*(vt(Dt)/vt(Dt+M*ft))}function Vd(ft){return g*(vt(Dt)*$t(Dt+M*ft)-xt(Dt))/D}function Bd(ft){return 1-Math.pow(1-ft,1.5)}var jd=Date.now(),Fl=(Z(1)-Dt)/M,Ud=s.duration?1e3*s.duration:1e3*Fl*.8;function zl(){var ft=(Date.now()-jd)/Ud,_r=Bd(ft)*Fl;ft<=1?(this._flyToFrame=Ot(zl,this),this._move(this.unproject(l.add(c.subtract(l).multiplyBy(Vd(_r)/y)),p),this.getScaleZoom(g/yn(_r),p),{flyTo:!0})):this._move(t,n)._moveEnd(!0)}return this._moveStart(!0,s.noMoveStart),zl.call(this),this},flyToBounds:function(t,n){var s=this._getBoundsCenterZoom(t,n);return this.flyTo(s.center,s.zoom,n)},setMaxBounds:function(t){return t=ht(t),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),t.isValid()?(this.options.maxBounds=t,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(t){var n=this.options.minZoom;return this.options.minZoom=t,this._loaded&&n!==t&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(t):this},setMaxZoom:function(t){var n=this.options.maxZoom;return this.options.maxZoom=t,this._loaded&&n!==t&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(t):this},panInsideBounds:function(t,n){this._enforcingBounds=!0;var s=this.getCenter(),l=this._limitCenter(s,this._zoom,ht(t));return s.equals(l)||this.panTo(l,n),this._enforcingBounds=!1,this},panInside:function(t,n){n=n||{};var s=k(n.paddingTopLeft||n.padding||[0,0]),l=k(n.paddingBottomRight||n.padding||[0,0]),c=this.project(this.getCenter()),d=this.project(t),p=this.getPixelBounds(),g=Lt([p.min.add(s),p.max.subtract(l)]),_=g.getSize();if(!g.contains(d)){this._enforcingBounds=!0;var y=d.subtract(g.getCenter()),M=g.extend(d).getSize().subtract(_);c.x+=y.x<0?-M.x:M.x,c.y+=y.y<0?-M.y:M.y,this.panTo(this.unproject(c),n),this._enforcingBounds=!1}return this},invalidateSize:function(t){if(!this._loaded)return this;t=a({animate:!1,pan:!0},t===!0?{animate:!0}:t);var n=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var s=this.getSize(),l=n.divideBy(2).round(),c=s.divideBy(2).round(),d=l.subtract(c);return!d.x&&!d.y?this:(t.animate&&t.pan?this.panBy(d):(t.pan&&this._rawPanBy(d),this.fire("move"),t.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(o(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:n,newSize:s}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(t){if(t=this._locateOptions=a({timeout:1e4,watch:!1},t),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var n=o(this._handleGeolocationResponse,this),s=o(this._handleGeolocationError,this);return t.watch?this._locationWatchId=navigator.geolocation.watchPosition(n,s,t):navigator.geolocation.getCurrentPosition(n,s,t),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(t){if(this._container._leaflet_id){var n=t.code,s=t.message||(n===1?"permission denied":n===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:n,message:"Geolocation error: "+s+"."})}},_handleGeolocationResponse:function(t){if(this._container._leaflet_id){var n=t.coords.latitude,s=t.coords.longitude,l=new tt(n,s),c=l.toBounds(t.coords.accuracy*2),d=this._locateOptions;if(d.setView){var p=this.getBoundsZoom(c);this.setView(l,d.maxZoom?Math.min(p,d.maxZoom):p)}var g={latlng:l,bounds:c,timestamp:t.timestamp};for(var _ in t.coords)typeof t.coords[_]=="number"&&(g[_]=t.coords[_]);this.fire("locationfound",g)}},addHandler:function(t,n){if(!n)return this;var s=this[t]=new n(this);return this._handlers.push(s),this.options[t]&&s.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),at(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(jt(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var t;for(t in this._layers)this._layers[t].remove();for(t in this._panes)at(this._panes[t]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(t,n){var s="leaflet-pane"+(t?" leaflet-"+t.replace("Pane","")+"-pane":""),l=K("div",s,n||this._mapPane);return t&&(this._panes[t]=l),l},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var t=this.getPixelBounds(),n=this.unproject(t.getBottomLeft()),s=this.unproject(t.getTopRight());return new At(n,s)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(t,n,s){t=ht(t),s=k(s||[0,0]);var l=this.getZoom()||0,c=this.getMinZoom(),d=this.getMaxZoom(),p=t.getNorthWest(),g=t.getSouthEast(),_=this.getSize().subtract(s),y=Lt(this.project(g,l),this.project(p,l)).getSize(),M=E.any3d?this.options.zoomSnap:1,D=_.x/y.x,Z=_.y/y.y,xt=n?Math.max(D,Z):Math.min(D,Z);return l=this.getScaleZoom(xt,l),M&&(l=Math.round(l/(M/100))*(M/100),l=n?Math.ceil(l/M)*M:Math.floor(l/M)*M),Math.max(c,Math.min(d,l))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new N(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(t,n){var s=this._getTopLeftPoint(t,n);return new st(s,s.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(t){return this.options.crs.getProjectedBounds(t===void 0?this.getZoom():t)},getPane:function(t){return typeof t=="string"?this._panes[t]:t},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(t,n){var s=this.options.crs;return n=n===void 0?this._zoom:n,s.scale(t)/s.scale(n)},getScaleZoom:function(t,n){var s=this.options.crs;n=n===void 0?this._zoom:n;var l=s.zoom(t*s.scale(n));return isNaN(l)?1/0:l},project:function(t,n){return n=n===void 0?this._zoom:n,this.options.crs.latLngToPoint(W(t),n)},unproject:function(t,n){return n=n===void 0?this._zoom:n,this.options.crs.pointToLatLng(k(t),n)},layerPointToLatLng:function(t){var n=k(t).add(this.getPixelOrigin());return this.unproject(n)},latLngToLayerPoint:function(t){var n=this.project(W(t))._round();return n._subtract(this.getPixelOrigin())},wrapLatLng:function(t){return this.options.crs.wrapLatLng(W(t))},wrapLatLngBounds:function(t){return this.options.crs.wrapLatLngBounds(ht(t))},distance:function(t,n){return this.options.crs.distance(W(t),W(n))},containerPointToLayerPoint:function(t){return k(t).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(t){return k(t).add(this._getMapPanePos())},containerPointToLatLng:function(t){var n=this.containerPointToLayerPoint(k(t));return this.layerPointToLatLng(n)},latLngToContainerPoint:function(t){return this.layerPointToContainerPoint(this.latLngToLayerPoint(W(t)))},mouseEventToContainerPoint:function(t){return il(t,this._container)},mouseEventToLayerPoint:function(t){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(t))},mouseEventToLatLng:function(t){return this.layerPointToLatLng(this.mouseEventToLayerPoint(t))},_initContainer:function(t){var n=this._container=Qa(t);if(n){if(n._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");F(n,"scroll",this._onScroll,this),this._containerId=h(n)},_initLayout:function(){var t=this._container;this._fadeAnimated=this.options.fadeAnimation&&E.any3d,B(t,"leaflet-container"+(E.touch?" leaflet-touch":"")+(E.retina?" leaflet-retina":"")+(E.ielt9?" leaflet-oldie":"")+(E.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var n=Kn(t,"position");n!=="absolute"&&n!=="relative"&&n!=="fixed"&&n!=="sticky"&&(t.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var t=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),dt(this._mapPane,new N(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(B(t.markerPane,"leaflet-zoom-hide"),B(t.shadowPane,"leaflet-zoom-hide"))},_resetView:function(t,n,s){dt(this._mapPane,new N(0,0));var l=!this._loaded;this._loaded=!0,n=this._limitZoom(n),this.fire("viewprereset");var c=this._zoom!==n;this._moveStart(c,s)._move(t,n)._moveEnd(c),this.fire("viewreset"),l&&this.fire("load")},_moveStart:function(t,n){return t&&this.fire("zoomstart"),n||this.fire("movestart"),this},_move:function(t,n,s,l){n===void 0&&(n=this._zoom);var c=this._zoom!==n;return this._zoom=n,this._lastCenter=t,this._pixelOrigin=this._getNewPixelOrigin(t),l?s&&s.pinch&&this.fire("zoom",s):((c||s&&s.pinch)&&this.fire("zoom",s),this.fire("move",s)),this},_moveEnd:function(t){return t&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return jt(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(t){dt(this._mapPane,this._getMapPanePos().subtract(t))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(t){this._targets={},this._targets[h(this._container)]=this;var n=t?it:F;n(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&n(window,"resize",this._onResize,this),E.any3d&&this.options.transform3DLimit&&(t?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){jt(this._resizeRequest),this._resizeRequest=Ot(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var t=this._getMapPanePos();Math.max(Math.abs(t.x),Math.abs(t.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(t,n){for(var s=[],l,c=n==="mouseout"||n==="mouseover",d=t.target||t.srcElement,p=!1;d;){if(l=this._targets[h(d)],l&&(n==="click"||n==="preclick")&&this._draggableMoved(l)){p=!0;break}if(l&&l.listens(n,!0)&&(c&&!Zo(d,t)||(s.push(l),c))||d===this._container)break;d=d.parentNode}return!s.length&&!p&&!c&&this.listens(n,!0)&&(s=[this]),s},_isClickDisabled:function(t){for(;t&&t!==this._container;){if(t._leaflet_disable_click)return!0;t=t.parentNode}},_handleDOMEvent:function(t){var n=t.target||t.srcElement;if(!(!this._loaded||n._leaflet_disable_events||t.type==="click"&&this._isClickDisabled(n))){var s=t.type;s==="mousedown"&&Fo(n),this._fireDOMEvent(t,s)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(t,n,s){if(t.type==="click"){var l=a({},t);l.type="preclick",this._fireDOMEvent(l,l.type,s)}var c=this._findEventTargets(t,n);if(s){for(var d=[],p=0;p<s.length;p++)s[p].listens(n,!0)&&d.push(s[p]);c=d.concat(c)}if(c.length){n==="contextmenu"&&bt(t);var g=c[0],_={originalEvent:t};if(t.type!=="keypress"&&t.type!=="keydown"&&t.type!=="keyup"){var y=g.getLatLng&&(!g._radius||g._radius<=10);_.containerPoint=y?this.latLngToContainerPoint(g.getLatLng()):this.mouseEventToContainerPoint(t),_.layerPoint=this.containerPointToLayerPoint(_.containerPoint),_.latlng=y?g.getLatLng():this.layerPointToLatLng(_.layerPoint)}for(p=0;p<c.length;p++)if(c[p].fire(n,_,!0),_.originalEvent._stopped||c[p].options.bubblingMouseEvents===!1&&Bt(this._mouseEvents,n)!==-1)return}},_draggableMoved:function(t){return t=t.dragging&&t.dragging.enabled()?t:this,t.dragging&&t.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var t=0,n=this._handlers.length;t<n;t++)this._handlers[t].disable()},whenReady:function(t,n){return this._loaded?t.call(n||this,{target:this}):this.on("load",t,n),this},_getMapPanePos:function(){return Ke(this._mapPane)||new N(0,0)},_moved:function(){var t=this._getMapPanePos();return t&&!t.equals([0,0])},_getTopLeftPoint:function(t,n){var s=t&&n!==void 0?this._getNewPixelOrigin(t,n):this.getPixelOrigin();return s.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(t,n){var s=this.getSize()._divideBy(2);return this.project(t,n)._subtract(s)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(t,n,s){var l=this._getNewPixelOrigin(s,n);return this.project(t,n)._subtract(l)},_latLngBoundsToNewLayerBounds:function(t,n,s){var l=this._getNewPixelOrigin(s,n);return Lt([this.project(t.getSouthWest(),n)._subtract(l),this.project(t.getNorthWest(),n)._subtract(l),this.project(t.getSouthEast(),n)._subtract(l),this.project(t.getNorthEast(),n)._subtract(l)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(t){return this.latLngToLayerPoint(t).subtract(this._getCenterLayerPoint())},_limitCenter:function(t,n,s){if(!s)return t;var l=this.project(t,n),c=this.getSize().divideBy(2),d=new st(l.subtract(c),l.add(c)),p=this._getBoundsOffset(d,s,n);return Math.abs(p.x)<=1&&Math.abs(p.y)<=1?t:this.unproject(l.add(p),n)},_limitOffset:function(t,n){if(!n)return t;var s=this.getPixelBounds(),l=new st(s.min.add(t),s.max.add(t));return t.add(this._getBoundsOffset(l,n))},_getBoundsOffset:function(t,n,s){var l=Lt(this.project(n.getNorthEast(),s),this.project(n.getSouthWest(),s)),c=l.min.subtract(t.min),d=l.max.subtract(t.max),p=this._rebound(c.x,-d.x),g=this._rebound(c.y,-d.y);return new N(p,g)},_rebound:function(t,n){return t+n>0?Math.round(t-n)/2:Math.max(0,Math.ceil(t))-Math.max(0,Math.floor(n))},_limitZoom:function(t){var n=this.getMinZoom(),s=this.getMaxZoom(),l=E.any3d?this.options.zoomSnap:1;return l&&(t=Math.round(t/l)*l),Math.max(n,Math.min(s,t))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){lt(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(t,n){var s=this._getCenterOffset(t)._trunc();return(n&&n.animate)!==!0&&!this.getSize().contains(s)?!1:(this.panBy(s,n),!0)},_createAnimProxy:function(){var t=this._proxy=K("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(t),this.on("zoomanim",function(n){var s=Oo,l=this._proxy.style[s];qe(this._proxy,this.project(n.center,n.zoom),this.getZoomScale(n.zoom,1)),l===this._proxy.style[s]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){at(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var t=this.getCenter(),n=this.getZoom();qe(this._proxy,this.project(t,n),this.getZoomScale(n,1))},_catchTransitionEnd:function(t){this._animatingZoom&&t.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(t,n,s){if(this._animatingZoom)return!0;if(s=s||{},!this._zoomAnimated||s.animate===!1||this._nothingToAnimate()||Math.abs(n-this._zoom)>this.options.zoomAnimationThreshold)return!1;var l=this.getZoomScale(n),c=this._getCenterOffset(t)._divideBy(1-1/l);return s.animate!==!0&&!this.getSize().contains(c)?!1:(Ot(function(){this._moveStart(!0,s.noMoveStart||!1)._animateZoom(t,n,!0)},this),!0)},_animateZoom:function(t,n,s,l){this._mapPane&&(s&&(this._animatingZoom=!0,this._animateToCenter=t,this._animateToZoom=n,B(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:t,zoom:n,noUpdate:l}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(o(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&lt(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function nd(t,n){return new G(t,n)}var Qt=de.extend({options:{position:"topright"},initialize:function(t){I(this,t)},getPosition:function(){return this.options.position},setPosition:function(t){var n=this._map;return n&&n.removeControl(this),this.options.position=t,n&&n.addControl(this),this},getContainer:function(){return this._container},addTo:function(t){this.remove(),this._map=t;var n=this._container=this.onAdd(t),s=this.getPosition(),l=t._controlCorners[s];return B(n,"leaflet-control"),s.indexOf("bottom")!==-1?l.insertBefore(n,l.firstChild):l.appendChild(n),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(at(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(t){this._map&&t&&t.screenX>0&&t.screenY>0&&this._map.getContainer().focus()}}),ti=function(t){return new Qt(t)};G.include({addControl:function(t){return t.addTo(this),this},removeControl:function(t){return t.remove(),this},_initControlPos:function(){var t=this._controlCorners={},n="leaflet-",s=this._controlContainer=K("div",n+"control-container",this._container);function l(c,d){var p=n+c+" "+n+d;t[c+d]=K("div",p,s)}l("top","left"),l("top","right"),l("bottom","left"),l("bottom","right")},_clearControlPos:function(){for(var t in this._controlCorners)at(this._controlCorners[t]);at(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var sl=Qt.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(t,n,s,l){return s<l?-1:l<s?1:0}},initialize:function(t,n,s){I(this,s),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var l in t)this._addLayer(t[l],l);for(l in n)this._addLayer(n[l],l,!0)},onAdd:function(t){this._initLayout(),this._update(),this._map=t,t.on("zoomend",this._checkDisabledLayers,this);for(var n=0;n<this._layers.length;n++)this._layers[n].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(t){return Qt.prototype.addTo.call(this,t),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var t=0;t<this._layers.length;t++)this._layers[t].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(t,n){return this._addLayer(t,n),this._map?this._update():this},addOverlay:function(t,n){return this._addLayer(t,n,!0),this._map?this._update():this},removeLayer:function(t){t.off("add remove",this._onLayerChange,this);var n=this._getLayer(h(t));return n&&this._layers.splice(this._layers.indexOf(n),1),this._map?this._update():this},expand:function(){B(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var t=this._map.getSize().y-(this._container.offsetTop+50);return t<this._section.clientHeight?(B(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=t+"px"):lt(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return lt(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var t="leaflet-control-layers",n=this._container=K("div",t),s=this.options.collapsed;n.setAttribute("aria-haspopup",!0),Qn(n),Uo(n);var l=this._section=K("section",t+"-list");s&&(this._map.on("click",this.collapse,this),F(n,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var c=this._layersLink=K("a",t+"-toggle",n);c.href="#",c.title="Layers",c.setAttribute("role","button"),F(c,{keydown:function(d){d.keyCode===13&&this._expandSafely()},click:function(d){bt(d),this._expandSafely()}},this),s||this.expand(),this._baseLayersList=K("div",t+"-base",l),this._separator=K("div",t+"-separator",l),this._overlaysList=K("div",t+"-overlays",l),n.appendChild(l)},_getLayer:function(t){for(var n=0;n<this._layers.length;n++)if(this._layers[n]&&h(this._layers[n].layer)===t)return this._layers[n]},_addLayer:function(t,n,s){this._map&&t.on("add remove",this._onLayerChange,this),this._layers.push({layer:t,name:n,overlay:s}),this.options.sortLayers&&this._layers.sort(o(function(l,c){return this.options.sortFunction(l.layer,c.layer,l.name,c.name)},this)),this.options.autoZIndex&&t.setZIndex&&(this._lastZIndex++,t.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;nr(this._baseLayersList),nr(this._overlaysList),this._layerControlInputs=[];var t,n,s,l,c=0;for(s=0;s<this._layers.length;s++)l=this._layers[s],this._addItem(l),n=n||l.overlay,t=t||!l.overlay,c+=l.overlay?0:1;return this.options.hideSingleBase&&(t=t&&c>1,this._baseLayersList.style.display=t?"":"none"),this._separator.style.display=n&&t?"":"none",this},_onLayerChange:function(t){this._handlingClick||this._update();var n=this._getLayer(h(t.target)),s=n.overlay?t.type==="add"?"overlayadd":"overlayremove":t.type==="add"?"baselayerchange":null;s&&this._map.fire(s,n)},_createRadioElement:function(t,n){var s='<input type="radio" class="leaflet-control-layers-selector" name="'+t+'"'+(n?' checked="checked"':"")+"/>",l=document.createElement("div");return l.innerHTML=s,l.firstChild},_addItem:function(t){var n=document.createElement("label"),s=this._map.hasLayer(t.layer),l;t.overlay?(l=document.createElement("input"),l.type="checkbox",l.className="leaflet-control-layers-selector",l.defaultChecked=s):l=this._createRadioElement("leaflet-base-layers_"+h(this),s),this._layerControlInputs.push(l),l.layerId=h(t.layer),F(l,"click",this._onInputClick,this);var c=document.createElement("span");c.innerHTML=" "+t.name;var d=document.createElement("span");n.appendChild(d),d.appendChild(l),d.appendChild(c);var p=t.overlay?this._overlaysList:this._baseLayersList;return p.appendChild(n),this._checkDisabledLayers(),n},_onInputClick:function(){if(!this._preventClick){var t=this._layerControlInputs,n,s,l=[],c=[];this._handlingClick=!0;for(var d=t.length-1;d>=0;d--)n=t[d],s=this._getLayer(n.layerId).layer,n.checked?l.push(s):n.checked||c.push(s);for(d=0;d<c.length;d++)this._map.hasLayer(c[d])&&this._map.removeLayer(c[d]);for(d=0;d<l.length;d++)this._map.hasLayer(l[d])||this._map.addLayer(l[d]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var t=this._layerControlInputs,n,s,l=this._map.getZoom(),c=t.length-1;c>=0;c--)n=t[c],s=this._getLayer(n.layerId).layer,n.disabled=s.options.minZoom!==void 0&&l<s.options.minZoom||s.options.maxZoom!==void 0&&l>s.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var t=this._section;this._preventClick=!0,F(t,"click",bt),this.expand();var n=this;setTimeout(function(){it(t,"click",bt),n._preventClick=!1})}}),id=function(t,n,s){return new sl(t,n,s)},$o=Qt.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(t){var n="leaflet-control-zoom",s=K("div",n+" leaflet-bar"),l=this.options;return this._zoomInButton=this._createButton(l.zoomInText,l.zoomInTitle,n+"-in",s,this._zoomIn),this._zoomOutButton=this._createButton(l.zoomOutText,l.zoomOutTitle,n+"-out",s,this._zoomOut),this._updateDisabled(),t.on("zoomend zoomlevelschange",this._updateDisabled,this),s},onRemove:function(t){t.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(t){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(t.shiftKey?3:1))},_zoomOut:function(t){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(t.shiftKey?3:1))},_createButton:function(t,n,s,l,c){var d=K("a",s,l);return d.innerHTML=t,d.href="#",d.title=n,d.setAttribute("role","button"),d.setAttribute("aria-label",n),Qn(d),F(d,"click",Xe),F(d,"click",c,this),F(d,"click",this._refocusOnMap,this),d},_updateDisabled:function(){var t=this._map,n="leaflet-disabled";lt(this._zoomInButton,n),lt(this._zoomOutButton,n),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||t._zoom===t.getMinZoom())&&(B(this._zoomOutButton,n),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||t._zoom===t.getMaxZoom())&&(B(this._zoomInButton,n),this._zoomInButton.setAttribute("aria-disabled","true"))}});G.mergeOptions({zoomControl:!0}),G.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new $o,this.addControl(this.zoomControl))});var rd=function(t){return new $o(t)},al=Qt.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(t){var n="leaflet-control-scale",s=K("div",n),l=this.options;return this._addScales(l,n+"-line",s),t.on(l.updateWhenIdle?"moveend":"move",this._update,this),t.whenReady(this._update,this),s},onRemove:function(t){t.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(t,n,s){t.metric&&(this._mScale=K("div",n,s)),t.imperial&&(this._iScale=K("div",n,s))},_update:function(){var t=this._map,n=t.getSize().y/2,s=t.distance(t.containerPointToLatLng([0,n]),t.containerPointToLatLng([this.options.maxWidth,n]));this._updateScales(s)},_updateScales:function(t){this.options.metric&&t&&this._updateMetric(t),this.options.imperial&&t&&this._updateImperial(t)},_updateMetric:function(t){var n=this._getRoundNum(t),s=n<1e3?n+" m":n/1e3+" km";this._updateScale(this._mScale,s,n/t)},_updateImperial:function(t){var n=t*3.2808399,s,l,c;n>5280?(s=n/5280,l=this._getRoundNum(s),this._updateScale(this._iScale,l+" mi",l/s)):(c=this._getRoundNum(n),this._updateScale(this._iScale,c+" ft",c/n))},_updateScale:function(t,n,s){t.style.width=Math.round(this.options.maxWidth*s)+"px",t.innerHTML=n},_getRoundNum:function(t){var n=Math.pow(10,(Math.floor(t)+"").length-1),s=t/n;return s=s>=10?10:s>=5?5:s>=3?3:s>=2?2:1,n*s}}),od=function(t){return new al(t)},sd='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Ho=Qt.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(E.inlineSvg?sd+" ":"")+"Leaflet</a>"},initialize:function(t){I(this,t),this._attributions={}},onAdd:function(t){t.attributionControl=this,this._container=K("div","leaflet-control-attribution"),Qn(this._container);for(var n in t._layers)t._layers[n].getAttribution&&this.addAttribution(t._layers[n].getAttribution());return this._update(),t.on("layeradd",this._addAttribution,this),this._container},onRemove:function(t){t.off("layeradd",this._addAttribution,this)},_addAttribution:function(t){t.layer.getAttribution&&(this.addAttribution(t.layer.getAttribution()),t.layer.once("remove",function(){this.removeAttribution(t.layer.getAttribution())},this))},setPrefix:function(t){return this.options.prefix=t,this._update(),this},addAttribution:function(t){return t?(this._attributions[t]||(this._attributions[t]=0),this._attributions[t]++,this._update(),this):this},removeAttribution:function(t){return t?(this._attributions[t]&&(this._attributions[t]--,this._update()),this):this},_update:function(){if(this._map){var t=[];for(var n in this._attributions)this._attributions[n]&&t.push(n);var s=[];this.options.prefix&&s.push(this.options.prefix),t.length&&s.push(t.join(", ")),this._container.innerHTML=s.join(' <span aria-hidden="true">|</span> ')}}});G.mergeOptions({attributionControl:!0}),G.addInitHook(function(){this.options.attributionControl&&new Ho().addTo(this)});var ad=function(t){return new Ho(t)};Qt.Layers=sl,Qt.Zoom=$o,Qt.Scale=al,Qt.Attribution=Ho,ti.layers=id,ti.zoom=rd,ti.scale=od,ti.attribution=ad;var ae=de.extend({initialize:function(t){this._map=t},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});ae.addTo=function(t,n){return t.addHandler(n,this),this};var ld={Events:kt},ll=E.touch?"touchstart mousedown":"mousedown",Se=Hn.extend({options:{clickTolerance:3},initialize:function(t,n,s,l){I(this,l),this._element=t,this._dragStartTarget=n||t,this._preventOutline=s},enable:function(){this._enabled||(F(this._dragStartTarget,ll,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Se._dragging===this&&this.finishDrag(!0),it(this._dragStartTarget,ll,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(t){if(this._enabled&&(this._moved=!1,!Lo(this._element,"leaflet-zoom-anim"))){if(t.touches&&t.touches.length!==1){Se._dragging===this&&this.finishDrag();return}if(!(Se._dragging||t.shiftKey||t.which!==1&&t.button!==1&&!t.touches)&&(Se._dragging=this,this._preventOutline&&Fo(this._element),Ro(),Yn(),!this._moving)){this.fire("down");var n=t.touches?t.touches[0]:t,s=tl(this._element);this._startPoint=new N(n.clientX,n.clientY),this._startPos=Ke(this._element),this._parentScale=zo(s);var l=t.type==="mousedown";F(document,l?"mousemove":"touchmove",this._onMove,this),F(document,l?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(t){if(this._enabled){if(t.touches&&t.touches.length>1){this._moved=!0;return}var n=t.touches&&t.touches.length===1?t.touches[0]:t,s=new N(n.clientX,n.clientY)._subtract(this._startPoint);!s.x&&!s.y||Math.abs(s.x)+Math.abs(s.y)<this.options.clickTolerance||(s.x/=this._parentScale.x,s.y/=this._parentScale.y,bt(t),this._moved||(this.fire("dragstart"),this._moved=!0,B(document.body,"leaflet-dragging"),this._lastTarget=t.target||t.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),B(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(s),this._moving=!0,this._lastEvent=t,this._updatePosition())}},_updatePosition:function(){var t={originalEvent:this._lastEvent};this.fire("predrag",t),dt(this._element,this._newPos),this.fire("drag",t)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(t){lt(document.body,"leaflet-dragging"),this._lastTarget&&(lt(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),it(document,"mousemove touchmove",this._onMove,this),it(document,"mouseup touchend touchcancel",this._onUp,this),ko(),Xn();var n=this._moved&&this._moving;this._moving=!1,Se._dragging=!1,n&&this.fire("dragend",{noInertia:t,distance:this._newPos.distanceTo(this._startPos)})}});function ul(t,n,s){var l,c=[1,4,2,8],d,p,g,_,y,M,D,Z;for(d=0,M=t.length;d<M;d++)t[d]._code=Je(t[d],n);for(g=0;g<4;g++){for(D=c[g],l=[],d=0,M=t.length,p=M-1;d<M;p=d++)_=t[d],y=t[p],_._code&D?y._code&D||(Z=ar(y,_,D,n,s),Z._code=Je(Z,n),l.push(Z)):(y._code&D&&(Z=ar(y,_,D,n,s),Z._code=Je(Z,n),l.push(Z)),l.push(_));t=l}return t}function cl(t,n){var s,l,c,d,p,g,_,y,M;if(!t||t.length===0)throw new Error("latlngs not passed");Zt(t)||(console.warn("latlngs are not flat! Only the first ring will be used"),t=t[0]);var D=W([0,0]),Z=ht(t),xt=Z.getNorthWest().distanceTo(Z.getSouthWest())*Z.getNorthEast().distanceTo(Z.getNorthWest());xt<1700&&(D=Wo(t));var vt=t.length,$t=[];for(s=0;s<vt;s++){var Dt=W(t[s]);$t.push(n.project(W([Dt.lat-D.lat,Dt.lng-D.lng])))}for(g=_=y=0,s=0,l=vt-1;s<vt;l=s++)c=$t[s],d=$t[l],p=c.y*d.x-d.y*c.x,_+=(c.x+d.x)*p,y+=(c.y+d.y)*p,g+=p*3;g===0?M=$t[0]:M=[_/g,y/g];var yn=n.unproject(k(M));return W([yn.lat+D.lat,yn.lng+D.lng])}function Wo(t){for(var n=0,s=0,l=0,c=0;c<t.length;c++){var d=W(t[c]);n+=d.lat,s+=d.lng,l++}return W([n/l,s/l])}var ud={__proto__:null,clipPolygon:ul,polygonCenter:cl,centroid:Wo};function hl(t,n){if(!n||!t.length)return t.slice();var s=n*n;return t=dd(t,s),t=hd(t,s),t}function dl(t,n,s){return Math.sqrt(ei(t,n,s,!0))}function cd(t,n,s){return ei(t,n,s)}function hd(t,n){var s=t.length,l=typeof Uint8Array<"u"?Uint8Array:Array,c=new l(s);c[0]=c[s-1]=1,Go(t,c,n,0,s-1);var d,p=[];for(d=0;d<s;d++)c[d]&&p.push(t[d]);return p}function Go(t,n,s,l,c){var d=0,p,g,_;for(g=l+1;g<=c-1;g++)_=ei(t[g],t[l],t[c],!0),_>d&&(p=g,d=_);d>s&&(n[p]=1,Go(t,n,s,l,p),Go(t,n,s,p,c))}function dd(t,n){for(var s=[t[0]],l=1,c=0,d=t.length;l<d;l++)fd(t[l],t[c])>n&&(s.push(t[l]),c=l);return c<d-1&&s.push(t[d-1]),s}var fl;function pl(t,n,s,l,c){var d=l?fl:Je(t,s),p=Je(n,s),g,_,y;for(fl=p;;){if(!(d|p))return[t,n];if(d&p)return!1;g=d||p,_=ar(t,n,g,s,c),y=Je(_,s),g===d?(t=_,d=y):(n=_,p=y)}}function ar(t,n,s,l,c){var d=n.x-t.x,p=n.y-t.y,g=l.min,_=l.max,y,M;return s&8?(y=t.x+d*(_.y-t.y)/p,M=_.y):s&4?(y=t.x+d*(g.y-t.y)/p,M=g.y):s&2?(y=_.x,M=t.y+p*(_.x-t.x)/d):s&1&&(y=g.x,M=t.y+p*(g.x-t.x)/d),new N(y,M,c)}function Je(t,n){var s=0;return t.x<n.min.x?s|=1:t.x>n.max.x&&(s|=2),t.y<n.min.y?s|=4:t.y>n.max.y&&(s|=8),s}function fd(t,n){var s=n.x-t.x,l=n.y-t.y;return s*s+l*l}function ei(t,n,s,l){var c=n.x,d=n.y,p=s.x-c,g=s.y-d,_=p*p+g*g,y;return _>0&&(y=((t.x-c)*p+(t.y-d)*g)/_,y>1?(c=s.x,d=s.y):y>0&&(c+=p*y,d+=g*y)),p=t.x-c,g=t.y-d,l?p*p+g*g:new N(c,d)}function Zt(t){return!V(t[0])||typeof t[0][0]!="object"&&typeof t[0][0]<"u"}function ml(t){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Zt(t)}function gl(t,n){var s,l,c,d,p,g,_,y;if(!t||t.length===0)throw new Error("latlngs not passed");Zt(t)||(console.warn("latlngs are not flat! Only the first ring will be used"),t=t[0]);var M=W([0,0]),D=ht(t),Z=D.getNorthWest().distanceTo(D.getSouthWest())*D.getNorthEast().distanceTo(D.getNorthWest());Z<1700&&(M=Wo(t));var xt=t.length,vt=[];for(s=0;s<xt;s++){var $t=W(t[s]);vt.push(n.project(W([$t.lat-M.lat,$t.lng-M.lng])))}for(s=0,l=0;s<xt-1;s++)l+=vt[s].distanceTo(vt[s+1])/2;if(l===0)y=vt[0];else for(s=0,d=0;s<xt-1;s++)if(p=vt[s],g=vt[s+1],c=p.distanceTo(g),d+=c,d>l){_=(d-l)/c,y=[g.x-_*(g.x-p.x),g.y-_*(g.y-p.y)];break}var Dt=n.unproject(k(y));return W([Dt.lat+M.lat,Dt.lng+M.lng])}var pd={__proto__:null,simplify:hl,pointToSegmentDistance:dl,closestPointOnSegment:cd,clipSegment:pl,_getEdgeIntersection:ar,_getBitCode:Je,_sqClosestPointOnSegment:ei,isFlat:Zt,_flat:ml,polylineCenter:gl},qo={project:function(t){return new N(t.lng,t.lat)},unproject:function(t){return new tt(t.y,t.x)},bounds:new st([-180,-90],[180,90])},Ko={R:6378137,R_MINOR:6356752314245179e-9,bounds:new st([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(t){var n=Math.PI/180,s=this.R,l=t.lat*n,c=this.R_MINOR/s,d=Math.sqrt(1-c*c),p=d*Math.sin(l),g=Math.tan(Math.PI/4-l/2)/Math.pow((1-p)/(1+p),d/2);return l=-s*Math.log(Math.max(g,1e-10)),new N(t.lng*n*s,l)},unproject:function(t){for(var n=180/Math.PI,s=this.R,l=this.R_MINOR/s,c=Math.sqrt(1-l*l),d=Math.exp(-t.y/s),p=Math.PI/2-2*Math.atan(d),g=0,_=.1,y;g<15&&Math.abs(_)>1e-7;g++)y=c*Math.sin(p),y=Math.pow((1-y)/(1+y),c/2),_=Math.PI/2-2*Math.atan(d*y)-p,p+=_;return new tt(p*n,t.x*n/s)}},md={__proto__:null,LonLat:qo,Mercator:Ko,SphericalMercator:bo},gd=a({},Pe,{code:"EPSG:3395",projection:Ko,transformation:function(){var t=.5/(Math.PI*Ko.R);return Wn(t,.5,-t,.5)}()}),vl=a({},Pe,{code:"EPSG:4326",projection:qo,transformation:Wn(1/180,1,-1/180,.5)}),vd=a({},fe,{projection:qo,transformation:Wn(1,0,-1,0),scale:function(t){return Math.pow(2,t)},zoom:function(t){return Math.log(t)/Math.LN2},distance:function(t,n){var s=n.lng-t.lng,l=n.lat-t.lat;return Math.sqrt(s*s+l*l)},infinite:!0});fe.Earth=Pe,fe.EPSG3395=gd,fe.EPSG3857=Mo,fe.EPSG900913=Mh,fe.EPSG4326=vl,fe.Simple=vd;var te=Hn.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(t){return t.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(t){return t&&t.removeLayer(this),this},getPane:function(t){return this._map.getPane(t?this.options[t]||t:this.options.pane)},addInteractiveTarget:function(t){return this._map._targets[h(t)]=this,this},removeInteractiveTarget:function(t){return delete this._map._targets[h(t)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(t){var n=t.target;if(n.hasLayer(this)){if(this._map=n,this._zoomAnimated=n._zoomAnimated,this.getEvents){var s=this.getEvents();n.on(s,this),this.once("remove",function(){n.off(s,this)},this)}this.onAdd(n),this.fire("add"),n.fire("layeradd",{layer:this})}}});G.include({addLayer:function(t){if(!t._layerAdd)throw new Error("The provided object is not a Layer.");var n=h(t);return this._layers[n]?this:(this._layers[n]=t,t._mapToAdd=this,t.beforeAdd&&t.beforeAdd(this),this.whenReady(t._layerAdd,t),this)},removeLayer:function(t){var n=h(t);return this._layers[n]?(this._loaded&&t.onRemove(this),delete this._layers[n],this._loaded&&(this.fire("layerremove",{layer:t}),t.fire("remove")),t._map=t._mapToAdd=null,this):this},hasLayer:function(t){return h(t)in this._layers},eachLayer:function(t,n){for(var s in this._layers)t.call(n,this._layers[s]);return this},_addLayers:function(t){t=t?V(t)?t:[t]:[];for(var n=0,s=t.length;n<s;n++)this.addLayer(t[n])},_addZoomLimit:function(t){(!isNaN(t.options.maxZoom)||!isNaN(t.options.minZoom))&&(this._zoomBoundLayers[h(t)]=t,this._updateZoomLevels())},_removeZoomLimit:function(t){var n=h(t);this._zoomBoundLayers[n]&&(delete this._zoomBoundLayers[n],this._updateZoomLevels())},_updateZoomLevels:function(){var t=1/0,n=-1/0,s=this._getZoomSpan();for(var l in this._zoomBoundLayers){var c=this._zoomBoundLayers[l].options;t=c.minZoom===void 0?t:Math.min(t,c.minZoom),n=c.maxZoom===void 0?n:Math.max(n,c.maxZoom)}this._layersMaxZoom=n===-1/0?void 0:n,this._layersMinZoom=t===1/0?void 0:t,s!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var pn=te.extend({initialize:function(t,n){I(this,n),this._layers={};var s,l;if(t)for(s=0,l=t.length;s<l;s++)this.addLayer(t[s])},addLayer:function(t){var n=this.getLayerId(t);return this._layers[n]=t,this._map&&this._map.addLayer(t),this},removeLayer:function(t){var n=t in this._layers?t:this.getLayerId(t);return this._map&&this._layers[n]&&this._map.removeLayer(this._layers[n]),delete this._layers[n],this},hasLayer:function(t){var n=typeof t=="number"?t:this.getLayerId(t);return n in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(t){var n=Array.prototype.slice.call(arguments,1),s,l;for(s in this._layers)l=this._layers[s],l[t]&&l[t].apply(l,n);return this},onAdd:function(t){this.eachLayer(t.addLayer,t)},onRemove:function(t){this.eachLayer(t.removeLayer,t)},eachLayer:function(t,n){for(var s in this._layers)t.call(n,this._layers[s]);return this},getLayer:function(t){return this._layers[t]},getLayers:function(){var t=[];return this.eachLayer(t.push,t),t},setZIndex:function(t){return this.invoke("setZIndex",t)},getLayerId:function(t){return h(t)}}),_d=function(t,n){return new pn(t,n)},pe=pn.extend({addLayer:function(t){return this.hasLayer(t)?this:(t.addEventParent(this),pn.prototype.addLayer.call(this,t),this.fire("layeradd",{layer:t}))},removeLayer:function(t){return this.hasLayer(t)?(t in this._layers&&(t=this._layers[t]),t.removeEventParent(this),pn.prototype.removeLayer.call(this,t),this.fire("layerremove",{layer:t})):this},setStyle:function(t){return this.invoke("setStyle",t)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var t=new At;for(var n in this._layers){var s=this._layers[n];t.extend(s.getBounds?s.getBounds():s.getLatLng())}return t}}),yd=function(t,n){return new pe(t,n)},mn=de.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(t){I(this,t)},createIcon:function(t){return this._createIcon("icon",t)},createShadow:function(t){return this._createIcon("shadow",t)},_createIcon:function(t,n){var s=this._getIconUrl(t);if(!s){if(t==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var l=this._createImg(s,n&&n.tagName==="IMG"?n:null);return this._setIconStyles(l,t),(this.options.crossOrigin||this.options.crossOrigin==="")&&(l.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),l},_setIconStyles:function(t,n){var s=this.options,l=s[n+"Size"];typeof l=="number"&&(l=[l,l]);var c=k(l),d=k(n==="shadow"&&s.shadowAnchor||s.iconAnchor||c&&c.divideBy(2,!0));t.className="leaflet-marker-"+n+" "+(s.className||""),d&&(t.style.marginLeft=-d.x+"px",t.style.marginTop=-d.y+"px"),c&&(t.style.width=c.x+"px",t.style.height=c.y+"px")},_createImg:function(t,n){return n=n||document.createElement("img"),n.src=t,n},_getIconUrl:function(t){return E.retina&&this.options[t+"RetinaUrl"]||this.options[t+"Url"]}});function wd(t){return new mn(t)}var ni=mn.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(t){return typeof ni.imagePath!="string"&&(ni.imagePath=this._detectIconPath()),(this.options.imagePath||ni.imagePath)+mn.prototype._getIconUrl.call(this,t)},_stripUrl:function(t){var n=function(s,l,c){var d=l.exec(s);return d&&d[c]};return t=n(t,/^url\((['"])?(.+)\1\)$/,2),t&&n(t,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var t=K("div","leaflet-default-icon-path",document.body),n=Kn(t,"background-image")||Kn(t,"backgroundImage");if(document.body.removeChild(t),n=this._stripUrl(n),n)return n;var s=document.querySelector('link[href$="leaflet.css"]');return s?s.href.substring(0,s.href.length-11-1):""}}),_l=ae.extend({initialize:function(t){this._marker=t},addHooks:function(){var t=this._marker._icon;this._draggable||(this._draggable=new Se(t,t,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),B(t,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&lt(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(t){var n=this._marker,s=n._map,l=this._marker.options.autoPanSpeed,c=this._marker.options.autoPanPadding,d=Ke(n._icon),p=s.getPixelBounds(),g=s.getPixelOrigin(),_=Lt(p.min._subtract(g).add(c),p.max._subtract(g).subtract(c));if(!_.contains(d)){var y=k((Math.max(_.max.x,d.x)-_.max.x)/(p.max.x-_.max.x)-(Math.min(_.min.x,d.x)-_.min.x)/(p.min.x-_.min.x),(Math.max(_.max.y,d.y)-_.max.y)/(p.max.y-_.max.y)-(Math.min(_.min.y,d.y)-_.min.y)/(p.min.y-_.min.y)).multiplyBy(l);s.panBy(y,{animate:!1}),this._draggable._newPos._add(y),this._draggable._startPos._add(y),dt(n._icon,this._draggable._newPos),this._onDrag(t),this._panRequest=Ot(this._adjustPan.bind(this,t))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(t){this._marker.options.autoPan&&(jt(this._panRequest),this._panRequest=Ot(this._adjustPan.bind(this,t)))},_onDrag:function(t){var n=this._marker,s=n._shadow,l=Ke(n._icon),c=n._map.layerPointToLatLng(l);s&&dt(s,l),n._latlng=c,t.latlng=c,t.oldLatLng=this._oldLatLng,n.fire("move",t).fire("drag",t)},_onDragEnd:function(t){jt(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",t)}}),lr=te.extend({options:{icon:new ni,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(t,n){I(this,n),this._latlng=W(t)},onAdd:function(t){this._zoomAnimated=this._zoomAnimated&&t.options.markerZoomAnimation,this._zoomAnimated&&t.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(t){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&t.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(t){var n=this._latlng;return this._latlng=W(t),this.update(),this.fire("move",{oldLatLng:n,latlng:this._latlng})},setZIndexOffset:function(t){return this.options.zIndexOffset=t,this.update()},getIcon:function(){return this.options.icon},setIcon:function(t){return this.options.icon=t,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var t=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(t)}return this},_initIcon:function(){var t=this.options,n="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),s=t.icon.createIcon(this._icon),l=!1;s!==this._icon&&(this._icon&&this._removeIcon(),l=!0,t.title&&(s.title=t.title),s.tagName==="IMG"&&(s.alt=t.alt||"")),B(s,n),t.keyboard&&(s.tabIndex="0",s.setAttribute("role","button")),this._icon=s,t.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&F(s,"focus",this._panOnFocus,this);var c=t.icon.createShadow(this._shadow),d=!1;c!==this._shadow&&(this._removeShadow(),d=!0),c&&(B(c,n),c.alt=""),this._shadow=c,t.opacity<1&&this._updateOpacity(),l&&this.getPane().appendChild(this._icon),this._initInteraction(),c&&d&&this.getPane(t.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&it(this._icon,"focus",this._panOnFocus,this),at(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&at(this._shadow),this._shadow=null},_setPos:function(t){this._icon&&dt(this._icon,t),this._shadow&&dt(this._shadow,t),this._zIndex=t.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(t){this._icon&&(this._icon.style.zIndex=this._zIndex+t)},_animateZoom:function(t){var n=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center).round();this._setPos(n)},_initInteraction:function(){if(this.options.interactive&&(B(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),_l)){var t=this.options.draggable;this.dragging&&(t=this.dragging.enabled(),this.dragging.disable()),this.dragging=new _l(this),t&&this.dragging.enable()}},setOpacity:function(t){return this.options.opacity=t,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var t=this.options.opacity;this._icon&&Ut(this._icon,t),this._shadow&&Ut(this._shadow,t)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var t=this._map;if(t){var n=this.options.icon.options,s=n.iconSize?k(n.iconSize):k(0,0),l=n.iconAnchor?k(n.iconAnchor):k(0,0);t.panInside(this._latlng,{paddingTopLeft:l,paddingBottomRight:s.subtract(l)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function bd(t,n){return new lr(t,n)}var xe=te.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(t){this._renderer=t.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(t){return I(this,t),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&t&&Object.prototype.hasOwnProperty.call(t,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),ur=xe.extend({options:{fill:!0,radius:10},initialize:function(t,n){I(this,n),this._latlng=W(t),this._radius=this.options.radius},setLatLng:function(t){var n=this._latlng;return this._latlng=W(t),this.redraw(),this.fire("move",{oldLatLng:n,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(t){return this.options.radius=this._radius=t,this.redraw()},getRadius:function(){return this._radius},setStyle:function(t){var n=t&&t.radius||this._radius;return xe.prototype.setStyle.call(this,t),this.setRadius(n),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var t=this._radius,n=this._radiusY||t,s=this._clickTolerance(),l=[t+s,n+s];this._pxBounds=new st(this._point.subtract(l),this._point.add(l))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(t){return t.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function Cd(t,n){return new ur(t,n)}var Yo=ur.extend({initialize:function(t,n,s){if(typeof n=="number"&&(n=a({},s,{radius:n})),I(this,n),this._latlng=W(t),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(t){return this._mRadius=t,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var t=[this._radius,this._radiusY||this._radius];return new At(this._map.layerPointToLatLng(this._point.subtract(t)),this._map.layerPointToLatLng(this._point.add(t)))},setStyle:xe.prototype.setStyle,_project:function(){var t=this._latlng.lng,n=this._latlng.lat,s=this._map,l=s.options.crs;if(l.distance===Pe.distance){var c=Math.PI/180,d=this._mRadius/Pe.R/c,p=s.project([n+d,t]),g=s.project([n-d,t]),_=p.add(g).divideBy(2),y=s.unproject(_).lat,M=Math.acos((Math.cos(d*c)-Math.sin(n*c)*Math.sin(y*c))/(Math.cos(n*c)*Math.cos(y*c)))/c;(isNaN(M)||M===0)&&(M=d/Math.cos(Math.PI/180*n)),this._point=_.subtract(s.getPixelOrigin()),this._radius=isNaN(M)?0:_.x-s.project([y,t-M]).x,this._radiusY=_.y-p.y}else{var D=l.unproject(l.project(this._latlng).subtract([this._mRadius,0]));this._point=s.latLngToLayerPoint(this._latlng),this._radius=this._point.x-s.latLngToLayerPoint(D).x}this._updateBounds()}});function Md(t,n,s){return new Yo(t,n,s)}var me=xe.extend({options:{smoothFactor:1,noClip:!1},initialize:function(t,n){I(this,n),this._setLatLngs(t)},getLatLngs:function(){return this._latlngs},setLatLngs:function(t){return this._setLatLngs(t),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(t){for(var n=1/0,s=null,l=ei,c,d,p=0,g=this._parts.length;p<g;p++)for(var _=this._parts[p],y=1,M=_.length;y<M;y++){c=_[y-1],d=_[y];var D=l(t,c,d,!0);D<n&&(n=D,s=l(t,c,d))}return s&&(s.distance=Math.sqrt(n)),s},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return gl(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(t,n){return n=n||this._defaultShape(),t=W(t),n.push(t),this._bounds.extend(t),this.redraw()},_setLatLngs:function(t){this._bounds=new At,this._latlngs=this._convertLatLngs(t)},_defaultShape:function(){return Zt(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(t){for(var n=[],s=Zt(t),l=0,c=t.length;l<c;l++)s?(n[l]=W(t[l]),this._bounds.extend(n[l])):n[l]=this._convertLatLngs(t[l]);return n},_project:function(){var t=new st;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,t),this._bounds.isValid()&&t.isValid()&&(this._rawPxBounds=t,this._updateBounds())},_updateBounds:function(){var t=this._clickTolerance(),n=new N(t,t);this._rawPxBounds&&(this._pxBounds=new st([this._rawPxBounds.min.subtract(n),this._rawPxBounds.max.add(n)]))},_projectLatlngs:function(t,n,s){var l=t[0]instanceof tt,c=t.length,d,p;if(l){for(p=[],d=0;d<c;d++)p[d]=this._map.latLngToLayerPoint(t[d]),s.extend(p[d]);n.push(p)}else for(d=0;d<c;d++)this._projectLatlngs(t[d],n,s)},_clipPoints:function(){var t=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(t))){if(this.options.noClip){this._parts=this._rings;return}var n=this._parts,s,l,c,d,p,g,_;for(s=0,c=0,d=this._rings.length;s<d;s++)for(_=this._rings[s],l=0,p=_.length;l<p-1;l++)g=pl(_[l],_[l+1],t,l,!0),g&&(n[c]=n[c]||[],n[c].push(g[0]),(g[1]!==_[l+1]||l===p-2)&&(n[c].push(g[1]),c++))}},_simplifyPoints:function(){for(var t=this._parts,n=this.options.smoothFactor,s=0,l=t.length;s<l;s++)t[s]=hl(t[s],n)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(t,n){var s,l,c,d,p,g,_=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(t))return!1;for(s=0,d=this._parts.length;s<d;s++)for(g=this._parts[s],l=0,p=g.length,c=p-1;l<p;c=l++)if(!(!n&&l===0)&&dl(t,g[c],g[l])<=_)return!0;return!1}});function Pd(t,n){return new me(t,n)}me._flat=ml;var gn=me.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return cl(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(t){var n=me.prototype._convertLatLngs.call(this,t),s=n.length;return s>=2&&n[0]instanceof tt&&n[0].equals(n[s-1])&&n.pop(),n},_setLatLngs:function(t){me.prototype._setLatLngs.call(this,t),Zt(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Zt(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var t=this._renderer._bounds,n=this.options.weight,s=new N(n,n);if(t=new st(t.min.subtract(s),t.max.add(s)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(t))){if(this.options.noClip){this._parts=this._rings;return}for(var l=0,c=this._rings.length,d;l<c;l++)d=ul(this._rings[l],t,!0),d.length&&this._parts.push(d)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(t){var n=!1,s,l,c,d,p,g,_,y;if(!this._pxBounds||!this._pxBounds.contains(t))return!1;for(d=0,_=this._parts.length;d<_;d++)for(s=this._parts[d],p=0,y=s.length,g=y-1;p<y;g=p++)l=s[p],c=s[g],l.y>t.y!=c.y>t.y&&t.x<(c.x-l.x)*(t.y-l.y)/(c.y-l.y)+l.x&&(n=!n);return n||me.prototype._containsPoint.call(this,t,!0)}});function Sd(t,n){return new gn(t,n)}var ge=pe.extend({initialize:function(t,n){I(this,n),this._layers={},t&&this.addData(t)},addData:function(t){var n=V(t)?t:t.features,s,l,c;if(n){for(s=0,l=n.length;s<l;s++)c=n[s],(c.geometries||c.geometry||c.features||c.coordinates)&&this.addData(c);return this}var d=this.options;if(d.filter&&!d.filter(t))return this;var p=cr(t,d);return p?(p.feature=fr(t),p.defaultOptions=p.options,this.resetStyle(p),d.onEachFeature&&d.onEachFeature(t,p),this.addLayer(p)):this},resetStyle:function(t){return t===void 0?this.eachLayer(this.resetStyle,this):(t.options=a({},t.defaultOptions),this._setLayerStyle(t,this.options.style),this)},setStyle:function(t){return this.eachLayer(function(n){this._setLayerStyle(n,t)},this)},_setLayerStyle:function(t,n){t.setStyle&&(typeof n=="function"&&(n=n(t.feature)),t.setStyle(n))}});function cr(t,n){var s=t.type==="Feature"?t.geometry:t,l=s?s.coordinates:null,c=[],d=n&&n.pointToLayer,p=n&&n.coordsToLatLng||Xo,g,_,y,M;if(!l&&!s)return null;switch(s.type){case"Point":return g=p(l),yl(d,t,g,n);case"MultiPoint":for(y=0,M=l.length;y<M;y++)g=p(l[y]),c.push(yl(d,t,g,n));return new pe(c);case"LineString":case"MultiLineString":return _=hr(l,s.type==="LineString"?0:1,p),new me(_,n);case"Polygon":case"MultiPolygon":return _=hr(l,s.type==="Polygon"?1:2,p),new gn(_,n);case"GeometryCollection":for(y=0,M=s.geometries.length;y<M;y++){var D=cr({geometry:s.geometries[y],type:"Feature",properties:t.properties},n);D&&c.push(D)}return new pe(c);case"FeatureCollection":for(y=0,M=s.features.length;y<M;y++){var Z=cr(s.features[y],n);Z&&c.push(Z)}return new pe(c);default:throw new Error("Invalid GeoJSON object.")}}function yl(t,n,s,l){return t?t(n,s):new lr(s,l&&l.markersInheritOptions&&l)}function Xo(t){return new tt(t[1],t[0],t[2])}function hr(t,n,s){for(var l=[],c=0,d=t.length,p;c<d;c++)p=n?hr(t[c],n-1,s):(s||Xo)(t[c]),l.push(p);return l}function Jo(t,n){return t=W(t),t.alt!==void 0?[b(t.lng,n),b(t.lat,n),b(t.alt,n)]:[b(t.lng,n),b(t.lat,n)]}function dr(t,n,s,l){for(var c=[],d=0,p=t.length;d<p;d++)c.push(n?dr(t[d],Zt(t[d])?0:n-1,s,l):Jo(t[d],l));return!n&&s&&c.length>0&&c.push(c[0].slice()),c}function vn(t,n){return t.feature?a({},t.feature,{geometry:n}):fr(n)}function fr(t){return t.type==="Feature"||t.type==="FeatureCollection"?t:{type:"Feature",properties:{},geometry:t}}var Qo={toGeoJSON:function(t){return vn(this,{type:"Point",coordinates:Jo(this.getLatLng(),t)})}};lr.include(Qo),Yo.include(Qo),ur.include(Qo),me.include({toGeoJSON:function(t){var n=!Zt(this._latlngs),s=dr(this._latlngs,n?1:0,!1,t);return vn(this,{type:(n?"Multi":"")+"LineString",coordinates:s})}}),gn.include({toGeoJSON:function(t){var n=!Zt(this._latlngs),s=n&&!Zt(this._latlngs[0]),l=dr(this._latlngs,s?2:n?1:0,!0,t);return n||(l=[l]),vn(this,{type:(s?"Multi":"")+"Polygon",coordinates:l})}}),pn.include({toMultiPoint:function(t){var n=[];return this.eachLayer(function(s){n.push(s.toGeoJSON(t).geometry.coordinates)}),vn(this,{type:"MultiPoint",coordinates:n})},toGeoJSON:function(t){var n=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(n==="MultiPoint")return this.toMultiPoint(t);var s=n==="GeometryCollection",l=[];return this.eachLayer(function(c){if(c.toGeoJSON){var d=c.toGeoJSON(t);if(s)l.push(d.geometry);else{var p=fr(d);p.type==="FeatureCollection"?l.push.apply(l,p.features):l.push(p)}}}),s?vn(this,{geometries:l,type:"GeometryCollection"}):{type:"FeatureCollection",features:l}}});function wl(t,n){return new ge(t,n)}var xd=wl,pr=te.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(t,n,s){this._url=t,this._bounds=ht(n),I(this,s)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(B(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){at(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(t){return this.options.opacity=t,this._image&&this._updateOpacity(),this},setStyle:function(t){return t.opacity&&this.setOpacity(t.opacity),this},bringToFront:function(){return this._map&&dn(this._image),this},bringToBack:function(){return this._map&&fn(this._image),this},setUrl:function(t){return this._url=t,this._image&&(this._image.src=t),this},setBounds:function(t){return this._bounds=ht(t),this._map&&this._reset(),this},getEvents:function(){var t={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var t=this._url.tagName==="IMG",n=this._image=t?this._url:K("img");if(B(n,"leaflet-image-layer"),this._zoomAnimated&&B(n,"leaflet-zoom-animated"),this.options.className&&B(n,this.options.className),n.onselectstart=m,n.onmousemove=m,n.onload=o(this.fire,this,"load"),n.onerror=o(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(n.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),t){this._url=n.src;return}n.src=this._url,n.alt=this.options.alt},_animateZoom:function(t){var n=this._map.getZoomScale(t.zoom),s=this._map._latLngBoundsToNewLayerBounds(this._bounds,t.zoom,t.center).min;qe(this._image,s,n)},_reset:function(){var t=this._image,n=new st(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),s=n.getSize();dt(t,n.min),t.style.width=s.x+"px",t.style.height=s.y+"px"},_updateOpacity:function(){Ut(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var t=this.options.errorOverlayUrl;t&&this._url!==t&&(this._url=t,this._image.src=t)},getCenter:function(){return this._bounds.getCenter()}}),Td=function(t,n,s){return new pr(t,n,s)},bl=pr.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var t=this._url.tagName==="VIDEO",n=this._image=t?this._url:K("video");if(B(n,"leaflet-image-layer"),this._zoomAnimated&&B(n,"leaflet-zoom-animated"),this.options.className&&B(n,this.options.className),n.onselectstart=m,n.onmousemove=m,n.onloadeddata=o(this.fire,this,"load"),t){for(var s=n.getElementsByTagName("source"),l=[],c=0;c<s.length;c++)l.push(s[c].src);this._url=s.length>0?l:[n.src];return}V(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(n.style,"objectFit")&&(n.style.objectFit="fill"),n.autoplay=!!this.options.autoplay,n.loop=!!this.options.loop,n.muted=!!this.options.muted,n.playsInline=!!this.options.playsInline;for(var d=0;d<this._url.length;d++){var p=K("source");p.src=this._url[d],n.appendChild(p)}}});function Ed(t,n,s){return new bl(t,n,s)}var Cl=pr.extend({_initImage:function(){var t=this._image=this._url;B(t,"leaflet-image-layer"),this._zoomAnimated&&B(t,"leaflet-zoom-animated"),this.options.className&&B(t,this.options.className),t.onselectstart=m,t.onmousemove=m}});function Id(t,n,s){return new Cl(t,n,s)}var le=te.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(t,n){t&&(t instanceof tt||V(t))?(this._latlng=W(t),I(this,n)):(I(this,t),this._source=n),this.options.content&&(this._content=this.options.content)},openOn:function(t){return t=arguments.length?t:this._source._map,t.hasLayer(this)||t.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(t){return this._map?this.close():(arguments.length?this._source=t:t=this._source,this._prepareOpen(),this.openOn(t._map)),this},onAdd:function(t){this._zoomAnimated=t._zoomAnimated,this._container||this._initLayout(),t._fadeAnimated&&Ut(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),t._fadeAnimated&&Ut(this._container,1),this.bringToFront(),this.options.interactive&&(B(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(t){t._fadeAnimated?(Ut(this._container,0),this._removeTimeout=setTimeout(o(at,void 0,this._container),200)):at(this._container),this.options.interactive&&(lt(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(t){return this._latlng=W(t),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(t){return this._content=t,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var t={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&dn(this._container),this},bringToBack:function(){return this._map&&fn(this._container),this},_prepareOpen:function(t){var n=this._source;if(!n._map)return!1;if(n instanceof pe){n=null;var s=this._source._layers;for(var l in s)if(s[l]._map){n=s[l];break}if(!n)return!1;this._source=n}if(!t)if(n.getCenter)t=n.getCenter();else if(n.getLatLng)t=n.getLatLng();else if(n.getBounds)t=n.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(t),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var t=this._contentNode,n=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof n=="string")t.innerHTML=n;else{for(;t.hasChildNodes();)t.removeChild(t.firstChild);t.appendChild(n)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var t=this._map.latLngToLayerPoint(this._latlng),n=k(this.options.offset),s=this._getAnchor();this._zoomAnimated?dt(this._container,t.add(s)):n=n.add(t).add(s);var l=this._containerBottom=-n.y,c=this._containerLeft=-Math.round(this._containerWidth/2)+n.x;this._container.style.bottom=l+"px",this._container.style.left=c+"px"}},_getAnchor:function(){return[0,0]}});G.include({_initOverlay:function(t,n,s,l){var c=n;return c instanceof t||(c=new t(l).setContent(n)),s&&c.setLatLng(s),c}}),te.include({_initOverlay:function(t,n,s,l){var c=s;return c instanceof t?(I(c,l),c._source=this):(c=n&&!l?n:new t(l,this),c.setContent(s)),c}});var mr=le.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(t){return t=arguments.length?t:this._source._map,!t.hasLayer(this)&&t._popup&&t._popup.options.autoClose&&t.removeLayer(t._popup),t._popup=this,le.prototype.openOn.call(this,t)},onAdd:function(t){le.prototype.onAdd.call(this,t),t.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof xe||this._source.on("preclick",Ye))},onRemove:function(t){le.prototype.onRemove.call(this,t),t.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof xe||this._source.off("preclick",Ye))},getEvents:function(){var t=le.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(t.preclick=this.close),this.options.keepInView&&(t.moveend=this._adjustPan),t},_initLayout:function(){var t="leaflet-popup",n=this._container=K("div",t+" "+(this.options.className||"")+" leaflet-zoom-animated"),s=this._wrapper=K("div",t+"-content-wrapper",n);if(this._contentNode=K("div",t+"-content",s),Qn(n),Uo(this._contentNode),F(n,"contextmenu",Ye),this._tipContainer=K("div",t+"-tip-container",n),this._tip=K("div",t+"-tip",this._tipContainer),this.options.closeButton){var l=this._closeButton=K("a",t+"-close-button",n);l.setAttribute("role","button"),l.setAttribute("aria-label","Close popup"),l.href="#close",l.innerHTML='<span aria-hidden="true">&#215;</span>',F(l,"click",function(c){bt(c),this.close()},this)}},_updateLayout:function(){var t=this._contentNode,n=t.style;n.width="",n.whiteSpace="nowrap";var s=t.offsetWidth;s=Math.min(s,this.options.maxWidth),s=Math.max(s,this.options.minWidth),n.width=s+1+"px",n.whiteSpace="",n.height="";var l=t.offsetHeight,c=this.options.maxHeight,d="leaflet-popup-scrolled";c&&l>c?(n.height=c+"px",B(t,d)):lt(t,d),this._containerWidth=this._container.offsetWidth},_animateZoom:function(t){var n=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center),s=this._getAnchor();dt(this._container,n.add(s))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var t=this._map,n=parseInt(Kn(this._container,"marginBottom"),10)||0,s=this._container.offsetHeight+n,l=this._containerWidth,c=new N(this._containerLeft,-s-this._containerBottom);c._add(Ke(this._container));var d=t.layerPointToContainerPoint(c),p=k(this.options.autoPanPadding),g=k(this.options.autoPanPaddingTopLeft||p),_=k(this.options.autoPanPaddingBottomRight||p),y=t.getSize(),M=0,D=0;d.x+l+_.x>y.x&&(M=d.x+l-y.x+_.x),d.x-M-g.x<0&&(M=d.x-g.x),d.y+s+_.y>y.y&&(D=d.y+s-y.y+_.y),d.y-D-g.y<0&&(D=d.y-g.y),(M||D)&&(this.options.keepInView&&(this._autopanning=!0),t.fire("autopanstart").panBy([M,D]))}},_getAnchor:function(){return k(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Od=function(t,n){return new mr(t,n)};G.mergeOptions({closePopupOnClick:!0}),G.include({openPopup:function(t,n,s){return this._initOverlay(mr,t,n,s).openOn(this),this},closePopup:function(t){return t=arguments.length?t:this._popup,t&&t.close(),this}}),te.include({bindPopup:function(t,n){return this._popup=this._initOverlay(mr,this._popup,t,n),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(t){return this._popup&&(this instanceof pe||(this._popup._source=this),this._popup._prepareOpen(t||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(t){return this._popup&&this._popup.setContent(t),this},getPopup:function(){return this._popup},_openPopup:function(t){if(!(!this._popup||!this._map)){Xe(t);var n=t.layer||t.target;if(this._popup._source===n&&!(n instanceof xe)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(t.latlng);return}this._popup._source=n,this.openPopup(t.latlng)}},_movePopup:function(t){this._popup.setLatLng(t.latlng)},_onKeyPress:function(t){t.originalEvent.keyCode===13&&this._openPopup(t)}});var gr=le.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(t){le.prototype.onAdd.call(this,t),this.setOpacity(this.options.opacity),t.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(t){le.prototype.onRemove.call(this,t),t.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var t=le.prototype.getEvents.call(this);return this.options.permanent||(t.preclick=this.close),t},_initLayout:function(){var t="leaflet-tooltip",n=t+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=K("div",n),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+h(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(t){var n,s,l=this._map,c=this._container,d=l.latLngToContainerPoint(l.getCenter()),p=l.layerPointToContainerPoint(t),g=this.options.direction,_=c.offsetWidth,y=c.offsetHeight,M=k(this.options.offset),D=this._getAnchor();g==="top"?(n=_/2,s=y):g==="bottom"?(n=_/2,s=0):g==="center"?(n=_/2,s=y/2):g==="right"?(n=0,s=y/2):g==="left"?(n=_,s=y/2):p.x<d.x?(g="right",n=0,s=y/2):(g="left",n=_+(M.x+D.x)*2,s=y/2),t=t.subtract(k(n,s,!0)).add(M).add(D),lt(c,"leaflet-tooltip-right"),lt(c,"leaflet-tooltip-left"),lt(c,"leaflet-tooltip-top"),lt(c,"leaflet-tooltip-bottom"),B(c,"leaflet-tooltip-"+g),dt(c,t)},_updatePosition:function(){var t=this._map.latLngToLayerPoint(this._latlng);this._setPosition(t)},setOpacity:function(t){this.options.opacity=t,this._container&&Ut(this._container,t)},_animateZoom:function(t){var n=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center);this._setPosition(n)},_getAnchor:function(){return k(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Ld=function(t,n){return new gr(t,n)};G.include({openTooltip:function(t,n,s){return this._initOverlay(gr,t,n,s).openOn(this),this},closeTooltip:function(t){return t.close(),this}}),te.include({bindTooltip:function(t,n){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(gr,this._tooltip,t,n),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(t){if(!(!t&&this._tooltipHandlersAdded)){var n=t?"off":"on",s={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?s.add=this._openTooltip:(s.mouseover=this._openTooltip,s.mouseout=this.closeTooltip,s.click=this._openTooltip,this._map?this._addFocusListeners():s.add=this._addFocusListeners),this._tooltip.options.sticky&&(s.mousemove=this._moveTooltip),this[n](s),this._tooltipHandlersAdded=!t}},openTooltip:function(t){return this._tooltip&&(this instanceof pe||(this._tooltip._source=this),this._tooltip._prepareOpen(t)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(t){return this._tooltip&&this._tooltip.setContent(t),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(t){var n=typeof t.getElement=="function"&&t.getElement();n&&(F(n,"focus",function(){this._tooltip._source=t,this.openTooltip()},this),F(n,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(t){var n=typeof t.getElement=="function"&&t.getElement();n&&n.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(t){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var n=this;this._map.once("moveend",function(){n._openOnceFlag=!1,n._openTooltip(t)});return}this._tooltip._source=t.layer||t.target,this.openTooltip(this._tooltip.options.sticky?t.latlng:void 0)}},_moveTooltip:function(t){var n=t.latlng,s,l;this._tooltip.options.sticky&&t.originalEvent&&(s=this._map.mouseEventToContainerPoint(t.originalEvent),l=this._map.containerPointToLayerPoint(s),n=this._map.layerPointToLatLng(l)),this._tooltip.setLatLng(n)}});var Ml=mn.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(t){var n=t&&t.tagName==="DIV"?t:document.createElement("div"),s=this.options;if(s.html instanceof Element?(nr(n),n.appendChild(s.html)):n.innerHTML=s.html!==!1?s.html:"",s.bgPos){var l=k(s.bgPos);n.style.backgroundPosition=-l.x+"px "+-l.y+"px"}return this._setIconStyles(n,"icon"),n},createShadow:function(){return null}});function Ad(t){return new Ml(t)}mn.Default=ni;var ii=te.extend({options:{tileSize:256,opacity:1,updateWhenIdle:E.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(t){I(this,t)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(t){t._addZoomLimit(this)},onRemove:function(t){this._removeAllTiles(),at(this._container),t._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(dn(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(fn(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(t){return this.options.opacity=t,this._updateOpacity(),this},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var t=this._clampZoom(this._map.getZoom());t!==this._tileZoom&&(this._tileZoom=t,this._updateLevels()),this._update()}return this},getEvents:function(){var t={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=f(this._onMoveEnd,this.options.updateInterval,this)),t.move=this._onMove),this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},createTile:function(){return document.createElement("div")},getTileSize:function(){var t=this.options.tileSize;return t instanceof N?t:new N(t,t)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(t){for(var n=this.getPane().children,s=-t(-1/0,1/0),l=0,c=n.length,d;l<c;l++)d=n[l].style.zIndex,n[l]!==this._container&&d&&(s=t(s,+d));isFinite(s)&&(this.options.zIndex=s+t(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!E.ielt9){Ut(this._container,this.options.opacity);var t=+new Date,n=!1,s=!1;for(var l in this._tiles){var c=this._tiles[l];if(!(!c.current||!c.loaded)){var d=Math.min(1,(t-c.loaded)/200);Ut(c.el,d),d<1?n=!0:(c.active?s=!0:this._onOpaqueTile(c),c.active=!0)}}s&&!this._noPrune&&this._pruneTiles(),n&&(jt(this._fadeFrame),this._fadeFrame=Ot(this._updateOpacity,this))}},_onOpaqueTile:m,_initContainer:function(){this._container||(this._container=K("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var t=this._tileZoom,n=this.options.maxZoom;if(t!==void 0){for(var s in this._levels)s=Number(s),this._levels[s].el.children.length||s===t?(this._levels[s].el.style.zIndex=n-Math.abs(t-s),this._onUpdateLevel(s)):(at(this._levels[s].el),this._removeTilesAtZoom(s),this._onRemoveLevel(s),delete this._levels[s]);var l=this._levels[t],c=this._map;return l||(l=this._levels[t]={},l.el=K("div","leaflet-tile-container leaflet-zoom-animated",this._container),l.el.style.zIndex=n,l.origin=c.project(c.unproject(c.getPixelOrigin()),t).round(),l.zoom=t,this._setZoomTransform(l,c.getCenter(),c.getZoom()),m(l.el.offsetWidth),this._onCreateLevel(l)),this._level=l,l}},_onUpdateLevel:m,_onRemoveLevel:m,_onCreateLevel:m,_pruneTiles:function(){if(this._map){var t,n,s=this._map.getZoom();if(s>this.options.maxZoom||s<this.options.minZoom){this._removeAllTiles();return}for(t in this._tiles)n=this._tiles[t],n.retain=n.current;for(t in this._tiles)if(n=this._tiles[t],n.current&&!n.active){var l=n.coords;this._retainParent(l.x,l.y,l.z,l.z-5)||this._retainChildren(l.x,l.y,l.z,l.z+2)}for(t in this._tiles)this._tiles[t].retain||this._removeTile(t)}},_removeTilesAtZoom:function(t){for(var n in this._tiles)this._tiles[n].coords.z===t&&this._removeTile(n)},_removeAllTiles:function(){for(var t in this._tiles)this._removeTile(t)},_invalidateAll:function(){for(var t in this._levels)at(this._levels[t].el),this._onRemoveLevel(Number(t)),delete this._levels[t];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(t,n,s,l){var c=Math.floor(t/2),d=Math.floor(n/2),p=s-1,g=new N(+c,+d);g.z=+p;var _=this._tileCoordsToKey(g),y=this._tiles[_];return y&&y.active?(y.retain=!0,!0):(y&&y.loaded&&(y.retain=!0),p>l?this._retainParent(c,d,p,l):!1)},_retainChildren:function(t,n,s,l){for(var c=2*t;c<2*t+2;c++)for(var d=2*n;d<2*n+2;d++){var p=new N(c,d);p.z=s+1;var g=this._tileCoordsToKey(p),_=this._tiles[g];if(_&&_.active){_.retain=!0;continue}else _&&_.loaded&&(_.retain=!0);s+1<l&&this._retainChildren(c,d,s+1,l)}},_resetView:function(t){var n=t&&(t.pinch||t.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),n,n)},_animateZoom:function(t){this._setView(t.center,t.zoom,!0,t.noUpdate)},_clampZoom:function(t){var n=this.options;return n.minNativeZoom!==void 0&&t<n.minNativeZoom?n.minNativeZoom:n.maxNativeZoom!==void 0&&n.maxNativeZoom<t?n.maxNativeZoom:t},_setView:function(t,n,s,l){var c=Math.round(n);this.options.maxZoom!==void 0&&c>this.options.maxZoom||this.options.minZoom!==void 0&&c<this.options.minZoom?c=void 0:c=this._clampZoom(c);var d=this.options.updateWhenZooming&&c!==this._tileZoom;(!l||d)&&(this._tileZoom=c,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),c!==void 0&&this._update(t),s||this._pruneTiles(),this._noPrune=!!s),this._setZoomTransforms(t,n)},_setZoomTransforms:function(t,n){for(var s in this._levels)this._setZoomTransform(this._levels[s],t,n)},_setZoomTransform:function(t,n,s){var l=this._map.getZoomScale(s,t.zoom),c=t.origin.multiplyBy(l).subtract(this._map._getNewPixelOrigin(n,s)).round();E.any3d?qe(t.el,c,l):dt(t.el,c)},_resetGrid:function(){var t=this._map,n=t.options.crs,s=this._tileSize=this.getTileSize(),l=this._tileZoom,c=this._map.getPixelWorldBounds(this._tileZoom);c&&(this._globalTileRange=this._pxBoundsToTileRange(c)),this._wrapX=n.wrapLng&&!this.options.noWrap&&[Math.floor(t.project([0,n.wrapLng[0]],l).x/s.x),Math.ceil(t.project([0,n.wrapLng[1]],l).x/s.y)],this._wrapY=n.wrapLat&&!this.options.noWrap&&[Math.floor(t.project([n.wrapLat[0],0],l).y/s.x),Math.ceil(t.project([n.wrapLat[1],0],l).y/s.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(t){var n=this._map,s=n._animatingZoom?Math.max(n._animateToZoom,n.getZoom()):n.getZoom(),l=n.getZoomScale(s,this._tileZoom),c=n.project(t,this._tileZoom).floor(),d=n.getSize().divideBy(l*2);return new st(c.subtract(d),c.add(d))},_update:function(t){var n=this._map;if(n){var s=this._clampZoom(n.getZoom());if(t===void 0&&(t=n.getCenter()),this._tileZoom!==void 0){var l=this._getTiledPixelBounds(t),c=this._pxBoundsToTileRange(l),d=c.getCenter(),p=[],g=this.options.keepBuffer,_=new st(c.getBottomLeft().subtract([g,-g]),c.getTopRight().add([g,-g]));if(!(isFinite(c.min.x)&&isFinite(c.min.y)&&isFinite(c.max.x)&&isFinite(c.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var y in this._tiles){var M=this._tiles[y].coords;(M.z!==this._tileZoom||!_.contains(new N(M.x,M.y)))&&(this._tiles[y].current=!1)}if(Math.abs(s-this._tileZoom)>1){this._setView(t,s);return}for(var D=c.min.y;D<=c.max.y;D++)for(var Z=c.min.x;Z<=c.max.x;Z++){var xt=new N(Z,D);if(xt.z=this._tileZoom,!!this._isValidTile(xt)){var vt=this._tiles[this._tileCoordsToKey(xt)];vt?vt.current=!0:p.push(xt)}}if(p.sort(function(Dt,yn){return Dt.distanceTo(d)-yn.distanceTo(d)}),p.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var $t=document.createDocumentFragment();for(Z=0;Z<p.length;Z++)this._addTile(p[Z],$t);this._level.el.appendChild($t)}}}},_isValidTile:function(t){var n=this._map.options.crs;if(!n.infinite){var s=this._globalTileRange;if(!n.wrapLng&&(t.x<s.min.x||t.x>s.max.x)||!n.wrapLat&&(t.y<s.min.y||t.y>s.max.y))return!1}if(!this.options.bounds)return!0;var l=this._tileCoordsToBounds(t);return ht(this.options.bounds).overlaps(l)},_keyToBounds:function(t){return this._tileCoordsToBounds(this._keyToTileCoords(t))},_tileCoordsToNwSe:function(t){var n=this._map,s=this.getTileSize(),l=t.scaleBy(s),c=l.add(s),d=n.unproject(l,t.z),p=n.unproject(c,t.z);return[d,p]},_tileCoordsToBounds:function(t){var n=this._tileCoordsToNwSe(t),s=new At(n[0],n[1]);return this.options.noWrap||(s=this._map.wrapLatLngBounds(s)),s},_tileCoordsToKey:function(t){return t.x+":"+t.y+":"+t.z},_keyToTileCoords:function(t){var n=t.split(":"),s=new N(+n[0],+n[1]);return s.z=+n[2],s},_removeTile:function(t){var n=this._tiles[t];n&&(at(n.el),delete this._tiles[t],this.fire("tileunload",{tile:n.el,coords:this._keyToTileCoords(t)}))},_initTile:function(t){B(t,"leaflet-tile");var n=this.getTileSize();t.style.width=n.x+"px",t.style.height=n.y+"px",t.onselectstart=m,t.onmousemove=m,E.ielt9&&this.options.opacity<1&&Ut(t,this.options.opacity)},_addTile:function(t,n){var s=this._getTilePos(t),l=this._tileCoordsToKey(t),c=this.createTile(this._wrapCoords(t),o(this._tileReady,this,t));this._initTile(c),this.createTile.length<2&&Ot(o(this._tileReady,this,t,null,c)),dt(c,s),this._tiles[l]={el:c,coords:t,current:!0},n.appendChild(c),this.fire("tileloadstart",{tile:c,coords:t})},_tileReady:function(t,n,s){n&&this.fire("tileerror",{error:n,tile:s,coords:t});var l=this._tileCoordsToKey(t);s=this._tiles[l],s&&(s.loaded=+new Date,this._map._fadeAnimated?(Ut(s.el,0),jt(this._fadeFrame),this._fadeFrame=Ot(this._updateOpacity,this)):(s.active=!0,this._pruneTiles()),n||(B(s.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:s.el,coords:t})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),E.ielt9||!this._map._fadeAnimated?Ot(this._pruneTiles,this):setTimeout(o(this._pruneTiles,this),250)))},_getTilePos:function(t){return t.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(t){var n=new N(this._wrapX?v(t.x,this._wrapX):t.x,this._wrapY?v(t.y,this._wrapY):t.y);return n.z=t.z,n},_pxBoundsToTileRange:function(t){var n=this.getTileSize();return new st(t.min.unscaleBy(n).floor(),t.max.unscaleBy(n).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var t in this._tiles)if(!this._tiles[t].loaded)return!1;return!0}});function Dd(t){return new ii(t)}var _n=ii.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(t,n){this._url=t,n=I(this,n),n.detectRetina&&E.retina&&n.maxZoom>0?(n.tileSize=Math.floor(n.tileSize/2),n.zoomReverse?(n.zoomOffset--,n.minZoom=Math.min(n.maxZoom,n.minZoom+1)):(n.zoomOffset++,n.maxZoom=Math.max(n.minZoom,n.maxZoom-1)),n.minZoom=Math.max(0,n.minZoom)):n.zoomReverse?n.minZoom=Math.min(n.maxZoom,n.minZoom):n.maxZoom=Math.max(n.minZoom,n.maxZoom),typeof n.subdomains=="string"&&(n.subdomains=n.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(t,n){return this._url===t&&n===void 0&&(n=!0),this._url=t,n||this.redraw(),this},createTile:function(t,n){var s=document.createElement("img");return F(s,"load",o(this._tileOnLoad,this,n,s)),F(s,"error",o(this._tileOnError,this,n,s)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(s.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(s.referrerPolicy=this.options.referrerPolicy),s.alt="",s.src=this.getTileUrl(t),s},getTileUrl:function(t){var n={r:E.retina?"@2x":"",s:this._getSubdomain(t),x:t.x,y:t.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var s=this._globalTileRange.max.y-t.y;this.options.tms&&(n.y=s),n["-y"]=s}return J(this._url,a(n,this.options))},_tileOnLoad:function(t,n){E.ielt9?setTimeout(o(t,this,null,n),0):t(null,n)},_tileOnError:function(t,n,s){var l=this.options.errorTileUrl;l&&n.getAttribute("src")!==l&&(n.src=l),t(s,n)},_onTileRemove:function(t){t.tile.onload=null},_getZoomForUrl:function(){var t=this._tileZoom,n=this.options.maxZoom,s=this.options.zoomReverse,l=this.options.zoomOffset;return s&&(t=n-t),t+l},_getSubdomain:function(t){var n=Math.abs(t.x+t.y)%this.options.subdomains.length;return this.options.subdomains[n]},_abortLoading:function(){var t,n;for(t in this._tiles)if(this._tiles[t].coords.z!==this._tileZoom&&(n=this._tiles[t].el,n.onload=m,n.onerror=m,!n.complete)){n.src=Ge;var s=this._tiles[t].coords;at(n),delete this._tiles[t],this.fire("tileabort",{tile:n,coords:s})}},_removeTile:function(t){var n=this._tiles[t];if(n)return n.el.setAttribute("src",Ge),ii.prototype._removeTile.call(this,t)},_tileReady:function(t,n,s){if(!(!this._map||s&&s.getAttribute("src")===Ge))return ii.prototype._tileReady.call(this,t,n,s)}});function Pl(t,n){return new _n(t,n)}var Sl=_n.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(t,n){this._url=t;var s=a({},this.defaultWmsParams);for(var l in n)l in this.options||(s[l]=n[l]);n=I(this,n);var c=n.detectRetina&&E.retina?2:1,d=this.getTileSize();s.width=d.x*c,s.height=d.y*c,this.wmsParams=s},onAdd:function(t){this._crs=this.options.crs||t.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var n=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[n]=this._crs.code,_n.prototype.onAdd.call(this,t)},getTileUrl:function(t){var n=this._tileCoordsToNwSe(t),s=this._crs,l=Lt(s.project(n[0]),s.project(n[1])),c=l.min,d=l.max,p=(this._wmsVersion>=1.3&&this._crs===vl?[c.y,c.x,d.y,d.x]:[c.x,c.y,d.x,d.y]).join(","),g=_n.prototype.getTileUrl.call(this,t);return g+Jt(this.wmsParams,g,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+p},setParams:function(t,n){return a(this.wmsParams,t),n||this.redraw(),this}});function Rd(t,n){return new Sl(t,n)}_n.WMS=Sl,Pl.wms=Rd;var ve=te.extend({options:{padding:.1},initialize:function(t){I(this,t),h(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),B(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var t={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(t.zoomanim=this._onAnimZoom),t},_onAnimZoom:function(t){this._updateTransform(t.center,t.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(t,n){var s=this._map.getZoomScale(n,this._zoom),l=this._map.getSize().multiplyBy(.5+this.options.padding),c=this._map.project(this._center,n),d=l.multiplyBy(-s).add(c).subtract(this._map._getNewPixelOrigin(t,n));E.any3d?qe(this._container,d,s):dt(this._container,d)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var t in this._layers)this._layers[t]._reset()},_onZoomEnd:function(){for(var t in this._layers)this._layers[t]._project()},_updatePaths:function(){for(var t in this._layers)this._layers[t]._update()},_update:function(){var t=this.options.padding,n=this._map.getSize(),s=this._map.containerPointToLayerPoint(n.multiplyBy(-t)).round();this._bounds=new st(s,s.add(n.multiplyBy(1+t*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),xl=ve.extend({options:{tolerance:0},getEvents:function(){var t=ve.prototype.getEvents.call(this);return t.viewprereset=this._onViewPreReset,t},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){ve.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var t=this._container=document.createElement("canvas");F(t,"mousemove",this._onMouseMove,this),F(t,"click dblclick mousedown mouseup contextmenu",this._onClick,this),F(t,"mouseout",this._handleMouseOut,this),t._leaflet_disable_events=!0,this._ctx=t.getContext("2d")},_destroyContainer:function(){jt(this._redrawRequest),delete this._ctx,at(this._container),it(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var t;this._redrawBounds=null;for(var n in this._layers)t=this._layers[n],t._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){ve.prototype._update.call(this);var t=this._bounds,n=this._container,s=t.getSize(),l=E.retina?2:1;dt(n,t.min),n.width=l*s.x,n.height=l*s.y,n.style.width=s.x+"px",n.style.height=s.y+"px",E.retina&&this._ctx.scale(2,2),this._ctx.translate(-t.min.x,-t.min.y),this.fire("update")}},_reset:function(){ve.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(t){this._updateDashArray(t),this._layers[h(t)]=t;var n=t._order={layer:t,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=n),this._drawLast=n,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(t){this._requestRedraw(t)},_removePath:function(t){var n=t._order,s=n.next,l=n.prev;s?s.prev=l:this._drawLast=l,l?l.next=s:this._drawFirst=s,delete t._order,delete this._layers[h(t)],this._requestRedraw(t)},_updatePath:function(t){this._extendRedrawBounds(t),t._project(),t._update(),this._requestRedraw(t)},_updateStyle:function(t){this._updateDashArray(t),this._requestRedraw(t)},_updateDashArray:function(t){if(typeof t.options.dashArray=="string"){var n=t.options.dashArray.split(/[, ]+/),s=[],l,c;for(c=0;c<n.length;c++){if(l=Number(n[c]),isNaN(l))return;s.push(l)}t.options._dashArray=s}else t.options._dashArray=t.options.dashArray},_requestRedraw:function(t){this._map&&(this._extendRedrawBounds(t),this._redrawRequest=this._redrawRequest||Ot(this._redraw,this))},_extendRedrawBounds:function(t){if(t._pxBounds){var n=(t.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new st,this._redrawBounds.extend(t._pxBounds.min.subtract([n,n])),this._redrawBounds.extend(t._pxBounds.max.add([n,n]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var t=this._redrawBounds;if(t){var n=t.getSize();this._ctx.clearRect(t.min.x,t.min.y,n.x,n.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var t,n=this._redrawBounds;if(this._ctx.save(),n){var s=n.getSize();this._ctx.beginPath(),this._ctx.rect(n.min.x,n.min.y,s.x,s.y),this._ctx.clip()}this._drawing=!0;for(var l=this._drawFirst;l;l=l.next)t=l.layer,(!n||t._pxBounds&&t._pxBounds.intersects(n))&&t._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(t,n){if(this._drawing){var s,l,c,d,p=t._parts,g=p.length,_=this._ctx;if(g){for(_.beginPath(),s=0;s<g;s++){for(l=0,c=p[s].length;l<c;l++)d=p[s][l],_[l?"lineTo":"moveTo"](d.x,d.y);n&&_.closePath()}this._fillStroke(_,t)}}},_updateCircle:function(t){if(!(!this._drawing||t._empty())){var n=t._point,s=this._ctx,l=Math.max(Math.round(t._radius),1),c=(Math.max(Math.round(t._radiusY),1)||l)/l;c!==1&&(s.save(),s.scale(1,c)),s.beginPath(),s.arc(n.x,n.y/c,l,0,Math.PI*2,!1),c!==1&&s.restore(),this._fillStroke(s,t)}},_fillStroke:function(t,n){var s=n.options;s.fill&&(t.globalAlpha=s.fillOpacity,t.fillStyle=s.fillColor||s.color,t.fill(s.fillRule||"evenodd")),s.stroke&&s.weight!==0&&(t.setLineDash&&t.setLineDash(n.options&&n.options._dashArray||[]),t.globalAlpha=s.opacity,t.lineWidth=s.weight,t.strokeStyle=s.color,t.lineCap=s.lineCap,t.lineJoin=s.lineJoin,t.stroke())},_onClick:function(t){for(var n=this._map.mouseEventToLayerPoint(t),s,l,c=this._drawFirst;c;c=c.next)s=c.layer,s.options.interactive&&s._containsPoint(n)&&(!(t.type==="click"||t.type==="preclick")||!this._map._draggableMoved(s))&&(l=s);this._fireEvent(l?[l]:!1,t)},_onMouseMove:function(t){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var n=this._map.mouseEventToLayerPoint(t);this._handleMouseHover(t,n)}},_handleMouseOut:function(t){var n=this._hoveredLayer;n&&(lt(this._container,"leaflet-interactive"),this._fireEvent([n],t,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(t,n){if(!this._mouseHoverThrottled){for(var s,l,c=this._drawFirst;c;c=c.next)s=c.layer,s.options.interactive&&s._containsPoint(n)&&(l=s);l!==this._hoveredLayer&&(this._handleMouseOut(t),l&&(B(this._container,"leaflet-interactive"),this._fireEvent([l],t,"mouseover"),this._hoveredLayer=l)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,t),this._mouseHoverThrottled=!0,setTimeout(o(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(t,n,s){this._map._fireDOMEvent(n,s||n.type,t)},_bringToFront:function(t){var n=t._order;if(n){var s=n.next,l=n.prev;if(s)s.prev=l;else return;l?l.next=s:s&&(this._drawFirst=s),n.prev=this._drawLast,this._drawLast.next=n,n.next=null,this._drawLast=n,this._requestRedraw(t)}},_bringToBack:function(t){var n=t._order;if(n){var s=n.next,l=n.prev;if(l)l.next=s;else return;s?s.prev=l:l&&(this._drawLast=l),n.prev=null,n.next=this._drawFirst,this._drawFirst.prev=n,this._drawFirst=n,this._requestRedraw(t)}}});function Tl(t){return E.canvas?new xl(t):null}var ri=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(t){return document.createElement("<lvml:"+t+' class="lvml">')}}catch{}return function(t){return document.createElement("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),kd={_initContainer:function(){this._container=K("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(ve.prototype._update.call(this),this.fire("update"))},_initPath:function(t){var n=t._container=ri("shape");B(n,"leaflet-vml-shape "+(this.options.className||"")),n.coordsize="1 1",t._path=ri("path"),n.appendChild(t._path),this._updateStyle(t),this._layers[h(t)]=t},_addPath:function(t){var n=t._container;this._container.appendChild(n),t.options.interactive&&t.addInteractiveTarget(n)},_removePath:function(t){var n=t._container;at(n),t.removeInteractiveTarget(n),delete this._layers[h(t)]},_updateStyle:function(t){var n=t._stroke,s=t._fill,l=t.options,c=t._container;c.stroked=!!l.stroke,c.filled=!!l.fill,l.stroke?(n||(n=t._stroke=ri("stroke")),c.appendChild(n),n.weight=l.weight+"px",n.color=l.color,n.opacity=l.opacity,l.dashArray?n.dashStyle=V(l.dashArray)?l.dashArray.join(" "):l.dashArray.replace(/( *, *)/g," "):n.dashStyle="",n.endcap=l.lineCap.replace("butt","flat"),n.joinstyle=l.lineJoin):n&&(c.removeChild(n),t._stroke=null),l.fill?(s||(s=t._fill=ri("fill")),c.appendChild(s),s.color=l.fillColor||l.color,s.opacity=l.fillOpacity):s&&(c.removeChild(s),t._fill=null)},_updateCircle:function(t){var n=t._point.round(),s=Math.round(t._radius),l=Math.round(t._radiusY||s);this._setPath(t,t._empty()?"M0 0":"AL "+n.x+","+n.y+" "+s+","+l+" 0,"+65535*360)},_setPath:function(t,n){t._path.v=n},_bringToFront:function(t){dn(t._container)},_bringToBack:function(t){fn(t._container)}},vr=E.vml?ri:La,oi=ve.extend({_initContainer:function(){this._container=vr("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=vr("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){at(this._container),it(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){ve.prototype._update.call(this);var t=this._bounds,n=t.getSize(),s=this._container;(!this._svgSize||!this._svgSize.equals(n))&&(this._svgSize=n,s.setAttribute("width",n.x),s.setAttribute("height",n.y)),dt(s,t.min),s.setAttribute("viewBox",[t.min.x,t.min.y,n.x,n.y].join(" ")),this.fire("update")}},_initPath:function(t){var n=t._path=vr("path");t.options.className&&B(n,t.options.className),t.options.interactive&&B(n,"leaflet-interactive"),this._updateStyle(t),this._layers[h(t)]=t},_addPath:function(t){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(t._path),t.addInteractiveTarget(t._path)},_removePath:function(t){at(t._path),t.removeInteractiveTarget(t._path),delete this._layers[h(t)]},_updatePath:function(t){t._project(),t._update()},_updateStyle:function(t){var n=t._path,s=t.options;n&&(s.stroke?(n.setAttribute("stroke",s.color),n.setAttribute("stroke-opacity",s.opacity),n.setAttribute("stroke-width",s.weight),n.setAttribute("stroke-linecap",s.lineCap),n.setAttribute("stroke-linejoin",s.lineJoin),s.dashArray?n.setAttribute("stroke-dasharray",s.dashArray):n.removeAttribute("stroke-dasharray"),s.dashOffset?n.setAttribute("stroke-dashoffset",s.dashOffset):n.removeAttribute("stroke-dashoffset")):n.setAttribute("stroke","none"),s.fill?(n.setAttribute("fill",s.fillColor||s.color),n.setAttribute("fill-opacity",s.fillOpacity),n.setAttribute("fill-rule",s.fillRule||"evenodd")):n.setAttribute("fill","none"))},_updatePoly:function(t,n){this._setPath(t,Aa(t._parts,n))},_updateCircle:function(t){var n=t._point,s=Math.max(Math.round(t._radius),1),l=Math.max(Math.round(t._radiusY),1)||s,c="a"+s+","+l+" 0 1,0 ",d=t._empty()?"M0 0":"M"+(n.x-s)+","+n.y+c+s*2+",0 "+c+-s*2+",0 ";this._setPath(t,d)},_setPath:function(t,n){t._path.setAttribute("d",n)},_bringToFront:function(t){dn(t._path)},_bringToBack:function(t){fn(t._path)}});E.vml&&oi.include(kd);function El(t){return E.svg||E.vml?new oi(t):null}G.include({getRenderer:function(t){var n=t.options.renderer||this._getPaneRenderer(t.options.pane)||this.options.renderer||this._renderer;return n||(n=this._renderer=this._createRenderer()),this.hasLayer(n)||this.addLayer(n),n},_getPaneRenderer:function(t){if(t==="overlayPane"||t===void 0)return!1;var n=this._paneRenderers[t];return n===void 0&&(n=this._createRenderer({pane:t}),this._paneRenderers[t]=n),n},_createRenderer:function(t){return this.options.preferCanvas&&Tl(t)||El(t)}});var Il=gn.extend({initialize:function(t,n){gn.prototype.initialize.call(this,this._boundsToLatLngs(t),n)},setBounds:function(t){return this.setLatLngs(this._boundsToLatLngs(t))},_boundsToLatLngs:function(t){return t=ht(t),[t.getSouthWest(),t.getNorthWest(),t.getNorthEast(),t.getSouthEast()]}});function Nd(t,n){return new Il(t,n)}oi.create=vr,oi.pointsToPath=Aa,ge.geometryToLayer=cr,ge.coordsToLatLng=Xo,ge.coordsToLatLngs=hr,ge.latLngToCoords=Jo,ge.latLngsToCoords=dr,ge.getFeature=vn,ge.asFeature=fr,G.mergeOptions({boxZoom:!0});var Ol=ae.extend({initialize:function(t){this._map=t,this._container=t._container,this._pane=t._panes.overlayPane,this._resetStateTimeout=0,t.on("unload",this._destroy,this)},addHooks:function(){F(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){it(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){at(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(t){if(!t.shiftKey||t.which!==1&&t.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Yn(),Ro(),this._startPoint=this._map.mouseEventToContainerPoint(t),F(document,{contextmenu:Xe,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(t){this._moved||(this._moved=!0,this._box=K("div","leaflet-zoom-box",this._container),B(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(t);var n=new st(this._point,this._startPoint),s=n.getSize();dt(this._box,n.min),this._box.style.width=s.x+"px",this._box.style.height=s.y+"px"},_finish:function(){this._moved&&(at(this._box),lt(this._container,"leaflet-crosshair")),Xn(),ko(),it(document,{contextmenu:Xe,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(t){if(!(t.which!==1&&t.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(o(this._resetState,this),0);var n=new At(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(n).fire("boxzoomend",{boxZoomBounds:n})}},_onKeyDown:function(t){t.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});G.addInitHook("addHandler","boxZoom",Ol),G.mergeOptions({doubleClickZoom:!0});var Ll=ae.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(t){var n=this._map,s=n.getZoom(),l=n.options.zoomDelta,c=t.originalEvent.shiftKey?s-l:s+l;n.options.doubleClickZoom==="center"?n.setZoom(c):n.setZoomAround(t.containerPoint,c)}});G.addInitHook("addHandler","doubleClickZoom",Ll),G.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Al=ae.extend({addHooks:function(){if(!this._draggable){var t=this._map;this._draggable=new Se(t._mapPane,t._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),t.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),t.on("zoomend",this._onZoomEnd,this),t.whenReady(this._onZoomEnd,this))}B(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){lt(this._map._container,"leaflet-grab"),lt(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var t=this._map;if(t._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var n=ht(this._map.options.maxBounds);this._offsetLimit=Lt(this._map.latLngToContainerPoint(n.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(n.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;t.fire("movestart").fire("dragstart"),t.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(t){if(this._map.options.inertia){var n=this._lastTime=+new Date,s=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(s),this._times.push(n),this._prunePositions(n)}this._map.fire("move",t).fire("drag",t)},_prunePositions:function(t){for(;this._positions.length>1&&t-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var t=this._map.getSize().divideBy(2),n=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=n.subtract(t).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(t,n){return t-(t-n)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var t=this._draggable._newPos.subtract(this._draggable._startPos),n=this._offsetLimit;t.x<n.min.x&&(t.x=this._viscousLimit(t.x,n.min.x)),t.y<n.min.y&&(t.y=this._viscousLimit(t.y,n.min.y)),t.x>n.max.x&&(t.x=this._viscousLimit(t.x,n.max.x)),t.y>n.max.y&&(t.y=this._viscousLimit(t.y,n.max.y)),this._draggable._newPos=this._draggable._startPos.add(t)}},_onPreDragWrap:function(){var t=this._worldWidth,n=Math.round(t/2),s=this._initialWorldOffset,l=this._draggable._newPos.x,c=(l-n+s)%t+n-s,d=(l+n+s)%t-n-s,p=Math.abs(c+s)<Math.abs(d+s)?c:d;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=p},_onDragEnd:function(t){var n=this._map,s=n.options,l=!s.inertia||t.noInertia||this._times.length<2;if(n.fire("dragend",t),l)n.fire("moveend");else{this._prunePositions(+new Date);var c=this._lastPos.subtract(this._positions[0]),d=(this._lastTime-this._times[0])/1e3,p=s.easeLinearity,g=c.multiplyBy(p/d),_=g.distanceTo([0,0]),y=Math.min(s.inertiaMaxSpeed,_),M=g.multiplyBy(y/_),D=y/(s.inertiaDeceleration*p),Z=M.multiplyBy(-D/2).round();!Z.x&&!Z.y?n.fire("moveend"):(Z=n._limitOffset(Z,n.options.maxBounds),Ot(function(){n.panBy(Z,{duration:D,easeLinearity:p,noMoveStart:!0,animate:!0})}))}}});G.addInitHook("addHandler","dragging",Al),G.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Dl=ae.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(t){this._map=t,this._setPanDelta(t.options.keyboardPanDelta),this._setZoomDelta(t.options.zoomDelta)},addHooks:function(){var t=this._map._container;t.tabIndex<=0&&(t.tabIndex="0"),F(t,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),it(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var t=document.body,n=document.documentElement,s=t.scrollTop||n.scrollTop,l=t.scrollLeft||n.scrollLeft;this._map._container.focus(),window.scrollTo(l,s)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(t){var n=this._panKeys={},s=this.keyCodes,l,c;for(l=0,c=s.left.length;l<c;l++)n[s.left[l]]=[-1*t,0];for(l=0,c=s.right.length;l<c;l++)n[s.right[l]]=[t,0];for(l=0,c=s.down.length;l<c;l++)n[s.down[l]]=[0,t];for(l=0,c=s.up.length;l<c;l++)n[s.up[l]]=[0,-1*t]},_setZoomDelta:function(t){var n=this._zoomKeys={},s=this.keyCodes,l,c;for(l=0,c=s.zoomIn.length;l<c;l++)n[s.zoomIn[l]]=t;for(l=0,c=s.zoomOut.length;l<c;l++)n[s.zoomOut[l]]=-t},_addHooks:function(){F(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){it(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(t){if(!(t.altKey||t.ctrlKey||t.metaKey)){var n=t.keyCode,s=this._map,l;if(n in this._panKeys){if(!s._panAnim||!s._panAnim._inProgress)if(l=this._panKeys[n],t.shiftKey&&(l=k(l).multiplyBy(3)),s.options.maxBounds&&(l=s._limitOffset(k(l),s.options.maxBounds)),s.options.worldCopyJump){var c=s.wrapLatLng(s.unproject(s.project(s.getCenter()).add(l)));s.panTo(c)}else s.panBy(l)}else if(n in this._zoomKeys)s.setZoom(s.getZoom()+(t.shiftKey?3:1)*this._zoomKeys[n]);else if(n===27&&s._popup&&s._popup.options.closeOnEscapeKey)s.closePopup();else return;Xe(t)}}});G.addInitHook("addHandler","keyboard",Dl),G.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Rl=ae.extend({addHooks:function(){F(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){it(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(t){var n=rl(t),s=this._map.options.wheelDebounceTime;this._delta+=n,this._lastMousePos=this._map.mouseEventToContainerPoint(t),this._startTime||(this._startTime=+new Date);var l=Math.max(s-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(o(this._performZoom,this),l),Xe(t)},_performZoom:function(){var t=this._map,n=t.getZoom(),s=this._map.options.zoomSnap||0;t._stop();var l=this._delta/(this._map.options.wheelPxPerZoomLevel*4),c=4*Math.log(2/(1+Math.exp(-Math.abs(l))))/Math.LN2,d=s?Math.ceil(c/s)*s:c,p=t._limitZoom(n+(this._delta>0?d:-d))-n;this._delta=0,this._startTime=null,p&&(t.options.scrollWheelZoom==="center"?t.setZoom(n+p):t.setZoomAround(this._lastMousePos,n+p))}});G.addInitHook("addHandler","scrollWheelZoom",Rl);var Fd=600;G.mergeOptions({tapHold:E.touchNative&&E.safari&&E.mobile,tapTolerance:15});var kl=ae.extend({addHooks:function(){F(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){it(this._map._container,"touchstart",this._onDown,this)},_onDown:function(t){if(clearTimeout(this._holdTimeout),t.touches.length===1){var n=t.touches[0];this._startPos=this._newPos=new N(n.clientX,n.clientY),this._holdTimeout=setTimeout(o(function(){this._cancel(),this._isTapValid()&&(F(document,"touchend",bt),F(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",n))},this),Fd),F(document,"touchend touchcancel contextmenu",this._cancel,this),F(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function t(){it(document,"touchend",bt),it(document,"touchend touchcancel",t)},_cancel:function(){clearTimeout(this._holdTimeout),it(document,"touchend touchcancel contextmenu",this._cancel,this),it(document,"touchmove",this._onMove,this)},_onMove:function(t){var n=t.touches[0];this._newPos=new N(n.clientX,n.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(t,n){var s=new MouseEvent(t,{bubbles:!0,cancelable:!0,view:window,screenX:n.screenX,screenY:n.screenY,clientX:n.clientX,clientY:n.clientY});s._simulated=!0,n.target.dispatchEvent(s)}});G.addInitHook("addHandler","tapHold",kl),G.mergeOptions({touchZoom:E.touch,bounceAtZoomLimits:!0});var Nl=ae.extend({addHooks:function(){B(this._map._container,"leaflet-touch-zoom"),F(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){lt(this._map._container,"leaflet-touch-zoom"),it(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(t){var n=this._map;if(!(!t.touches||t.touches.length!==2||n._animatingZoom||this._zooming)){var s=n.mouseEventToContainerPoint(t.touches[0]),l=n.mouseEventToContainerPoint(t.touches[1]);this._centerPoint=n.getSize()._divideBy(2),this._startLatLng=n.containerPointToLatLng(this._centerPoint),n.options.touchZoom!=="center"&&(this._pinchStartLatLng=n.containerPointToLatLng(s.add(l)._divideBy(2))),this._startDist=s.distanceTo(l),this._startZoom=n.getZoom(),this._moved=!1,this._zooming=!0,n._stop(),F(document,"touchmove",this._onTouchMove,this),F(document,"touchend touchcancel",this._onTouchEnd,this),bt(t)}},_onTouchMove:function(t){if(!(!t.touches||t.touches.length!==2||!this._zooming)){var n=this._map,s=n.mouseEventToContainerPoint(t.touches[0]),l=n.mouseEventToContainerPoint(t.touches[1]),c=s.distanceTo(l)/this._startDist;if(this._zoom=n.getScaleZoom(c,this._startZoom),!n.options.bounceAtZoomLimits&&(this._zoom<n.getMinZoom()&&c<1||this._zoom>n.getMaxZoom()&&c>1)&&(this._zoom=n._limitZoom(this._zoom)),n.options.touchZoom==="center"){if(this._center=this._startLatLng,c===1)return}else{var d=s._add(l)._divideBy(2)._subtract(this._centerPoint);if(c===1&&d.x===0&&d.y===0)return;this._center=n.unproject(n.project(this._pinchStartLatLng,this._zoom).subtract(d),this._zoom)}this._moved||(n._moveStart(!0,!1),this._moved=!0),jt(this._animRequest);var p=o(n._move,n,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=Ot(p,this,!0),bt(t)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,jt(this._animRequest),it(document,"touchmove",this._onTouchMove,this),it(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});G.addInitHook("addHandler","touchZoom",Nl),G.BoxZoom=Ol,G.DoubleClickZoom=Ll,G.Drag=Al,G.Keyboard=Dl,G.ScrollWheelZoom=Rl,G.TapHold=kl,G.TouchZoom=Nl,i.Bounds=st,i.Browser=E,i.CRS=fe,i.Canvas=xl,i.Circle=Yo,i.CircleMarker=ur,i.Class=de,i.Control=Qt,i.DivIcon=Ml,i.DivOverlay=le,i.DomEvent=ed,i.DomUtil=Qh,i.Draggable=Se,i.Evented=Hn,i.FeatureGroup=pe,i.GeoJSON=ge,i.GridLayer=ii,i.Handler=ae,i.Icon=mn,i.ImageOverlay=pr,i.LatLng=tt,i.LatLngBounds=At,i.Layer=te,i.LayerGroup=pn,i.LineUtil=pd,i.Map=G,i.Marker=lr,i.Mixin=ld,i.Path=xe,i.Point=N,i.PolyUtil=ud,i.Polygon=gn,i.Polyline=me,i.Popup=mr,i.PosAnimation=ol,i.Projection=md,i.Rectangle=Il,i.Renderer=ve,i.SVG=oi,i.SVGOverlay=Cl,i.TileLayer=_n,i.Tooltip=gr,i.Transformation=Co,i.Util=bh,i.VideoOverlay=bl,i.bind=o,i.bounds=Lt,i.canvas=Tl,i.circle=Md,i.circleMarker=Cd,i.control=ti,i.divIcon=Ad,i.extend=a,i.featureGroup=yd,i.geoJSON=wl,i.geoJson=xd,i.gridLayer=Dd,i.icon=wd,i.imageOverlay=Td,i.latLng=W,i.latLngBounds=ht,i.layerGroup=_d,i.map=nd,i.marker=bd,i.point=k,i.polygon=Sd,i.polyline=Pd,i.popup=Od,i.rectangle=Nd,i.setOptions=I,i.stamp=h,i.svg=El,i.svgOverlay=Id,i.tileLayer=Pl,i.tooltip=Ld,i.transformation=Wn,i.version=e,i.videoOverlay=Ed;var zd=window.L;i.noConflict=function(){return window.L=zd,this},window.L=i})});var yi=class{},kr=class{},ye=class i{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(a=>{let r=a.indexOf(":");if(r>0){let o=a.slice(0,r),u=o.toLowerCase(),h=a.slice(r+1).trim();this.maybeSetNormalizedName(o,u),this.headers.has(u)?this.headers.get(u).push(h):this.headers.set(u,[h])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((a,r)=>{this.setHeaderEntries(r,a)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([a,r])=>{this.setHeaderEntries(a,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let a=this.headers.get(e.toLowerCase());return a&&a.length>0?a[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,a){return this.clone({name:e,value:a,op:"a"})}set(e,a){return this.clone({name:e,value:a,op:"s"})}delete(e,a){return this.clone({name:e,value:a,op:"d"})}maybeSetNormalizedName(e,a){this.normalizedNames.has(a)||this.normalizedNames.set(a,e)}init(){this.lazyInit&&(this.lazyInit instanceof i?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(a=>{this.headers.set(a,e.headers.get(a)),this.normalizedNames.set(a,e.normalizedNames.get(a))})}clone(e){let a=new i;return a.lazyInit=this.lazyInit&&this.lazyInit instanceof i?this.lazyInit:this,a.lazyUpdate=(this.lazyUpdate||[]).concat([e]),a}applyUpdate(e){let a=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,a);let o=(e.op==="a"?this.headers.get(a):void 0)||[];o.push(...r),this.headers.set(a,o);break;case"d":let u=e.value;if(!u)this.headers.delete(a),this.normalizedNames.delete(a);else{let h=this.headers.get(a);if(!h)return;h=h.filter(f=>u.indexOf(f)===-1),h.length===0?(this.headers.delete(a),this.normalizedNames.delete(a)):this.headers.set(a,h)}break}}setHeaderEntries(e,a){let r=(Array.isArray(a)?a:[a]).map(u=>u.toString()),o=e.toLowerCase();this.headers.set(o,r),this.maybeSetNormalizedName(e,o)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(a=>e(this.normalizedNames.get(a),this.headers.get(a)))}};var Cs=class{encodeKey(e){return xu(e)}encodeValue(e){return xu(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function Xd(i,e){let a=new Map;return i.length>0&&i.replace(/^\?/,"").split("&").forEach(o=>{let u=o.indexOf("="),[h,f]=u==-1?[e.decodeKey(o),""]:[e.decodeKey(o.slice(0,u)),e.decodeValue(o.slice(u+1))],v=a.get(h)||[];v.push(f),a.set(h,v)}),a}var Jd=/%(\d[a-f0-9])/gi,Qd={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function xu(i){return encodeURIComponent(i).replace(Jd,(e,a)=>Qd[a]??e)}function Rr(i){return`${i}`}var Ve=class i{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new Cs,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=Xd(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(a=>{let r=e.fromObject[a],o=Array.isArray(r)?r.map(Rr):[Rr(r)];this.map.set(a,o)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let a=this.map.get(e);return a?a[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,a){return this.clone({param:e,value:a,op:"a"})}appendAll(e){let a=[];return Object.keys(e).forEach(r=>{let o=e[r];Array.isArray(o)?o.forEach(u=>{a.push({param:r,value:u,op:"a"})}):a.push({param:r,value:o,op:"a"})}),this.clone(a)}set(e,a){return this.clone({param:e,value:a,op:"s"})}delete(e,a){return this.clone({param:e,value:a,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let a=this.encoder.encodeKey(e);return this.map.get(e).map(r=>a+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let a=new i({encoder:this.encoder});return a.cloneFrom=this.cloneFrom||this,a.updates=(this.updates||[]).concat(e),a}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let a=(e.op==="a"?this.map.get(e.param):void 0)||[];a.push(Rr(e.value)),this.map.set(e.param,a);break;case"d":if(e.value!==void 0){let r=this.map.get(e.param)||[],o=r.indexOf(Rr(e.value));o!==-1&&r.splice(o,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var Ms=class{constructor(){this.map=new Map}set(e,a){return this.map.set(e,a),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function tf(i){switch(i){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function Tu(i){return typeof ArrayBuffer<"u"&&i instanceof ArrayBuffer}function Eu(i){return typeof Blob<"u"&&i instanceof Blob}function Iu(i){return typeof FormData<"u"&&i instanceof FormData}function ef(i){return typeof URLSearchParams<"u"&&i instanceof URLSearchParams}var _i=class i{constructor(e,a,r,o){this.url=a,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase();let u;if(tf(this.method)||o?(this.body=r!==void 0?r:null,u=o):u=r,u&&(this.reportProgress=!!u.reportProgress,this.withCredentials=!!u.withCredentials,u.responseType&&(this.responseType=u.responseType),u.headers&&(this.headers=u.headers),u.context&&(this.context=u.context),u.params&&(this.params=u.params),this.transferCache=u.transferCache),this.headers??=new ye,this.context??=new Ms,!this.params)this.params=new Ve,this.urlWithParams=a;else{let h=this.params.toString();if(h.length===0)this.urlWithParams=a;else{let f=a.indexOf("?"),v=f===-1?"?":f<a.length-1?"&":"";this.urlWithParams=a+v+h}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||Tu(this.body)||Eu(this.body)||Iu(this.body)||ef(this.body)?this.body:this.body instanceof Ve?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||Iu(this.body)?null:Eu(this.body)?this.body.type||null:Tu(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof Ve?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(e={}){let a=e.method||this.method,r=e.url||this.url,o=e.responseType||this.responseType,u=e.transferCache??this.transferCache,h=e.body!==void 0?e.body:this.body,f=e.withCredentials??this.withCredentials,v=e.reportProgress??this.reportProgress,m=e.headers||this.headers,b=e.params||this.params,A=e.context??this.context;return e.setHeaders!==void 0&&(m=Object.keys(e.setHeaders).reduce((x,I)=>x.set(I,e.setHeaders[I]),m)),e.setParams&&(b=Object.keys(e.setParams).reduce((x,I)=>x.set(I,e.setParams[I]),b)),new i(a,r,h,{params:b,headers:m,context:A,reportProgress:v,responseType:o,withCredentials:f,transferCache:u})}},En=function(i){return i[i.Sent=0]="Sent",i[i.UploadProgress=1]="UploadProgress",i[i.ResponseHeader=2]="ResponseHeader",i[i.DownloadProgress=3]="DownloadProgress",i[i.Response=4]="Response",i[i.User=5]="User",i}(En||{}),wi=class{constructor(e,a=zr.Ok,r="OK"){this.headers=e.headers||new ye,this.status=e.status!==void 0?e.status:a,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},Ps=class i extends wi{constructor(e={}){super(e),this.type=En.ResponseHeader}clone(e={}){return new i({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},Nr=class i extends wi{constructor(e={}){super(e),this.type=En.Response,this.body=e.body!==void 0?e.body:null}clone(e={}){return new i({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},Fr=class extends wi{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},zr=function(i){return i[i.Continue=100]="Continue",i[i.SwitchingProtocols=101]="SwitchingProtocols",i[i.Processing=102]="Processing",i[i.EarlyHints=103]="EarlyHints",i[i.Ok=200]="Ok",i[i.Created=201]="Created",i[i.Accepted=202]="Accepted",i[i.NonAuthoritativeInformation=203]="NonAuthoritativeInformation",i[i.NoContent=204]="NoContent",i[i.ResetContent=205]="ResetContent",i[i.PartialContent=206]="PartialContent",i[i.MultiStatus=207]="MultiStatus",i[i.AlreadyReported=208]="AlreadyReported",i[i.ImUsed=226]="ImUsed",i[i.MultipleChoices=300]="MultipleChoices",i[i.MovedPermanently=301]="MovedPermanently",i[i.Found=302]="Found",i[i.SeeOther=303]="SeeOther",i[i.NotModified=304]="NotModified",i[i.UseProxy=305]="UseProxy",i[i.Unused=306]="Unused",i[i.TemporaryRedirect=307]="TemporaryRedirect",i[i.PermanentRedirect=308]="PermanentRedirect",i[i.BadRequest=400]="BadRequest",i[i.Unauthorized=401]="Unauthorized",i[i.PaymentRequired=402]="PaymentRequired",i[i.Forbidden=403]="Forbidden",i[i.NotFound=404]="NotFound",i[i.MethodNotAllowed=405]="MethodNotAllowed",i[i.NotAcceptable=406]="NotAcceptable",i[i.ProxyAuthenticationRequired=407]="ProxyAuthenticationRequired",i[i.RequestTimeout=408]="RequestTimeout",i[i.Conflict=409]="Conflict",i[i.Gone=410]="Gone",i[i.LengthRequired=411]="LengthRequired",i[i.PreconditionFailed=412]="PreconditionFailed",i[i.PayloadTooLarge=413]="PayloadTooLarge",i[i.UriTooLong=414]="UriTooLong",i[i.UnsupportedMediaType=415]="UnsupportedMediaType",i[i.RangeNotSatisfiable=416]="RangeNotSatisfiable",i[i.ExpectationFailed=417]="ExpectationFailed",i[i.ImATeapot=418]="ImATeapot",i[i.MisdirectedRequest=421]="MisdirectedRequest",i[i.UnprocessableEntity=422]="UnprocessableEntity",i[i.Locked=423]="Locked",i[i.FailedDependency=424]="FailedDependency",i[i.TooEarly=425]="TooEarly",i[i.UpgradeRequired=426]="UpgradeRequired",i[i.PreconditionRequired=428]="PreconditionRequired",i[i.TooManyRequests=429]="TooManyRequests",i[i.RequestHeaderFieldsTooLarge=431]="RequestHeaderFieldsTooLarge",i[i.UnavailableForLegalReasons=451]="UnavailableForLegalReasons",i[i.InternalServerError=500]="InternalServerError",i[i.NotImplemented=501]="NotImplemented",i[i.BadGateway=502]="BadGateway",i[i.ServiceUnavailable=503]="ServiceUnavailable",i[i.GatewayTimeout=504]="GatewayTimeout",i[i.HttpVersionNotSupported=505]="HttpVersionNotSupported",i[i.VariantAlsoNegotiates=506]="VariantAlsoNegotiates",i[i.InsufficientStorage=507]="InsufficientStorage",i[i.LoopDetected=508]="LoopDetected",i[i.NotExtended=510]="NotExtended",i[i.NetworkAuthenticationRequired=511]="NetworkAuthenticationRequired",i}(zr||{});function bs(i,e){return{body:e,headers:i.headers,context:i.context,observe:i.observe,params:i.params,reportProgress:i.reportProgress,responseType:i.responseType,withCredentials:i.withCredentials,transferCache:i.transferCache}}var Mt=(()=>{let e=class e{constructor(r){this.handler=r}request(r,o,u={}){let h;if(r instanceof _i)h=r;else{let m;u.headers instanceof ye?m=u.headers:m=new ye(u.headers);let b;u.params&&(u.params instanceof Ve?b=u.params:b=new Ve({fromObject:u.params})),h=new _i(r,o,u.body!==void 0?u.body:null,{headers:m,context:u.context,params:b,reportProgress:u.reportProgress,responseType:u.responseType||"json",withCredentials:u.withCredentials,transferCache:u.transferCache})}let f=R(h).pipe(Ie(m=>this.handler.handle(m)));if(r instanceof _i||u.observe==="events")return f;let v=f.pipe(_e(m=>m instanceof Nr));switch(u.observe||"body"){case"body":switch(h.responseType){case"arraybuffer":return v.pipe(q(m=>{if(m.body!==null&&!(m.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return m.body}));case"blob":return v.pipe(q(m=>{if(m.body!==null&&!(m.body instanceof Blob))throw new Error("Response is not a Blob.");return m.body}));case"text":return v.pipe(q(m=>{if(m.body!==null&&typeof m.body!="string")throw new Error("Response is not a string.");return m.body}));case"json":default:return v.pipe(q(m=>m.body))}case"response":return v;default:throw new Error(`Unreachable: unhandled observe type ${u.observe}}`)}}delete(r,o={}){return this.request("DELETE",r,o)}get(r,o={}){return this.request("GET",r,o)}head(r,o={}){return this.request("HEAD",r,o)}jsonp(r,o){return this.request("JSONP",r,{params:new Ve().append(o,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(r,o={}){return this.request("OPTIONS",r,o)}patch(r,o,u={}){return this.request("PATCH",r,bs(u,o))}post(r,o,u={}){return this.request("POST",r,bs(u,o))}put(r,o,u={}){return this.request("PUT",r,bs(u,o))}};e.\u0275fac=function(o){return new(o||e)(U(yi))},e.\u0275prov=$({token:e,factory:e.\u0275fac});let i=e;return i})();function Du(i,e){return e(i)}function nf(i,e){return(a,r)=>e.intercept(a,{handle:o=>i(o,r)})}function rf(i,e,a){return(r,o)=>ue(a,()=>e(r,u=>i(u,o)))}var of=new Y(""),Ss=new Y(""),sf=new Y(""),af=new Y("");function lf(){let i=null;return(e,a)=>{i===null&&(i=(T(of,{optional:!0})??[]).reduceRight(nf,Du));let r=T(hi),o=r.add();return i(e,a).pipe(tn(()=>r.remove(o)))}}var Ou=(()=>{let e=class e extends yi{constructor(r,o){super(),this.backend=r,this.injector=o,this.chain=null,this.pendingTasks=T(hi);let u=T(af,{optional:!0});this.backend=u??r}handle(r){if(this.chain===null){let u=Array.from(new Set([...this.injector.get(Ss),...this.injector.get(sf,[])]));this.chain=u.reduceRight((h,f)=>rf(h,f,this.injector),Du)}let o=this.pendingTasks.add();return this.chain(r,u=>this.backend.handle(u)).pipe(tn(()=>this.pendingTasks.remove(o)))}};e.\u0275fac=function(o){return new(o||e)(U(kr),U(Ae))},e.\u0275prov=$({token:e,factory:e.\u0275fac});let i=e;return i})();var uf=/^\)\]\}',?\n/;function cf(i){return"responseURL"in i&&i.responseURL?i.responseURL:/^X-Request-URL:/m.test(i.getAllResponseHeaders())?i.getResponseHeader("X-Request-URL"):null}var Lu=(()=>{let e=class e{constructor(r){this.xhrFactory=r}handle(r){if(r.method==="JSONP")throw new et(-2800,!1);let o=this.xhrFactory;return(o.\u0275loadImpl?Ct(o.\u0275loadImpl()):R(null)).pipe(Ft(()=>new Ul(h=>{let f=o.build();if(f.open(r.method,r.urlWithParams),r.withCredentials&&(f.withCredentials=!0),r.headers.forEach((J,V)=>f.setRequestHeader(J,V.join(","))),r.headers.has("Accept")||f.setRequestHeader("Accept","application/json, text/plain, */*"),!r.headers.has("Content-Type")){let J=r.detectContentTypeHeader();J!==null&&f.setRequestHeader("Content-Type",J)}if(r.responseType){let J=r.responseType.toLowerCase();f.responseType=J!=="json"?J:"text"}let v=r.serializeBody(),m=null,b=()=>{if(m!==null)return m;let J=f.statusText||"OK",V=new ye(f.getAllResponseHeaders()),Bt=cf(f)||r.url;return m=new Ps({headers:V,status:f.status,statusText:J,url:Bt}),m},A=()=>{let{headers:J,status:V,statusText:Bt,url:Ge}=b(),gt=null;V!==zr.NoContent&&(gt=typeof f.response>"u"?f.responseText:f.response),V===0&&(V=gt?zr.Ok:0);let cn=V>=200&&V<300;if(r.responseType==="json"&&typeof gt=="string"){let Qi=gt;gt=gt.replace(uf,"");try{gt=gt!==""?JSON.parse(gt):null}catch($n){gt=Qi,cn&&(cn=!1,gt={error:$n,text:gt})}}cn?(h.next(new Nr({body:gt,headers:J,status:V,statusText:Bt,url:Ge||void 0})),h.complete()):h.error(new Fr({error:gt,headers:J,status:V,statusText:Bt,url:Ge||void 0}))},x=J=>{let{url:V}=b(),Bt=new Fr({error:J,status:f.status||0,statusText:f.statusText||"Unknown Error",url:V||void 0});h.error(Bt)},I=!1,Jt=J=>{I||(h.next(b()),I=!0);let V={type:En.DownloadProgress,loaded:J.loaded};J.lengthComputable&&(V.total=J.total),r.responseType==="text"&&f.responseText&&(V.partialText=f.responseText),h.next(V)},re=J=>{let V={type:En.UploadProgress,loaded:J.loaded};J.lengthComputable&&(V.total=J.total),h.next(V)};return f.addEventListener("load",A),f.addEventListener("error",x),f.addEventListener("timeout",x),f.addEventListener("abort",x),r.reportProgress&&(f.addEventListener("progress",Jt),v!==null&&f.upload&&f.upload.addEventListener("progress",re)),f.send(v),h.next({type:En.Sent}),()=>{f.removeEventListener("error",x),f.removeEventListener("abort",x),f.removeEventListener("load",A),f.removeEventListener("timeout",x),r.reportProgress&&(f.removeEventListener("progress",Jt),v!==null&&f.upload&&f.upload.removeEventListener("progress",re)),f.readyState!==f.DONE&&f.abort()}})))}};e.\u0275fac=function(o){return new(o||e)(U(Dr))},e.\u0275prov=$({token:e,factory:e.\u0275fac});let i=e;return i})(),Ru=new Y(""),hf="XSRF-TOKEN",df=new Y("",{providedIn:"root",factory:()=>hf}),ff="X-XSRF-TOKEN",pf=new Y("",{providedIn:"root",factory:()=>ff}),Vr=class{},mf=(()=>{let e=class e{constructor(r,o,u){this.doc=r,this.platform=o,this.cookieName=u,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let r=this.doc.cookie||"";return r!==this.lastCookieString&&(this.parseCount++,this.lastToken=Lr(r,this.cookieName),this.lastCookieString=r),this.lastToken}};e.\u0275fac=function(o){return new(o||e)(U(It),U(nn),U(df))},e.\u0275prov=$({token:e,factory:e.\u0275fac});let i=e;return i})();function gf(i,e){let a=i.url.toLowerCase();if(!T(Ru)||i.method==="GET"||i.method==="HEAD"||a.startsWith("http://")||a.startsWith("https://"))return e(i);let r=T(Vr).getToken(),o=T(pf);return r!=null&&!i.headers.has(o)&&(i=i.clone({headers:i.headers.set(o,r)})),e(i)}var ku=function(i){return i[i.Interceptors=0]="Interceptors",i[i.LegacyInterceptors=1]="LegacyInterceptors",i[i.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",i[i.NoXsrfProtection=3]="NoXsrfProtection",i[i.JsonpSupport=4]="JsonpSupport",i[i.RequestsMadeViaParent=5]="RequestsMadeViaParent",i[i.Fetch=6]="Fetch",i}(ku||{});function vf(i,e){return{\u0275kind:i,\u0275providers:e}}function _f(...i){let e=[Mt,Lu,Ou,{provide:yi,useExisting:Ou},{provide:kr,useExisting:Lu},{provide:Ss,useValue:gf,multi:!0},{provide:Ru,useValue:!0},{provide:Vr,useClass:mf}];for(let a of i)e.push(...a.\u0275providers);return Cn(e)}var Au=new Y("");function yf(){return vf(ku.LegacyInterceptors,[{provide:Au,useFactory:lf},{provide:Ss,useExisting:Au,multi:!0}])}var Nu=(()=>{let e=class e{};e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=Et({type:e}),e.\u0275inj=Tt({providers:[_f(yf())]});let i=e;return i})();var Es=class extends _u{constructor(){super(...arguments),this.supportsDOMEvents=!0}},Is=class i extends Es{static makeCurrent(){vu(new i)}onAndCancel(e,a,r){return e.addEventListener(a,r),()=>{e.removeEventListener(a,r)}}dispatchEvent(e,a){e.dispatchEvent(a)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,a){return a=a||this.getDefaultDocument(),a.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,a){return a==="window"?window:a==="document"?e:a==="body"?e.body:null}getBaseHref(e){let a=bf();return a==null?null:Cf(a)}resetBaseElement(){Ci=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Lr(document.cookie,e)}},Ci=null;function bf(){return Ci=Ci||document.querySelector("base"),Ci?Ci.getAttribute("href"):null}function Cf(i){return new URL(i,document.baseURI).pathname}var Os=class{addToWindow(e){Le.getAngularTestability=(r,o=!0)=>{let u=e.findTestabilityInTree(r,o);if(u==null)throw new et(5103,!1);return u},Le.getAllAngularTestabilities=()=>e.getAllTestabilities(),Le.getAllAngularRootElements=()=>e.getAllRootElements();let a=r=>{let o=Le.getAllAngularTestabilities(),u=o.length,h=function(){u--,u==0&&r()};o.forEach(f=>{f.whenStable(h)})};Le.frameworkStabilizers||(Le.frameworkStabilizers=[]),Le.frameworkStabilizers.push(a)}findTestabilityInTree(e,a,r){if(a==null)return null;let o=e.getTestability(a);return o??(r?sn().isShadowRoot(a)?this.findTestabilityInTree(e,a.host,!0):this.findTestabilityInTree(e,a.parentElement,!0):null)}},Mf=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(o){return new(o||e)},e.\u0275prov=$({token:e,factory:e.\u0275fac});let i=e;return i})(),Ls=new Y(""),Bu=(()=>{let e=class e{constructor(r,o){this._zone=o,this._eventNameToPlugin=new Map,r.forEach(u=>{u.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,o,u){return this._findPluginFor(o).addEventListener(r,o,u)}getZone(){return this._zone}_findPluginFor(r){let o=this._eventNameToPlugin.get(r);if(o)return o;if(o=this._plugins.find(h=>h.supports(r)),!o)throw new et(5101,!1);return this._eventNameToPlugin.set(r,o),o}};e.\u0275fac=function(o){return new(o||e)(U(Ls),U(_t))},e.\u0275prov=$({token:e,factory:e.\u0275fac});let i=e;return i})(),Br=class{constructor(e){this._doc=e}},xs="ng-app-id",ju=(()=>{let e=class e{constructor(r,o,u,h={}){this.doc=r,this.appId=o,this.nonce=u,this.platformId=h,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Ar(h),this.resetHostNodes()}addStyles(r){for(let o of r)this.changeUsageCount(o,1)===1&&this.onStyleAdded(o)}removeStyles(r){for(let o of r)this.changeUsageCount(o,-1)<=0&&this.onStyleRemoved(o)}ngOnDestroy(){let r=this.styleNodesInDOM;r&&(r.forEach(o=>o.remove()),r.clear());for(let o of this.getAllStyles())this.onStyleRemoved(o);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(let o of this.getAllStyles())this.addStyleToHost(r,o)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(let o of this.hostNodes)this.addStyleToHost(o,r)}onStyleRemoved(r){let o=this.styleRef;o.get(r)?.elements?.forEach(u=>u.remove()),o.delete(r)}collectServerRenderedStyles(){let r=this.doc.head?.querySelectorAll(`style[${xs}="${this.appId}"]`);if(r?.length){let o=new Map;return r.forEach(u=>{u.textContent!=null&&o.set(u.textContent,u)}),o}return null}changeUsageCount(r,o){let u=this.styleRef;if(u.has(r)){let h=u.get(r);return h.usage+=o,h.usage}return u.set(r,{usage:o,elements:[]}),o}getStyleElement(r,o){let u=this.styleNodesInDOM,h=u?.get(o);if(h?.parentNode===r)return u.delete(o),h.removeAttribute(xs),h;{let f=this.doc.createElement("style");return this.nonce&&f.setAttribute("nonce",this.nonce),f.textContent=o,this.platformIsServer&&f.setAttribute(xs,this.appId),r.appendChild(f),f}}addStyleToHost(r,o){let u=this.getStyleElement(r,o),h=this.styleRef,f=h.get(o)?.elements;f?f.push(u):h.set(o,{elements:[u],usage:1})}resetHostNodes(){let r=this.hostNodes;r.clear(),r.add(this.doc.head)}};e.\u0275fac=function(o){return new(o||e)(U(It),U(br),U(hs,8),U(nn))},e.\u0275prov=$({token:e,factory:e.\u0275fac});let i=e;return i})(),Ts={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Ds=/%COMP%/g,Uu="%COMP%",Pf=`_nghost-${Uu}`,Sf=`_ngcontent-${Uu}`,xf=!0,Tf=new Y("",{providedIn:"root",factory:()=>xf});function Ef(i){return Sf.replace(Ds,i)}function If(i){return Pf.replace(Ds,i)}function Zu(i,e){return e.map(a=>a.replace(Ds,i))}var jr=(()=>{let e=class e{constructor(r,o,u,h,f,v,m,b=null){this.eventManager=r,this.sharedStylesHost=o,this.appId=u,this.removeStylesOnCompDestroy=h,this.doc=f,this.platformId=v,this.ngZone=m,this.nonce=b,this.rendererByCompId=new Map,this.platformIsServer=Ar(v),this.defaultRenderer=new Mi(r,f,m,this.platformIsServer)}createRenderer(r,o){if(!r||!o)return this.defaultRenderer;this.platformIsServer&&o.encapsulation===li.ShadowDom&&(o=ut(S({},o),{encapsulation:li.Emulated}));let u=this.getOrCreateRenderer(r,o);return u instanceof Ur?u.applyToHost(r):u instanceof Pi&&u.applyStyles(),u}getOrCreateRenderer(r,o){let u=this.rendererByCompId,h=u.get(o.id);if(!h){let f=this.doc,v=this.ngZone,m=this.eventManager,b=this.sharedStylesHost,A=this.removeStylesOnCompDestroy,x=this.platformIsServer;switch(o.encapsulation){case li.Emulated:h=new Ur(m,b,o,this.appId,A,f,v,x);break;case li.ShadowDom:return new As(m,b,r,o,f,v,this.nonce,x);default:h=new Pi(m,b,o,A,f,v,x);break}u.set(o.id,h)}return h}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(o){return new(o||e)(U(Bu),U(ju),U(br),U(Tf),U(It),U(nn),U(_t),U(hs))},e.\u0275prov=$({token:e,factory:e.\u0275fac});let i=e;return i})(),Mi=class{constructor(e,a,r,o){this.eventManager=e,this.doc=a,this.ngZone=r,this.platformIsServer=o,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,a){return a?this.doc.createElementNS(Ts[a]||a,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,a){(Fu(e)?e.content:e).appendChild(a)}insertBefore(e,a,r){e&&(Fu(e)?e.content:e).insertBefore(a,r)}removeChild(e,a){e&&e.removeChild(a)}selectRootElement(e,a){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new et(-5104,!1);return a||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,a,r,o){if(o){a=o+":"+a;let u=Ts[o];u?e.setAttributeNS(u,a,r):e.setAttribute(a,r)}else e.setAttribute(a,r)}removeAttribute(e,a,r){if(r){let o=Ts[r];o?e.removeAttributeNS(o,a):e.removeAttribute(`${r}:${a}`)}else e.removeAttribute(a)}addClass(e,a){e.classList.add(a)}removeClass(e,a){e.classList.remove(a)}setStyle(e,a,r,o){o&(ui.DashCase|ui.Important)?e.style.setProperty(a,r,o&ui.Important?"important":""):e.style[a]=r}removeStyle(e,a,r){r&ui.DashCase?e.style.removeProperty(a):e.style[a]=""}setProperty(e,a,r){e!=null&&(e[a]=r)}setValue(e,a){e.nodeValue=a}listen(e,a,r){if(typeof e=="string"&&(e=sn().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${a}`);return this.eventManager.addEventListener(e,a,this.decoratePreventDefault(r))}decoratePreventDefault(e){return a=>{if(a==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(a)):e(a))===!1&&a.preventDefault()}}};function Fu(i){return i.tagName==="TEMPLATE"&&i.content!==void 0}var As=class extends Mi{constructor(e,a,r,o,u,h,f,v){super(e,u,h,v),this.sharedStylesHost=a,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let m=Zu(o.id,o.styles);for(let b of m){let A=document.createElement("style");f&&A.setAttribute("nonce",f),A.textContent=b,this.shadowRoot.appendChild(A)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,a){return super.appendChild(this.nodeOrShadowRoot(e),a)}insertBefore(e,a,r){return super.insertBefore(this.nodeOrShadowRoot(e),a,r)}removeChild(e,a){return super.removeChild(this.nodeOrShadowRoot(e),a)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Pi=class extends Mi{constructor(e,a,r,o,u,h,f,v){super(e,u,h,f),this.sharedStylesHost=a,this.removeStylesOnCompDestroy=o,this.styles=v?Zu(v,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},Ur=class extends Pi{constructor(e,a,r,o,u,h,f,v){let m=o+"-"+r.id;super(e,a,r,u,h,f,v,m),this.contentAttr=Ef(m),this.hostAttr=If(m)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,a){let r=super.createElement(e,a);return super.setAttribute(r,this.contentAttr,""),r}},Of=(()=>{let e=class e extends Br{constructor(r){super(r)}supports(r){return!0}addEventListener(r,o,u){return r.addEventListener(o,u,!1),()=>this.removeEventListener(r,o,u)}removeEventListener(r,o,u){return r.removeEventListener(o,u)}};e.\u0275fac=function(o){return new(o||e)(U(It))},e.\u0275prov=$({token:e,factory:e.\u0275fac});let i=e;return i})(),zu=["alt","control","meta","shift"],Lf={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Af={alt:i=>i.altKey,control:i=>i.ctrlKey,meta:i=>i.metaKey,shift:i=>i.shiftKey},Df=(()=>{let e=class e extends Br{constructor(r){super(r)}supports(r){return e.parseEventName(r)!=null}addEventListener(r,o,u){let h=e.parseEventName(o),f=e.eventCallback(h.fullKey,u,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>sn().onAndCancel(r,h.domEventName,f))}static parseEventName(r){let o=r.toLowerCase().split("."),u=o.shift();if(o.length===0||!(u==="keydown"||u==="keyup"))return null;let h=e._normalizeKey(o.pop()),f="",v=o.indexOf("code");if(v>-1&&(o.splice(v,1),f="code."),zu.forEach(b=>{let A=o.indexOf(b);A>-1&&(o.splice(A,1),f+=b+".")}),f+=h,o.length!=0||h.length===0)return null;let m={};return m.domEventName=u,m.fullKey=f,m}static matchEventFullKeyCode(r,o){let u=Lf[r.key]||r.key,h="";return o.indexOf("code.")>-1&&(u=r.code,h="code."),u==null||!u?!1:(u=u.toLowerCase(),u===" "?u="space":u==="."&&(u="dot"),zu.forEach(f=>{if(f!==u){let v=Af[f];v(r)&&(h+=f+".")}}),h+=u,h===o)}static eventCallback(r,o,u){return h=>{e.matchEventFullKeyCode(h,r)&&u.runGuarded(()=>o(h))}}static _normalizeKey(r){return r==="esc"?"escape":r}};e.\u0275fac=function(o){return new(o||e)(U(It))},e.\u0275prov=$({token:e,factory:e.\u0275fac});let i=e;return i})();function Rf(){Is.makeCurrent()}function kf(){return new cs}function Nf(){return nu(document),document}var Ff=[{provide:nn,useValue:Pu},{provide:iu,useValue:Rf,multi:!0},{provide:It,useFactory:Nf,deps:[]}],$u=fu(pu,"browser",Ff),zf=new Y(""),Vf=[{provide:xr,useClass:Os,deps:[]},{provide:du,useClass:Tr,deps:[_t,_s,xr]},{provide:Tr,useClass:Tr,deps:[_t,_s,xr]}],Bf=[{provide:tu,useValue:"root"},{provide:cs,useFactory:kf,deps:[]},{provide:Ls,useClass:Of,multi:!0,deps:[It,_t,nn]},{provide:Ls,useClass:Df,multi:!0,deps:[It]},jr,ju,Bu,{provide:Mr,useExisting:jr},{provide:Dr,useClass:Mf,deps:[]},[]],Hu=(()=>{let e=class e{constructor(r){}static withServerTransition(r){return{ngModule:e,providers:[{provide:br,useValue:r.appId}]}}};e.\u0275fac=function(o){return new(o||e)(U(zf,12))},e.\u0275mod=Et({type:e}),e.\u0275inj=Tt({providers:[...Bf,...Vf],imports:[Mu,mu]});let i=e;return i})();var Wu=(()=>{let e=class e{constructor(r){this._doc=r}getTitle(){return this._doc.title}setTitle(r){this._doc.title=r||""}};e.\u0275fac=function(o){return new(o||e)(U(It))},e.\u0275prov=$({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})();var nc=(()=>{let e=class e{constructor(r,o){this._renderer=r,this._elementRef=o,this.onChange=u=>{},this.onTouched=()=>{}}setProperty(r,o){this._renderer.setProperty(this._elementRef.nativeElement,r,o)}registerOnTouched(r){this.onTouched=r}registerOnChange(r){this.onChange=r}setDisabledState(r){this.setProperty("disabled",r)}};e.\u0275fac=function(o){return new(o||e)(O(ci),O(en))},e.\u0275dir=St({type:e});let i=e;return i})(),jf=(()=>{let e=class e extends nc{};e.\u0275fac=(()=>{let r;return function(u){return(r||(r=Mn(e)))(u||e)}})(),e.\u0275dir=St({type:e,features:[Re]});let i=e;return i})(),ic=new Y("");var Uf={provide:ic,useExisting:ai(()=>Ln),multi:!0};function Zf(){let i=sn()?sn().getUserAgent():"";return/android (\d+)/.test(i.toLowerCase())}var $f=new Y(""),Ln=(()=>{let e=class e extends nc{constructor(r,o,u){super(r,o),this._compositionMode=u,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!Zf())}writeValue(r){let o=r??"";this.setProperty("value",o)}_handleInput(r){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(r)}_compositionStart(){this._composing=!0}_compositionEnd(r){this._composing=!1,this._compositionMode&&this.onChange(r)}};e.\u0275fac=function(o){return new(o||e)(O(ci),O(en),O($f,8))},e.\u0275dir=St({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(o,u){o&1&&H("input",function(f){return u._handleInput(f.target.value)})("blur",function(){return u.onTouched()})("compositionstart",function(){return u._compositionStart()})("compositionend",function(f){return u._compositionEnd(f.target.value)})},features:[fi([Uf]),Re]});let i=e;return i})();function Hf(i){return i==null||(typeof i=="string"||Array.isArray(i))&&i.length===0}var ks=new Y(""),rc=new Y("");function Wf(i){return Hf(i.value)?{required:!0}:null}function qu(i){return null}function oc(i){return i!=null}function sc(i){return Er(i)?Ct(i):i}function ac(i){let e={};return i.forEach(a=>{e=a!=null?S(S({},e),a):e}),Object.keys(e).length===0?null:e}function lc(i,e){return e.map(a=>a(i))}function Gf(i){return!i.validate}function uc(i){return i.map(e=>Gf(e)?e:a=>e.validate(a))}function qf(i){if(!i)return null;let e=i.filter(oc);return e.length==0?null:function(a){return ac(lc(a,e))}}function Ns(i){return i!=null?qf(uc(i)):null}function Kf(i){if(!i)return null;let e=i.filter(oc);return e.length==0?null:function(a){let r=lc(a,e).map(sc);return Wl(r).pipe(q(ac))}}function Fs(i){return i!=null?Kf(uc(i)):null}function Ku(i,e){return i===null?[e]:Array.isArray(i)?[...i,e]:[i,e]}function Yf(i){return i._rawValidators}function Xf(i){return i._rawAsyncValidators}function Rs(i){return i?Array.isArray(i)?i:[i]:[]}function $r(i,e){return Array.isArray(i)?i.includes(e):i===e}function Yu(i,e){let a=Rs(e);return Rs(i).forEach(o=>{$r(a,o)||a.push(o)}),a}function Xu(i,e){return Rs(e).filter(a=>!$r(i,a))}var Hr=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Ns(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Fs(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,a){return this.control?this.control.hasError(e,a):!1}getError(e,a){return this.control?this.control.getError(e,a):null}},On=class extends Hr{get formDirective(){return null}get path(){return null}},Ei=class extends Hr{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},Wr=class{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}},Jf={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},Lv=ut(S({},Jf),{"[class.ng-submitted]":"isSubmitted"}),Kr=(()=>{let e=class e extends Wr{constructor(r){super(r)}};e.\u0275fac=function(o){return new(o||e)(O(Ei,2))},e.\u0275dir=St({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(o,u){o&2&&ms("ng-untouched",u.isUntouched)("ng-touched",u.isTouched)("ng-pristine",u.isPristine)("ng-dirty",u.isDirty)("ng-valid",u.isValid)("ng-invalid",u.isInvalid)("ng-pending",u.isPending)},features:[Re]});let i=e;return i})(),Yr=(()=>{let e=class e extends Wr{constructor(r){super(r)}};e.\u0275fac=function(o){return new(o||e)(O(On,10))},e.\u0275dir=St({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(o,u){o&2&&ms("ng-untouched",u.isUntouched)("ng-touched",u.isTouched)("ng-pristine",u.isPristine)("ng-dirty",u.isDirty)("ng-valid",u.isValid)("ng-invalid",u.isInvalid)("ng-pending",u.isPending)("ng-submitted",u.isSubmitted)},features:[Re]});let i=e;return i})();var Si="VALID",Zr="INVALID",In="PENDING",xi="DISABLED";function cc(i){return(Xr(i)?i.validators:i)||null}function Qf(i){return Array.isArray(i)?Ns(i):i||null}function hc(i,e){return(Xr(e)?e.asyncValidators:i)||null}function tp(i){return Array.isArray(i)?Fs(i):i||null}function Xr(i){return i!=null&&!Array.isArray(i)&&typeof i=="object"}function ep(i,e,a){let r=i.controls;if(!(e?Object.keys(r):r).length)throw new et(1e3,"");if(!r[a])throw new et(1001,"")}function np(i,e,a){i._forEachChild((r,o)=>{if(a[o]===void 0)throw new et(1002,"")})}var Gr=class{constructor(e,a){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(a)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Si}get invalid(){return this.status===Zr}get pending(){return this.status==In}get disabled(){return this.status===xi}get enabled(){return this.status!==xi}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(Yu(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(Yu(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(Xu(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(Xu(e,this._rawAsyncValidators))}hasValidator(e){return $r(this._rawValidators,e)}hasAsyncValidator(e){return $r(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(a=>{a.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(a=>{a.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=In,e.emitEvent!==!1&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){let a=this._parentMarkedDirty(e.onlySelf);this.status=xi,this.errors=null,this._forEachChild(r=>{r.disable(ut(S({},e),{onlySelf:!0}))}),this._updateValue(),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(ut(S({},e),{skipPristineCheck:a})),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){let a=this._parentMarkedDirty(e.onlySelf);this.status=Si,this._forEachChild(r=>{r.enable(ut(S({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(ut(S({},e),{skipPristineCheck:a})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Si||this.status===In)&&this._runAsyncValidator(e.emitEvent)),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(a=>a._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?xi:Si}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=In,this._hasOwnPendingAsyncValidator=!0;let a=sc(this.asyncValidator(this));this._asyncValidationSubscription=a.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,a={}){this.errors=e,this._updateControlsErrors(a.emitEvent!==!1)}get(e){let a=e;return a==null||(Array.isArray(a)||(a=a.split(".")),a.length===0)?null:a.reduce((r,o)=>r&&r._find(o),this)}getError(e,a){let r=a?this.get(a):this;return r&&r.errors?r.errors[e]:null}hasError(e,a){return!!this.getError(e,a)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new nt,this.statusChanges=new nt}_calculateStatus(){return this._allControlsDisabled()?xi:this.errors?Zr:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(In)?In:this._anyControlsHaveStatus(Zr)?Zr:Si}_anyControlsHaveStatus(e){return this._anyControls(a=>a.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Xr(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let a=this._parent&&this._parent.dirty;return!e&&!!a&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=Qf(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=tp(this._rawAsyncValidators)}},qr=class extends Gr{constructor(e,a,r){super(cc(a),hc(r,a)),this.controls=e,this._initObservables(),this._setUpdateStrategy(a),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,a){return this.controls[e]?this.controls[e]:(this.controls[e]=a,a.setParent(this),a._registerOnCollectionChange(this._onCollectionChange),a)}addControl(e,a,r={}){this.registerControl(e,a),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,a={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:a.emitEvent}),this._onCollectionChange()}setControl(e,a,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],a&&this.registerControl(e,a),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,a={}){np(this,!0,e),Object.keys(e).forEach(r=>{ep(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:a.emitEvent})}),this.updateValueAndValidity(a)}patchValue(e,a={}){e!=null&&(Object.keys(e).forEach(r=>{let o=this.controls[r];o&&o.patchValue(e[r],{onlySelf:!0,emitEvent:a.emitEvent})}),this.updateValueAndValidity(a))}reset(e={},a={}){this._forEachChild((r,o)=>{r.reset(e?e[o]:null,{onlySelf:!0,emitEvent:a.emitEvent})}),this._updatePristine(a),this._updateTouched(a),this.updateValueAndValidity(a)}getRawValue(){return this._reduceChildren({},(e,a,r)=>(e[r]=a.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(a,r)=>r._syncPendingControls()?!0:a);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(a=>{let r=this.controls[a];r&&e(r,a)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[a,r]of Object.entries(this.controls))if(this.contains(a)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(a,r,o)=>((r.enabled||this.disabled)&&(a[o]=r.value),a))}_reduceChildren(e,a){let r=e;return this._forEachChild((o,u)=>{r=a(r,o,u)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var zs=new Y("CallSetDisabledState",{providedIn:"root",factory:()=>Vs}),Vs="always";function ip(i,e){return[...e.path,i]}function dc(i,e,a=Vs){fc(i,e),e.valueAccessor.writeValue(i.value),(i.disabled||a==="always")&&e.valueAccessor.setDisabledState?.(i.disabled),op(i,e),ap(i,e),sp(i,e),rp(i,e)}function Ju(i,e){i.forEach(a=>{a.registerOnValidatorChange&&a.registerOnValidatorChange(e)})}function rp(i,e){if(e.valueAccessor.setDisabledState){let a=r=>{e.valueAccessor.setDisabledState(r)};i.registerOnDisabledChange(a),e._registerOnDestroy(()=>{i._unregisterOnDisabledChange(a)})}}function fc(i,e){let a=Yf(i);e.validator!==null?i.setValidators(Ku(a,e.validator)):typeof a=="function"&&i.setValidators([a]);let r=Xf(i);e.asyncValidator!==null?i.setAsyncValidators(Ku(r,e.asyncValidator)):typeof r=="function"&&i.setAsyncValidators([r]);let o=()=>i.updateValueAndValidity();Ju(e._rawValidators,o),Ju(e._rawAsyncValidators,o)}function op(i,e){e.valueAccessor.registerOnChange(a=>{i._pendingValue=a,i._pendingChange=!0,i._pendingDirty=!0,i.updateOn==="change"&&pc(i,e)})}function sp(i,e){e.valueAccessor.registerOnTouched(()=>{i._pendingTouched=!0,i.updateOn==="blur"&&i._pendingChange&&pc(i,e),i.updateOn!=="submit"&&i.markAsTouched()})}function pc(i,e){i._pendingDirty&&i.markAsDirty(),i.setValue(i._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(i._pendingValue),i._pendingChange=!1}function ap(i,e){let a=(r,o)=>{e.valueAccessor.writeValue(r),o&&e.viewToModelUpdate(r)};i.registerOnChange(a),e._registerOnDestroy(()=>{i._unregisterOnChange(a)})}function lp(i,e){i==null,fc(i,e)}function up(i,e){if(!i.hasOwnProperty("model"))return!1;let a=i.model;return a.isFirstChange()?!0:!Object.is(e,a.currentValue)}function cp(i){return Object.getPrototypeOf(i.constructor)===jf}function hp(i,e){i._syncPendingControls(),e.forEach(a=>{let r=a.control;r.updateOn==="submit"&&r._pendingChange&&(a.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function dp(i,e){if(!e)return null;Array.isArray(e);let a,r,o;return e.forEach(u=>{u.constructor===Ln?a=u:cp(u)?r=u:o=u}),o||r||a||null}var fp={provide:On,useExisting:ai(()=>Ii)},Ti=Promise.resolve(),Ii=(()=>{let e=class e extends On{constructor(r,o,u){super(),this.callSetDisabledState=u,this.submitted=!1,this._directives=new Set,this.ngSubmit=new nt,this.form=new qr({},Ns(r),Fs(o))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(r){Ti.then(()=>{let o=this._findContainer(r.path);r.control=o.registerControl(r.name,r.control),dc(r.control,r,this.callSetDisabledState),r.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(r)})}getControl(r){return this.form.get(r.path)}removeControl(r){Ti.then(()=>{let o=this._findContainer(r.path);o&&o.removeControl(r.name),this._directives.delete(r)})}addFormGroup(r){Ti.then(()=>{let o=this._findContainer(r.path),u=new qr({});lp(u,r),o.registerControl(r.name,u),u.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(r){Ti.then(()=>{let o=this._findContainer(r.path);o&&o.removeControl(r.name)})}getFormGroup(r){return this.form.get(r.path)}updateModel(r,o){Ti.then(()=>{this.form.get(r.path).setValue(o)})}setValue(r){this.control.setValue(r)}onSubmit(r){return this.submitted=!0,hp(this.form,this._directives),this.ngSubmit.emit(r),r?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(r=void 0){this.form.reset(r),this.submitted=!1}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(r){return r.pop(),r.length?this.form.get(r):this.form}};e.\u0275fac=function(o){return new(o||e)(O(ks,10),O(rc,10),O(zs,8))},e.\u0275dir=St({type:e,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(o,u){o&1&&H("submit",function(f){return u.onSubmit(f)})("reset",function(){return u.onReset()})},inputs:{options:[ct.None,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[fi([fp]),Re]});let i=e;return i})();function Qu(i,e){let a=i.indexOf(e);a>-1&&i.splice(a,1)}function tc(i){return typeof i=="object"&&i!==null&&Object.keys(i).length===2&&"value"in i&&"disabled"in i}var pp=class extends Gr{constructor(e=null,a,r){super(cc(a),hc(r,a)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(a),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Xr(a)&&(a.nonNullable||a.initialValueIsDefault)&&(tc(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,a={}){this.value=this._pendingValue=e,this._onChange.length&&a.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,a.emitViewToModelChange!==!1)),this.updateValueAndValidity(a)}patchValue(e,a={}){this.setValue(e,a)}reset(e=this.defaultValue,a={}){this._applyFormState(e),this.markAsPristine(a),this.markAsUntouched(a),this.setValue(this.value,a),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){Qu(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){Qu(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){tc(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var mp={provide:Ei,useExisting:ai(()=>Oi)},ec=Promise.resolve(),Oi=(()=>{let e=class e extends Ei{constructor(r,o,u,h,f,v){super(),this._changeDetectorRef=f,this.callSetDisabledState=v,this.control=new pp,this._registered=!1,this.name="",this.update=new nt,this._parent=r,this._setValidators(o),this._setAsyncValidators(u),this.valueAccessor=dp(this,h)}ngOnChanges(r){if(this._checkForErrors(),!this._registered||"name"in r){if(this._registered&&(this._checkName(),this.formDirective)){let o=r.name.previousValue;this.formDirective.removeControl({name:o,path:this._getPath(o)})}this._setUpControl()}"isDisabled"in r&&this._updateDisabled(r),up(r,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){dc(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(r){ec.then(()=>{this.control.setValue(r,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(r){let o=r.isDisabled.currentValue,u=o!==0&&on(o);ec.then(()=>{u&&!this.control.disabled?this.control.disable():!u&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(r){return this._parent?ip(r,this._parent):[r]}};e.\u0275fac=function(o){return new(o||e)(O(On,9),O(ks,10),O(rc,10),O(ic,10),O(mi,8),O(zs,8))},e.\u0275dir=St({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[ct.None,"disabled","isDisabled"],model:[ct.None,"ngModel","model"],options:[ct.None,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[fi([mp]),Re,De]});let i=e;return i})(),Jr=(()=>{let e=class e{};e.\u0275fac=function(o){return new(o||e)},e.\u0275dir=St({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]});let i=e;return i})();var gp=(()=>{let e=class e{constructor(){this._validator=qu}ngOnChanges(r){if(this.inputName in r){let o=this.normalizeInput(r[this.inputName].currentValue);this._enabled=this.enabled(o),this._validator=this._enabled?this.createValidator(o):qu,this._onChange&&this._onChange()}}validate(r){return this._validator(r)}registerOnValidatorChange(r){this._onChange=r}enabled(r){return r!=null}};e.\u0275fac=function(o){return new(o||e)},e.\u0275dir=St({type:e,features:[De]});let i=e;return i})();var vp={provide:ks,useExisting:ai(()=>Li),multi:!0};var Li=(()=>{let e=class e extends gp{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=on,this.createValidator=r=>Wf}enabled(r){return r}};e.\u0275fac=(()=>{let r;return function(u){return(r||(r=Mn(e)))(u||e)}})(),e.\u0275dir=St({type:e,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(o,u){o&2&&Pr("required",u._enabled?"":null)},inputs:{required:"required"},features:[fi([vp]),Re]});let i=e;return i})();var _p=(()=>{let e=class e{};e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=Et({type:e}),e.\u0275inj=Tt({});let i=e;return i})();var mc=(()=>{let e=class e{static withConfig(r){return{ngModule:e,providers:[{provide:zs,useValue:r.callSetDisabledState??Vs}]}}};e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=Et({type:e}),e.\u0275inj=Tt({imports:[_p]});let i=e;return i})();var An=Qe(je(),1),Pt=class{static mapToArray(e){let a=[];for(let r in e)e.hasOwnProperty(r)&&a.push(e[r]);return a}static handleEvent(e,a,r){0<a.observers.length&&e.run(()=>{a.emit(r)})}},Gt=(()=>{let e=class e{constructor(r,o){this.element=r,this.zone=o,this.DEFAULT_ZOOM=1,this.DEFAULT_CENTER=(0,An.latLng)(38.907192,-77.036871),this.DEFAULT_FPZ_OPTIONS={},this.fitBoundsOptions=this.DEFAULT_FPZ_OPTIONS,this.panOptions=this.DEFAULT_FPZ_OPTIONS,this.zoomOptions=this.DEFAULT_FPZ_OPTIONS,this.zoomPanOptions=this.DEFAULT_FPZ_OPTIONS,this.options={},this.mapReady=new nt,this.zoomChange=new nt,this.centerChange=new nt,this.onClick=new nt,this.onDoubleClick=new nt,this.onMouseDown=new nt,this.onMouseUp=new nt,this.onMouseMove=new nt,this.onMouseOver=new nt,this.onMouseOut=new nt,this.onMapMove=new nt,this.onMapMoveStart=new nt,this.onMapMoveEnd=new nt,this.onMapZoom=new nt,this.onMapZoomStart=new nt,this.onMapZoomEnd=new nt}ngOnInit(){this.zone.runOutsideAngular(()=>{this.map=(0,An.map)(this.element.nativeElement,this.options),this.addMapEventListeners()}),this.center!=null&&this.zoom!=null&&this.setView(this.center,this.zoom),this.fitBounds!=null&&this.setFitBounds(this.fitBounds),this.maxBounds!=null&&this.setMaxBounds(this.maxBounds),this.minZoom!=null&&this.setMinZoom(this.minZoom),this.maxZoom!=null&&this.setMaxZoom(this.maxZoom),this.doResize(),this.mapReady.emit(this.map)}ngOnChanges(r){r.zoom&&r.center&&this.zoom!=null&&this.center!=null?this.setView(r.center.currentValue,r.zoom.currentValue):r.zoom?this.setZoom(r.zoom.currentValue):r.center&&this.setCenter(r.center.currentValue),r.fitBounds&&this.setFitBounds(r.fitBounds.currentValue),r.maxBounds&&this.setMaxBounds(r.maxBounds.currentValue),r.minZoom&&this.setMinZoom(r.minZoom.currentValue),r.maxZoom&&this.setMaxZoom(r.maxZoom.currentValue)}ngOnDestroy(){this.map!=null&&this.map.remove()}getMap(){return this.map}onResize(){this.delayResize()}addMapEventListeners(){let r=(u,h)=>{this.map.on(u,h)};r("click",u=>Pt.handleEvent(this.zone,this.onClick,u)),r("dblclick",u=>Pt.handleEvent(this.zone,this.onDoubleClick,u)),r("mousedown",u=>Pt.handleEvent(this.zone,this.onMouseDown,u)),r("mouseup",u=>Pt.handleEvent(this.zone,this.onMouseUp,u)),r("mouseover",u=>Pt.handleEvent(this.zone,this.onMouseOver,u)),r("mouseout",u=>Pt.handleEvent(this.zone,this.onMouseOut,u)),r("mousemove",u=>Pt.handleEvent(this.zone,this.onMouseMove,u)),r("zoomstart",u=>Pt.handleEvent(this.zone,this.onMapZoomStart,u)),r("zoom",u=>Pt.handleEvent(this.zone,this.onMapZoom,u)),r("zoomend",u=>Pt.handleEvent(this.zone,this.onMapZoomEnd,u)),r("movestart",u=>Pt.handleEvent(this.zone,this.onMapMoveStart,u)),r("move",u=>Pt.handleEvent(this.zone,this.onMapMove,u)),r("moveend",u=>Pt.handleEvent(this.zone,this.onMapMoveEnd,u));let o=()=>{let u=this.map.getZoom();u!==this.zoom&&(this.zoom=u,Pt.handleEvent(this.zone,this.zoomChange,u));let h=this.map.getCenter();(h!=null||this.center!=null)&&((h==null||this.center==null)&&h!==this.center||h.lat!==this.center.lat||h.lng!==this.center.lng)&&(this.center=h,Pt.handleEvent(this.zone,this.centerChange,h))};r("moveend",o),r("zoomend",o)}doResize(){this.zone.runOutsideAngular(()=>{this.map!=null&&this.map.invalidateSize({})})}delayResize(){this.resizeTimer!=null&&clearTimeout(this.resizeTimer),this.resizeTimer=setTimeout(this.doResize.bind(this),200)}setView(r,o){this.map!=null&&r!=null&&o!=null&&this.map.setView(r,o,this.zoomPanOptions)}setZoom(r){this.map!=null&&r!=null&&this.map.setZoom(r,this.zoomOptions)}setCenter(r){this.map!=null&&r!=null&&this.map.panTo(r,this.panOptions)}setFitBounds(r){this.map!=null&&r!=null&&this.map.fitBounds(r,this.fitBoundsOptions)}setMaxBounds(r){this.map!=null&&r!=null&&this.map.setMaxBounds(r)}setMinZoom(r){this.map!=null&&r!=null&&this.map.setMinZoom(r)}setMaxZoom(r){this.map!=null&&r!=null&&this.map.setMaxZoom(r)}};e.\u0275fac=function(o){return new(o||e)(O(en),O(_t))},e.\u0275dir=St({type:e,selectors:[["","leaflet",""]],hostBindings:function(o,u){o&1&&H("resize",function(){return u.onResize()},!1,su)},inputs:{fitBoundsOptions:[ct.None,"leafletFitBoundsOptions","fitBoundsOptions"],panOptions:[ct.None,"leafletPanOptions","panOptions"],zoomOptions:[ct.None,"leafletZoomOptions","zoomOptions"],zoomPanOptions:[ct.None,"leafletZoomPanOptions","zoomPanOptions"],options:[ct.None,"leafletOptions","options"],zoom:[ct.None,"leafletZoom","zoom"],center:[ct.None,"leafletCenter","center"],fitBounds:[ct.None,"leafletFitBounds","fitBounds"],maxBounds:[ct.None,"leafletMaxBounds","maxBounds"],minZoom:[ct.None,"leafletMinZoom","minZoom"],maxZoom:[ct.None,"leafletMaxZoom","maxZoom"]},outputs:{mapReady:"leafletMapReady",zoomChange:"leafletZoomChange",centerChange:"leafletCenterChange",onClick:"leafletClick",onDoubleClick:"leafletDoubleClick",onMouseDown:"leafletMouseDown",onMouseUp:"leafletMouseUp",onMouseMove:"leafletMouseMove",onMouseOver:"leafletMouseOver",onMouseOut:"leafletMouseOut",onMapMove:"leafletMapMove",onMapMoveStart:"leafletMapMoveStart",onMapMoveEnd:"leafletMapMoveEnd",onMapZoom:"leafletMapZoom",onMapZoomStart:"leafletMapZoomStart",onMapZoomEnd:"leafletMapZoomEnd"},features:[De]});let i=e;return i})();var _c=(()=>{let e=class e{};e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=Et({type:e}),e.\u0275inj=Tt({});let i=e;return i})();var z="primary",Wi=Symbol("RouteTitle"),$s=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let a=this.params[e];return Array.isArray(a)?a[0]:a}return null}getAll(e){if(this.has(e)){let a=this.params[e];return Array.isArray(a)?a:[a]}return[]}get keys(){return Object.keys(this.params)}};function zn(i){return new $s(i)}function yp(i,e,a){let r=a.path.split("/");if(r.length>i.length||a.pathMatch==="full"&&(e.hasChildren()||r.length<i.length))return null;let o={};for(let u=0;u<r.length;u++){let h=r[u],f=i[u];if(h.startsWith(":"))o[h.substring(1)]=f;else if(h!==f.path)return null}return{consumed:i.slice(0,r.length),posParams:o}}function wp(i,e){if(i.length!==e.length)return!1;for(let a=0;a<i.length;++a)if(!ce(i[a],e[a]))return!1;return!0}function ce(i,e){let a=i?Hs(i):void 0,r=e?Hs(e):void 0;if(!a||!r||a.length!=r.length)return!1;let o;for(let u=0;u<a.length;u++)if(o=a[u],!Tc(i[o],e[o]))return!1;return!0}function Hs(i){return[...Object.keys(i),...Object.getOwnPropertySymbols(i)]}function Tc(i,e){if(Array.isArray(i)&&Array.isArray(e)){if(i.length!==e.length)return!1;let a=[...i].sort(),r=[...e].sort();return a.every((o,u)=>r[u]===o)}else return i===e}function Ec(i){return i.length>0?i[i.length-1]:null}function He(i){return Zl(i)?i:Er(i)?Ct(Promise.resolve(i)):R(i)}var bp={exact:Oc,subset:Lc},Ic={exact:Cp,subset:Mp,ignored:()=>!0};function yc(i,e,a){return bp[a.paths](i.root,e.root,a.matrixParams)&&Ic[a.queryParams](i.queryParams,e.queryParams)&&!(a.fragment==="exact"&&i.fragment!==e.fragment)}function Cp(i,e){return ce(i,e)}function Oc(i,e,a){if(!ln(i.segments,e.segments)||!no(i.segments,e.segments,a)||i.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!i.children[r]||!Oc(i.children[r],e.children[r],a))return!1;return!0}function Mp(i,e){return Object.keys(e).length<=Object.keys(i).length&&Object.keys(e).every(a=>Tc(i[a],e[a]))}function Lc(i,e,a){return Ac(i,e,e.segments,a)}function Ac(i,e,a,r){if(i.segments.length>a.length){let o=i.segments.slice(0,a.length);return!(!ln(o,a)||e.hasChildren()||!no(o,a,r))}else if(i.segments.length===a.length){if(!ln(i.segments,a)||!no(i.segments,a,r))return!1;for(let o in e.children)if(!i.children[o]||!Lc(i.children[o],e.children[o],r))return!1;return!0}else{let o=a.slice(0,i.segments.length),u=a.slice(i.segments.length);return!ln(i.segments,o)||!no(i.segments,o,r)||!i.children[z]?!1:Ac(i.children[z],e,u,r)}}function no(i,e,a){return e.every((r,o)=>Ic[a](i[o].parameters,r.parameters))}var Ue=class{constructor(e=new X([],{}),a={},r=null){this.root=e,this.queryParams=a,this.fragment=r}get queryParamMap(){return this._queryParamMap??=zn(this.queryParams),this._queryParamMap}toString(){return xp.serialize(this)}},X=class{constructor(e,a){this.segments=e,this.children=a,this.parent=null,Object.values(a).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return io(this)}},an=class{constructor(e,a){this.path=e,this.parameters=a}get parameterMap(){return this._parameterMap??=zn(this.parameters),this._parameterMap}toString(){return Rc(this)}};function Pp(i,e){return ln(i,e)&&i.every((a,r)=>ce(a.parameters,e[r].parameters))}function ln(i,e){return i.length!==e.length?!1:i.every((a,r)=>a.path===e[r].path)}function Sp(i,e){let a=[];return Object.entries(i.children).forEach(([r,o])=>{r===z&&(a=a.concat(e(o,r)))}),Object.entries(i.children).forEach(([r,o])=>{r!==z&&(a=a.concat(e(o,r)))}),a}var Gi=(()=>{let e=class e{};e.\u0275fac=function(o){return new(o||e)},e.\u0275prov=$({token:e,factory:()=>new zi,providedIn:"root"});let i=e;return i})(),zi=class{parse(e){let a=new Gs(e);return new Ue(a.parseRootSegment(),a.parseQueryParams(),a.parseFragment())}serialize(e){let a=`/${Ai(e.root,!0)}`,r=Ip(e.queryParams),o=typeof e.fragment=="string"?`#${Tp(e.fragment)}`:"";return`${a}${r}${o}`}},xp=new zi;function io(i){return i.segments.map(e=>Rc(e)).join("/")}function Ai(i,e){if(!i.hasChildren())return io(i);if(e){let a=i.children[z]?Ai(i.children[z],!1):"",r=[];return Object.entries(i.children).forEach(([o,u])=>{o!==z&&r.push(`${o}:${Ai(u,!1)}`)}),r.length>0?`${a}(${r.join("//")})`:a}else{let a=Sp(i,(r,o)=>o===z?[Ai(i.children[z],!1)]:[`${o}:${Ai(r,!1)}`]);return Object.keys(i.children).length===1&&i.children[z]!=null?`${io(i)}/${a[0]}`:`${io(i)}/(${a.join("//")})`}}function Dc(i){return encodeURIComponent(i).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function to(i){return Dc(i).replace(/%3B/gi,";")}function Tp(i){return encodeURI(i)}function Ws(i){return Dc(i).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ro(i){return decodeURIComponent(i)}function wc(i){return ro(i.replace(/\+/g,"%20"))}function Rc(i){return`${Ws(i.path)}${Ep(i.parameters)}`}function Ep(i){return Object.entries(i).map(([e,a])=>`;${Ws(e)}=${Ws(a)}`).join("")}function Ip(i){let e=Object.entries(i).map(([a,r])=>Array.isArray(r)?r.map(o=>`${to(a)}=${to(o)}`).join("&"):`${to(a)}=${to(r)}`).filter(a=>a);return e.length?`?${e.join("&")}`:""}var Op=/^[^\/()?;#]+/;function Bs(i){let e=i.match(Op);return e?e[0]:""}var Lp=/^[^\/()?;=#]+/;function Ap(i){let e=i.match(Lp);return e?e[0]:""}var Dp=/^[^=?&#]+/;function Rp(i){let e=i.match(Dp);return e?e[0]:""}var kp=/^[^&#]+/;function Np(i){let e=i.match(kp);return e?e[0]:""}var Gs=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new X([],{}):new X([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let a={};this.peekStartsWith("/(")&&(this.capture("/"),a=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(a).length>0)&&(r[z]=new X(e,a)),r}parseSegment(){let e=Bs(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new et(4009,!1);return this.capture(e),new an(ro(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let a=Ap(this.remaining);if(!a)return;this.capture(a);let r="";if(this.consumeOptional("=")){let o=Bs(this.remaining);o&&(r=o,this.capture(r))}e[ro(a)]=ro(r)}parseQueryParam(e){let a=Rp(this.remaining);if(!a)return;this.capture(a);let r="";if(this.consumeOptional("=")){let h=Np(this.remaining);h&&(r=h,this.capture(r))}let o=wc(a),u=wc(r);if(e.hasOwnProperty(o)){let h=e[o];Array.isArray(h)||(h=[h],e[o]=h),h.push(u)}else e[o]=u}parseParens(e){let a={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Bs(this.remaining),o=this.remaining[r.length];if(o!=="/"&&o!==")"&&o!==";")throw new et(4010,!1);let u;r.indexOf(":")>-1?(u=r.slice(0,r.indexOf(":")),this.capture(u),this.capture(":")):e&&(u=z);let h=this.parseChildren();a[u]=Object.keys(h).length===1?h[z]:new X([],h),this.consumeOptional("//")}return a}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new et(4011,!1)}};function kc(i){return i.segments.length>0?new X([],{[z]:i}):i}function Nc(i){let e={};for(let[r,o]of Object.entries(i.children)){let u=Nc(o);if(r===z&&u.segments.length===0&&u.hasChildren())for(let[h,f]of Object.entries(u.children))e[h]=f;else(u.segments.length>0||u.hasChildren())&&(e[r]=u)}let a=new X(i.segments,e);return Fp(a)}function Fp(i){if(i.numberOfChildren===1&&i.children[z]){let e=i.children[z];return new X(i.segments.concat(e.segments),e.children)}return i}function Vn(i){return i instanceof Ue}function zp(i,e,a=null,r=null){let o=Fc(i);return zc(o,e,a,r)}function Fc(i){let e;function a(u){let h={};for(let v of u.children){let m=a(v);h[v.outlet]=m}let f=new X(u.url,h);return u===i&&(e=f),f}let r=a(i.root),o=kc(r);return e??o}function zc(i,e,a,r){let o=i;for(;o.parent;)o=o.parent;if(e.length===0)return js(o,o,o,a,r);let u=Vp(e);if(u.toRoot())return js(o,o,new X([],{}),a,r);let h=Bp(u,o,i),f=h.processChildren?ki(h.segmentGroup,h.index,u.commands):Bc(h.segmentGroup,h.index,u.commands);return js(o,h.segmentGroup,f,a,r)}function oo(i){return typeof i=="object"&&i!=null&&!i.outlets&&!i.segmentPath}function Vi(i){return typeof i=="object"&&i!=null&&i.outlets}function js(i,e,a,r,o){let u={};r&&Object.entries(r).forEach(([v,m])=>{u[v]=Array.isArray(m)?m.map(b=>`${b}`):`${m}`});let h;i===e?h=a:h=Vc(i,e,a);let f=kc(Nc(h));return new Ue(f,u,o)}function Vc(i,e,a){let r={};return Object.entries(i.children).forEach(([o,u])=>{u===e?r[o]=a:r[o]=Vc(u,e,a)}),new X(i.segments,r)}var so=class{constructor(e,a,r){if(this.isAbsolute=e,this.numberOfDoubleDots=a,this.commands=r,e&&r.length>0&&oo(r[0]))throw new et(4003,!1);let o=r.find(Vi);if(o&&o!==Ec(r))throw new et(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function Vp(i){if(typeof i[0]=="string"&&i.length===1&&i[0]==="/")return new so(!0,0,i);let e=0,a=!1,r=i.reduce((o,u,h)=>{if(typeof u=="object"&&u!=null){if(u.outlets){let f={};return Object.entries(u.outlets).forEach(([v,m])=>{f[v]=typeof m=="string"?m.split("/"):m}),[...o,{outlets:f}]}if(u.segmentPath)return[...o,u.segmentPath]}return typeof u!="string"?[...o,u]:h===0?(u.split("/").forEach((f,v)=>{v==0&&f==="."||(v==0&&f===""?a=!0:f===".."?e++:f!=""&&o.push(f))}),o):[...o,u]},[]);return new so(a,e,r)}var Nn=class{constructor(e,a,r){this.segmentGroup=e,this.processChildren=a,this.index=r}};function Bp(i,e,a){if(i.isAbsolute)return new Nn(e,!0,0);if(!a)return new Nn(e,!1,NaN);if(a.parent===null)return new Nn(a,!0,0);let r=oo(i.commands[0])?0:1,o=a.segments.length-1+r;return jp(a,o,i.numberOfDoubleDots)}function jp(i,e,a){let r=i,o=e,u=a;for(;u>o;){if(u-=o,r=r.parent,!r)throw new et(4005,!1);o=r.segments.length}return new Nn(r,!1,o-u)}function Up(i){return Vi(i[0])?i[0].outlets:{[z]:i}}function Bc(i,e,a){if(i??=new X([],{}),i.segments.length===0&&i.hasChildren())return ki(i,e,a);let r=Zp(i,e,a),o=a.slice(r.commandIndex);if(r.match&&r.pathIndex<i.segments.length){let u=new X(i.segments.slice(0,r.pathIndex),{});return u.children[z]=new X(i.segments.slice(r.pathIndex),i.children),ki(u,0,o)}else return r.match&&o.length===0?new X(i.segments,{}):r.match&&!i.hasChildren()?qs(i,e,a):r.match?ki(i,0,o):qs(i,e,a)}function ki(i,e,a){if(a.length===0)return new X(i.segments,{});{let r=Up(a),o={};if(Object.keys(r).some(u=>u!==z)&&i.children[z]&&i.numberOfChildren===1&&i.children[z].segments.length===0){let u=ki(i.children[z],e,a);return new X(i.segments,u.children)}return Object.entries(r).forEach(([u,h])=>{typeof h=="string"&&(h=[h]),h!==null&&(o[u]=Bc(i.children[u],e,h))}),Object.entries(i.children).forEach(([u,h])=>{r[u]===void 0&&(o[u]=h)}),new X(i.segments,o)}}function Zp(i,e,a){let r=0,o=e,u={match:!1,pathIndex:0,commandIndex:0};for(;o<i.segments.length;){if(r>=a.length)return u;let h=i.segments[o],f=a[r];if(Vi(f))break;let v=`${f}`,m=r<a.length-1?a[r+1]:null;if(o>0&&v===void 0)break;if(v&&m&&typeof m=="object"&&m.outlets===void 0){if(!Cc(v,m,h))return u;r+=2}else{if(!Cc(v,{},h))return u;r++}o++}return{match:!0,pathIndex:o,commandIndex:r}}function qs(i,e,a){let r=i.segments.slice(0,e),o=0;for(;o<a.length;){let u=a[o];if(Vi(u)){let v=$p(u.outlets);return new X(r,v)}if(o===0&&oo(a[0])){let v=i.segments[e];r.push(new an(v.path,bc(a[0]))),o++;continue}let h=Vi(u)?u.outlets[z]:`${u}`,f=o<a.length-1?a[o+1]:null;h&&f&&oo(f)?(r.push(new an(h,bc(f))),o+=2):(r.push(new an(h,{})),o++)}return new X(r,{})}function $p(i){let e={};return Object.entries(i).forEach(([a,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[a]=qs(new X([],{}),0,r))}),e}function bc(i){let e={};return Object.entries(i).forEach(([a,r])=>e[a]=`${r}`),e}function Cc(i,e,a){return i==a.path&&ce(e,a.parameters)}var Ni="imperative",wt=function(i){return i[i.NavigationStart=0]="NavigationStart",i[i.NavigationEnd=1]="NavigationEnd",i[i.NavigationCancel=2]="NavigationCancel",i[i.NavigationError=3]="NavigationError",i[i.RoutesRecognized=4]="RoutesRecognized",i[i.ResolveStart=5]="ResolveStart",i[i.ResolveEnd=6]="ResolveEnd",i[i.GuardsCheckStart=7]="GuardsCheckStart",i[i.GuardsCheckEnd=8]="GuardsCheckEnd",i[i.RouteConfigLoadStart=9]="RouteConfigLoadStart",i[i.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",i[i.ChildActivationStart=11]="ChildActivationStart",i[i.ChildActivationEnd=12]="ChildActivationEnd",i[i.ActivationStart=13]="ActivationStart",i[i.ActivationEnd=14]="ActivationEnd",i[i.Scroll=15]="Scroll",i[i.NavigationSkipped=16]="NavigationSkipped",i}(wt||{}),qt=class{constructor(e,a){this.id=e,this.url=a}},Bn=class extends qt{constructor(e,a,r="imperative",o=null){super(e,a),this.type=wt.NavigationStart,this.navigationTrigger=r,this.restoredState=o}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Kt=class extends qt{constructor(e,a,r){super(e,a),this.urlAfterRedirects=r,this.type=wt.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Vt=function(i){return i[i.Redirect=0]="Redirect",i[i.SupersededByNewNavigation=1]="SupersededByNewNavigation",i[i.NoDataFromResolver=2]="NoDataFromResolver",i[i.GuardRejected=3]="GuardRejected",i}(Vt||{}),ao=function(i){return i[i.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",i[i.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",i}(ao||{}),Ze=class extends qt{constructor(e,a,r,o){super(e,a),this.reason=r,this.code=o,this.type=wt.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},$e=class extends qt{constructor(e,a,r,o){super(e,a),this.reason=r,this.code=o,this.type=wt.NavigationSkipped}},Bi=class extends qt{constructor(e,a,r,o){super(e,a),this.error=r,this.target=o,this.type=wt.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},lo=class extends qt{constructor(e,a,r,o){super(e,a),this.urlAfterRedirects=r,this.state=o,this.type=wt.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Ks=class extends qt{constructor(e,a,r,o){super(e,a),this.urlAfterRedirects=r,this.state=o,this.type=wt.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Ys=class extends qt{constructor(e,a,r,o,u){super(e,a),this.urlAfterRedirects=r,this.state=o,this.shouldActivate=u,this.type=wt.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Xs=class extends qt{constructor(e,a,r,o){super(e,a),this.urlAfterRedirects=r,this.state=o,this.type=wt.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Js=class extends qt{constructor(e,a,r,o){super(e,a),this.urlAfterRedirects=r,this.state=o,this.type=wt.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Qs=class{constructor(e){this.route=e,this.type=wt.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},ta=class{constructor(e){this.route=e,this.type=wt.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},ea=class{constructor(e){this.snapshot=e,this.type=wt.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},na=class{constructor(e){this.snapshot=e,this.type=wt.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},ia=class{constructor(e){this.snapshot=e,this.type=wt.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},ra=class{constructor(e){this.snapshot=e,this.type=wt.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},uo=class{constructor(e,a,r){this.routerEvent=e,this.position=a,this.anchor=r,this.type=wt.Scroll}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},ji=class{},Ui=class{constructor(e){this.url=e}};var oa=class{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new qi,this.attachRef=null}},qi=(()=>{let e=class e{constructor(){this.contexts=new Map}onChildOutletCreated(r,o){let u=this.getOrCreateContext(r);u.outlet=o,this.contexts.set(r,u)}onChildOutletDestroyed(r){let o=this.getContext(r);o&&(o.outlet=null,o.attachRef=null)}onOutletDeactivated(){let r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let o=this.getContext(r);return o||(o=new oa,this.contexts.set(r,o)),o}getContext(r){return this.contexts.get(r)||null}};e.\u0275fac=function(o){return new(o||e)},e.\u0275prov=$({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})(),co=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let a=this.pathFromRoot(e);return a.length>1?a[a.length-2]:null}children(e){let a=sa(e,this._root);return a?a.children.map(r=>r.value):[]}firstChild(e){let a=sa(e,this._root);return a&&a.children.length>0?a.children[0].value:null}siblings(e){let a=aa(e,this._root);return a.length<2?[]:a[a.length-2].children.map(o=>o.value).filter(o=>o!==e)}pathFromRoot(e){return aa(e,this._root).map(a=>a.value)}};function sa(i,e){if(i===e.value)return e;for(let a of e.children){let r=sa(i,a);if(r)return r}return null}function aa(i,e){if(i===e.value)return[e];for(let a of e.children){let r=aa(i,a);if(r.length)return r.unshift(e),r}return[]}var zt=class{constructor(e,a){this.value=e,this.children=a}toString(){return`TreeNode(${this.value})`}};function kn(i){let e={};return i&&i.children.forEach(a=>e[a.value.outlet]=a),e}var ho=class extends co{constructor(e,a){super(e),this.snapshot=a,va(this,e)}toString(){return this.snapshot.toString()}};function jc(i){let e=Hp(i),a=new Rt([new an("",{})]),r=new Rt({}),o=new Rt({}),u=new Rt({}),h=new Rt(""),f=new un(a,r,u,h,o,z,i,e.root);return f.snapshot=e.root,new ho(new zt(f,[]),e)}function Hp(i){let e={},a={},r={},o="",u=new Zi([],e,r,o,a,z,i,null,{});return new fo("",new zt(u,[]))}var un=class{constructor(e,a,r,o,u,h,f,v){this.urlSubject=e,this.paramsSubject=a,this.queryParamsSubject=r,this.fragmentSubject=o,this.dataSubject=u,this.outlet=h,this.component=f,this._futureSnapshot=v,this.title=this.dataSubject?.pipe(q(m=>m[Wi]))??R(void 0),this.url=e,this.params=a,this.queryParams=r,this.fragment=o,this.data=u}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(q(e=>zn(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(q(e=>zn(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function ga(i,e,a="emptyOnly"){let r,{routeConfig:o}=i;return e!==null&&(a==="always"||o?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:S(S({},e.params),i.params),data:S(S({},e.data),i.data),resolve:S(S(S(S({},i.data),e.data),o?.data),i._resolvedData)}:r={params:S({},i.params),data:S({},i.data),resolve:S(S({},i.data),i._resolvedData??{})},o&&Zc(o)&&(r.resolve[Wi]=o.title),r}var Zi=class{get title(){return this.data?.[Wi]}constructor(e,a,r,o,u,h,f,v,m){this.url=e,this.params=a,this.queryParams=r,this.fragment=o,this.data=u,this.outlet=h,this.component=f,this.routeConfig=v,this._resolve=m}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=zn(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=zn(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),a=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${a}')`}},fo=class extends co{constructor(e,a){super(a),this.url=e,va(this,a)}toString(){return Uc(this._root)}};function va(i,e){e.value._routerState=i,e.children.forEach(a=>va(i,a))}function Uc(i){let e=i.children.length>0?` { ${i.children.map(Uc).join(", ")} } `:"";return`${i.value}${e}`}function Us(i){if(i.snapshot){let e=i.snapshot,a=i._futureSnapshot;i.snapshot=a,ce(e.queryParams,a.queryParams)||i.queryParamsSubject.next(a.queryParams),e.fragment!==a.fragment&&i.fragmentSubject.next(a.fragment),ce(e.params,a.params)||i.paramsSubject.next(a.params),wp(e.url,a.url)||i.urlSubject.next(a.url),ce(e.data,a.data)||i.dataSubject.next(a.data)}else i.snapshot=i._futureSnapshot,i.dataSubject.next(i._futureSnapshot.data)}function la(i,e){let a=ce(i.params,e.params)&&Pp(i.url,e.url),r=!i.parent!=!e.parent;return a&&!r&&(!i.parent||la(i.parent,e.parent))}function Zc(i){return typeof i.title=="string"||i.title===null}var _a=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=z,this.activateEvents=new nt,this.deactivateEvents=new nt,this.attachEvents=new nt,this.detachEvents=new nt,this.parentContexts=T(qi),this.location=T(lu),this.changeDetector=T(mi),this.environmentInjector=T(Ae),this.inputBinder=T(_o,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(r){if(r.name){let{firstChange:o,previousValue:u}=r.name;if(o)return;this.isTrackedInParentContexts(u)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(u)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(r){return this.parentContexts.getContext(r)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let r=this.parentContexts.getContext(this.name);r?.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new et(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new et(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new et(4012,!1);this.location.detach();let r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,o){this.activated=r,this._activatedRoute=o,this.location.insert(r.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){let r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,o){if(this.isActivated)throw new et(4013,!1);this._activatedRoute=r;let u=this.location,f=r.snapshot.component,v=this.parentContexts.getOrCreateContext(this.name).children,m=new ua(r,v,u.injector);this.activated=u.createComponent(f,{index:u.length,injector:m,environmentInjector:o??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(o){return new(o||e)},e.\u0275dir=St({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[De]});let i=e;return i})(),ua=class i{__ngOutletInjector(e){return new i(this.route,this.childContexts,e)}constructor(e,a,r){this.route=e,this.childContexts=a,this.parent=r}get(e,a){return e===un?this.route:e===qi?this.childContexts:this.parent.get(e,a)}},_o=new Y(""),Mc=(()=>{let e=class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(r){this.unsubscribeFromRouteData(r),this.subscribeToRouteData(r)}unsubscribeFromRouteData(r){this.outletDataSubscriptions.get(r)?.unsubscribe(),this.outletDataSubscriptions.delete(r)}subscribeToRouteData(r){let{activatedRoute:o}=r,u=yr([o.queryParams,o.params,o.data]).pipe(Ft(([h,f,v],m)=>(v=S(S(S({},h),f),v),m===0?R(v):Promise.resolve(v)))).subscribe(h=>{if(!r.isActivated||!r.activatedComponentRef||r.activatedRoute!==o||o.component===null){this.unsubscribeFromRouteData(r);return}let f=gu(o.component);if(!f){this.unsubscribeFromRouteData(r);return}for(let{templateName:v}of f.inputs)r.activatedComponentRef.setInput(v,h[v])});this.outletDataSubscriptions.set(r,u)}};e.\u0275fac=function(o){return new(o||e)},e.\u0275prov=$({token:e,factory:e.\u0275fac});let i=e;return i})();function Wp(i,e,a){let r=$i(i,e._root,a?a._root:void 0);return new ho(r,e)}function $i(i,e,a){if(a&&i.shouldReuseRoute(e.value,a.value.snapshot)){let r=a.value;r._futureSnapshot=e.value;let o=Gp(i,e,a);return new zt(r,o)}else{if(i.shouldAttach(e.value)){let u=i.retrieve(e.value);if(u!==null){let h=u.route;return h.value._futureSnapshot=e.value,h.children=e.children.map(f=>$i(i,f)),h}}let r=qp(e.value),o=e.children.map(u=>$i(i,u));return new zt(r,o)}}function Gp(i,e,a){return e.children.map(r=>{for(let o of a.children)if(i.shouldReuseRoute(r.value,o.value.snapshot))return $i(i,r,o);return $i(i,r)})}function qp(i){return new un(new Rt(i.url),new Rt(i.params),new Rt(i.queryParams),new Rt(i.fragment),new Rt(i.data),i.outlet,i.component,i)}var $c="ngNavigationCancelingError";function Hc(i,e){let{redirectTo:a,navigationBehaviorOptions:r}=Vn(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,o=Wc(!1,Vt.Redirect);return o.url=a,o.navigationBehaviorOptions=r,o}function Wc(i,e){let a=new Error(`NavigationCancelingError: ${i||""}`);return a[$c]=!0,a.cancellationCode=e,a}function Kp(i){return Gc(i)&&Vn(i.url)}function Gc(i){return!!i&&i[$c]}var Yp=(()=>{let e=class e{};e.\u0275fac=function(o){return new(o||e)},e.\u0275cmp=ot({type:e,selectors:[["ng-component"]],standalone:!0,features:[hu],decls:1,vars:0,template:function(o,u){o&1&&Q(0,"router-outlet")},dependencies:[_a],encapsulation:2});let i=e;return i})();function Xp(i,e){return i.providers&&!i._injector&&(i._injector=ps(i.providers,e,`Route: ${i.path}`)),i._injector??e}function ya(i){let e=i.children&&i.children.map(ya),a=e?ut(S({},i),{children:e}):S({},i);return!a.component&&!a.loadComponent&&(e||a.loadChildren)&&a.outlet&&a.outlet!==z&&(a.component=Yp),a}function he(i){return i.outlet||z}function Jp(i,e){let a=i.filter(r=>he(r)===e);return a.push(...i.filter(r=>he(r)!==e)),a}function Ki(i){if(!i)return null;if(i.routeConfig?._injector)return i.routeConfig._injector;for(let e=i.parent;e;e=e.parent){let a=e.routeConfig;if(a?._loadedInjector)return a._loadedInjector;if(a?._injector)return a._injector}return null}var Qp=(i,e,a,r)=>q(o=>(new ca(e,o.targetRouterState,o.currentRouterState,a,r).activate(i),o)),ca=class{constructor(e,a,r,o,u){this.routeReuseStrategy=e,this.futureState=a,this.currState=r,this.forwardEvent=o,this.inputBindingEnabled=u}activate(e){let a=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(a,r,e),Us(this.futureState.root),this.activateChildRoutes(a,r,e)}deactivateChildRoutes(e,a,r){let o=kn(a);e.children.forEach(u=>{let h=u.value.outlet;this.deactivateRoutes(u,o[h],r),delete o[h]}),Object.values(o).forEach(u=>{this.deactivateRouteAndItsChildren(u,r)})}deactivateRoutes(e,a,r){let o=e.value,u=a?a.value:null;if(o===u)if(o.component){let h=r.getContext(o.outlet);h&&this.deactivateChildRoutes(e,a,h.children)}else this.deactivateChildRoutes(e,a,r);else u&&this.deactivateRouteAndItsChildren(a,r)}deactivateRouteAndItsChildren(e,a){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,a):this.deactivateRouteAndOutlet(e,a)}detachAndStoreRouteSubtree(e,a){let r=a.getContext(e.value.outlet),o=r&&e.value.component?r.children:a,u=kn(e);for(let h of Object.values(u))this.deactivateRouteAndItsChildren(h,o);if(r&&r.outlet){let h=r.outlet.detach(),f=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:h,route:e,contexts:f})}}deactivateRouteAndOutlet(e,a){let r=a.getContext(e.value.outlet),o=r&&e.value.component?r.children:a,u=kn(e);for(let h of Object.values(u))this.deactivateRouteAndItsChildren(h,o);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,a,r){let o=kn(a);e.children.forEach(u=>{this.activateRoutes(u,o[u.value.outlet],r),this.forwardEvent(new ra(u.value.snapshot))}),e.children.length&&this.forwardEvent(new na(e.value.snapshot))}activateRoutes(e,a,r){let o=e.value,u=a?a.value:null;if(Us(o),o===u)if(o.component){let h=r.getOrCreateContext(o.outlet);this.activateChildRoutes(e,a,h.children)}else this.activateChildRoutes(e,a,r);else if(o.component){let h=r.getOrCreateContext(o.outlet);if(this.routeReuseStrategy.shouldAttach(o.snapshot)){let f=this.routeReuseStrategy.retrieve(o.snapshot);this.routeReuseStrategy.store(o.snapshot,null),h.children.onOutletReAttached(f.contexts),h.attachRef=f.componentRef,h.route=f.route.value,h.outlet&&h.outlet.attach(f.componentRef,f.route.value),Us(f.route.value),this.activateChildRoutes(e,null,h.children)}else{let f=Ki(o.snapshot);h.attachRef=null,h.route=o,h.injector=f,h.outlet&&h.outlet.activateWith(o,h.injector),this.activateChildRoutes(e,null,h.children)}}else this.activateChildRoutes(e,null,r)}},po=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Fn=class{constructor(e,a){this.component=e,this.route=a}};function tm(i,e,a){let r=i._root,o=e?e._root:null;return Di(r,o,a,[r.value])}function em(i){let e=i.routeConfig?i.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:i,guards:e}}function Un(i,e){let a=Symbol(),r=e.get(i,a);return r===a?typeof i=="function"&&!Jl(i)?i:e.get(i):r}function Di(i,e,a,r,o={canDeactivateChecks:[],canActivateChecks:[]}){let u=kn(e);return i.children.forEach(h=>{nm(h,u[h.value.outlet],a,r.concat([h.value]),o),delete u[h.value.outlet]}),Object.entries(u).forEach(([h,f])=>Fi(f,a.getContext(h),o)),o}function nm(i,e,a,r,o={canDeactivateChecks:[],canActivateChecks:[]}){let u=i.value,h=e?e.value:null,f=a?a.getContext(i.value.outlet):null;if(h&&u.routeConfig===h.routeConfig){let v=im(h,u,u.routeConfig.runGuardsAndResolvers);v?o.canActivateChecks.push(new po(r)):(u.data=h.data,u._resolvedData=h._resolvedData),u.component?Di(i,e,f?f.children:null,r,o):Di(i,e,a,r,o),v&&f&&f.outlet&&f.outlet.isActivated&&o.canDeactivateChecks.push(new Fn(f.outlet.component,h))}else h&&Fi(e,f,o),o.canActivateChecks.push(new po(r)),u.component?Di(i,null,f?f.children:null,r,o):Di(i,null,a,r,o);return o}function im(i,e,a){if(typeof a=="function")return a(i,e);switch(a){case"pathParamsChange":return!ln(i.url,e.url);case"pathParamsOrQueryParamsChange":return!ln(i.url,e.url)||!ce(i.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!la(i,e)||!ce(i.queryParams,e.queryParams);case"paramsChange":default:return!la(i,e)}}function Fi(i,e,a){let r=kn(i),o=i.value;Object.entries(r).forEach(([u,h])=>{o.component?e?Fi(h,e.children.getContext(u),a):Fi(h,null,a):Fi(h,e,a)}),o.component?e&&e.outlet&&e.outlet.isActivated?a.canDeactivateChecks.push(new Fn(e.outlet.component,o)):a.canDeactivateChecks.push(new Fn(null,o)):a.canDeactivateChecks.push(new Fn(null,o))}function Yi(i){return typeof i=="function"}function rm(i){return typeof i=="boolean"}function om(i){return i&&Yi(i.canLoad)}function sm(i){return i&&Yi(i.canActivate)}function am(i){return i&&Yi(i.canActivateChild)}function lm(i){return i&&Yi(i.canDeactivate)}function um(i){return i&&Yi(i.canMatch)}function qc(i){return i instanceof $l||i?.name==="EmptyError"}var eo=Symbol("INITIAL_VALUE");function jn(){return Ft(i=>yr(i.map(e=>e.pipe(bn(1),Yl(eo)))).pipe(q(e=>{for(let a of e)if(a!==!0){if(a===eo)return eo;if(a===!1||a instanceof Ue)return a}return!0}),_e(e=>e!==eo),bn(1)))}function cm(i,e){return Nt(a=>{let{targetSnapshot:r,currentSnapshot:o,guards:{canActivateChecks:u,canDeactivateChecks:h}}=a;return h.length===0&&u.length===0?R(ut(S({},a),{guardsResult:!0})):hm(h,r,o,i).pipe(Nt(f=>f&&rm(f)?dm(r,u,i,e):R(f)),q(f=>ut(S({},a),{guardsResult:f})))})}function hm(i,e,a,r){return Ct(i).pipe(Nt(o=>vm(o.component,o.route,a,e,r)),Oe(o=>o!==!0,!0))}function dm(i,e,a,r){return Ct(e).pipe(Ie(o=>Hl(pm(o.route.parent,r),fm(o.route,r),gm(i,o.path,a),mm(i,o.route,a))),Oe(o=>o!==!0,!0))}function fm(i,e){return i!==null&&e&&e(new ia(i)),R(!0)}function pm(i,e){return i!==null&&e&&e(new ea(i)),R(!0)}function mm(i,e,a){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return R(!0);let o=r.map(u=>os(()=>{let h=Ki(e)??a,f=Un(u,h),v=sm(f)?f.canActivate(e,i):ue(h,()=>f(e,i));return He(v).pipe(Oe())}));return R(o).pipe(jn())}function gm(i,e,a){let r=e[e.length-1],u=e.slice(0,e.length-1).reverse().map(h=>em(h)).filter(h=>h!==null).map(h=>os(()=>{let f=h.guards.map(v=>{let m=Ki(h.node)??a,b=Un(v,m),A=am(b)?b.canActivateChild(r,i):ue(m,()=>b(r,i));return He(A).pipe(Oe())});return R(f).pipe(jn())}));return R(u).pipe(jn())}function vm(i,e,a,r,o){let u=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!u||u.length===0)return R(!0);let h=u.map(f=>{let v=Ki(e)??o,m=Un(f,v),b=lm(m)?m.canDeactivate(i,e,a,r):ue(v,()=>m(i,e,a,r));return He(b).pipe(Oe())});return R(h).pipe(jn())}function _m(i,e,a,r){let o=e.canLoad;if(o===void 0||o.length===0)return R(!0);let u=o.map(h=>{let f=Un(h,i),v=om(f)?f.canLoad(e,a):ue(i,()=>f(e,a));return He(v)});return R(u).pipe(jn(),Kc(r))}function Kc(i){return jl(pt(e=>{if(Vn(e))throw Hc(i,e)}),q(e=>e===!0))}function ym(i,e,a,r){let o=e.canMatch;if(!o||o.length===0)return R(!0);let u=o.map(h=>{let f=Un(h,i),v=um(f)?f.canMatch(e,a):ue(i,()=>f(e,a));return He(v)});return R(u).pipe(jn(),Kc(r))}var Hi=class{constructor(e){this.segmentGroup=e||null}},mo=class extends Error{constructor(e){super(),this.urlTree=e}};function Rn(i){return si(new Hi(i))}function wm(i){return si(new et(4e3,!1))}function bm(i){return si(Wc(!1,Vt.GuardRejected))}var ha=class{constructor(e,a){this.urlSerializer=e,this.urlTree=a}lineralizeSegments(e,a){let r=[],o=a.root;for(;;){if(r=r.concat(o.segments),o.numberOfChildren===0)return R(r);if(o.numberOfChildren>1||!o.children[z])return wm(e.redirectTo);o=o.children[z]}}applyRedirectCommands(e,a,r){let o=this.applyRedirectCreateUrlTree(a,this.urlSerializer.parse(a),e,r);if(a.startsWith("/"))throw new mo(o);return o}applyRedirectCreateUrlTree(e,a,r,o){let u=this.createSegmentGroup(e,a.root,r,o);return new Ue(u,this.createQueryParams(a.queryParams,this.urlTree.queryParams),a.fragment)}createQueryParams(e,a){let r={};return Object.entries(e).forEach(([o,u])=>{if(typeof u=="string"&&u.startsWith(":")){let f=u.substring(1);r[o]=a[f]}else r[o]=u}),r}createSegmentGroup(e,a,r,o){let u=this.createSegments(e,a.segments,r,o),h={};return Object.entries(a.children).forEach(([f,v])=>{h[f]=this.createSegmentGroup(e,v,r,o)}),new X(u,h)}createSegments(e,a,r,o){return a.map(u=>u.path.startsWith(":")?this.findPosParam(e,u,o):this.findOrReturn(u,r))}findPosParam(e,a,r){let o=r[a.path.substring(1)];if(!o)throw new et(4001,!1);return o}findOrReturn(e,a){let r=0;for(let o of a){if(o.path===e.path)return a.splice(r),o;r++}return e}},da={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Cm(i,e,a,r,o){let u=wa(i,e,a);return u.matched?(r=Xp(e,r),ym(r,e,a,o).pipe(q(h=>h===!0?u:S({},da)))):R(u)}function wa(i,e,a){if(e.path==="**")return Mm(a);if(e.path==="")return e.pathMatch==="full"&&(i.hasChildren()||a.length>0)?S({},da):{matched:!0,consumedSegments:[],remainingSegments:a,parameters:{},positionalParamSegments:{}};let o=(e.matcher||yp)(a,i,e);if(!o)return S({},da);let u={};Object.entries(o.posParams??{}).forEach(([f,v])=>{u[f]=v.path});let h=o.consumed.length>0?S(S({},u),o.consumed[o.consumed.length-1].parameters):u;return{matched:!0,consumedSegments:o.consumed,remainingSegments:a.slice(o.consumed.length),parameters:h,positionalParamSegments:o.posParams??{}}}function Mm(i){return{matched:!0,parameters:i.length>0?Ec(i).parameters:{},consumedSegments:i,remainingSegments:[],positionalParamSegments:{}}}function Pc(i,e,a,r){return a.length>0&&xm(i,a,r)?{segmentGroup:new X(e,Sm(r,new X(a,i.children))),slicedSegments:[]}:a.length===0&&Tm(i,a,r)?{segmentGroup:new X(i.segments,Pm(i,a,r,i.children)),slicedSegments:a}:{segmentGroup:new X(i.segments,i.children),slicedSegments:a}}function Pm(i,e,a,r){let o={};for(let u of a)if(yo(i,e,u)&&!r[he(u)]){let h=new X([],{});o[he(u)]=h}return S(S({},r),o)}function Sm(i,e){let a={};a[z]=e;for(let r of i)if(r.path===""&&he(r)!==z){let o=new X([],{});a[he(r)]=o}return a}function xm(i,e,a){return a.some(r=>yo(i,e,r)&&he(r)!==z)}function Tm(i,e,a){return a.some(r=>yo(i,e,r))}function yo(i,e,a){return(i.hasChildren()||e.length>0)&&a.pathMatch==="full"?!1:a.path===""}function Em(i,e,a,r){return he(i)!==r&&(r===z||!yo(e,a,i))?!1:wa(e,i,a).matched}function Im(i,e,a){return e.length===0&&!i.children[a]}var fa=class{};function Om(i,e,a,r,o,u,h="emptyOnly"){return new pa(i,e,a,r,o,h,u).recognize()}var Lm=31,pa=class{constructor(e,a,r,o,u,h,f){this.injector=e,this.configLoader=a,this.rootComponentType=r,this.config=o,this.urlTree=u,this.paramsInheritanceStrategy=h,this.urlSerializer=f,this.applyRedirects=new ha(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new et(4002,`'${e.segmentGroup}'`)}recognize(){let e=Pc(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(q(a=>{let r=new Zi([],Object.freeze({}),Object.freeze(S({},this.urlTree.queryParams)),this.urlTree.fragment,{},z,this.rootComponentType,null,{}),o=new zt(r,a),u=new fo("",o),h=zp(r,[],this.urlTree.queryParams,this.urlTree.fragment);return h.queryParams=this.urlTree.queryParams,u.url=this.urlSerializer.serialize(h),this.inheritParamsAndData(u._root,null),{state:u,tree:h}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e,z).pipe(wn(r=>{if(r instanceof mo)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Hi?this.noMatchError(r):r}))}inheritParamsAndData(e,a){let r=e.value,o=ga(r,a,this.paramsInheritanceStrategy);r.params=Object.freeze(o.params),r.data=Object.freeze(o.data),e.children.forEach(u=>this.inheritParamsAndData(u,r))}processSegmentGroup(e,a,r,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,a,r):this.processSegment(e,a,r,r.segments,o,!0).pipe(q(u=>u instanceof zt?[u]:[]))}processChildren(e,a,r){let o=[];for(let u of Object.keys(r.children))u==="primary"?o.unshift(u):o.push(u);return Ct(o).pipe(Ie(u=>{let h=r.children[u],f=Jp(a,u);return this.processSegmentGroup(e,f,h,u)}),Kl((u,h)=>(u.push(...h),u)),ss(null),ql(),Nt(u=>{if(u===null)return Rn(r);let h=Yc(u);return Am(h),R(h)}))}processSegment(e,a,r,o,u,h){return Ct(a).pipe(Ie(f=>this.processSegmentAgainstRoute(f._injector??e,a,f,r,o,u,h).pipe(wn(v=>{if(v instanceof Hi)return R(null);throw v}))),Oe(f=>!!f),wn(f=>{if(qc(f))return Im(r,o,u)?R(new fa):Rn(r);throw f}))}processSegmentAgainstRoute(e,a,r,o,u,h,f){return Em(r,o,u,h)?r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,o,r,u,h):this.allowRedirects&&f?this.expandSegmentAgainstRouteUsingRedirect(e,o,a,r,u,h):Rn(o):Rn(o)}expandSegmentAgainstRouteUsingRedirect(e,a,r,o,u,h){let{matched:f,consumedSegments:v,positionalParamSegments:m,remainingSegments:b}=wa(a,o,u);if(!f)return Rn(a);o.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>Lm&&(this.allowRedirects=!1));let A=this.applyRedirects.applyRedirectCommands(v,o.redirectTo,m);return this.applyRedirects.lineralizeSegments(o,A).pipe(Nt(x=>this.processSegment(e,r,a,x.concat(b),h,!1)))}matchSegmentAgainstRoute(e,a,r,o,u){let h=Cm(a,r,o,e,this.urlSerializer);return r.path==="**"&&(a.children={}),h.pipe(Ft(f=>f.matched?(e=r._injector??e,this.getChildConfig(e,r,o).pipe(Ft(({routes:v})=>{let m=r._loadedInjector??e,{consumedSegments:b,remainingSegments:A,parameters:x}=f,I=new Zi(b,x,Object.freeze(S({},this.urlTree.queryParams)),this.urlTree.fragment,Rm(r),he(r),r.component??r._loadedComponent??null,r,km(r)),{segmentGroup:Jt,slicedSegments:re}=Pc(a,b,A,v);if(re.length===0&&Jt.hasChildren())return this.processChildren(m,v,Jt).pipe(q(V=>V===null?null:new zt(I,V)));if(v.length===0&&re.length===0)return R(new zt(I,[]));let J=he(r)===u;return this.processSegment(m,v,Jt,re,J?z:u,!0).pipe(q(V=>new zt(I,V instanceof zt?[V]:[])))}))):Rn(a)))}getChildConfig(e,a,r){return a.children?R({routes:a.children,injector:e}):a.loadChildren?a._loadedRoutes!==void 0?R({routes:a._loadedRoutes,injector:a._loadedInjector}):_m(e,a,r,this.urlSerializer).pipe(Nt(o=>o?this.configLoader.loadChildren(e,a).pipe(pt(u=>{a._loadedRoutes=u.routes,a._loadedInjector=u.injector})):bm(a))):R({routes:[],injector:e})}};function Am(i){i.sort((e,a)=>e.value.outlet===z?-1:a.value.outlet===z?1:e.value.outlet.localeCompare(a.value.outlet))}function Dm(i){let e=i.value.routeConfig;return e&&e.path===""}function Yc(i){let e=[],a=new Set;for(let r of i){if(!Dm(r)){e.push(r);continue}let o=e.find(u=>r.value.routeConfig===u.value.routeConfig);o!==void 0?(o.children.push(...r.children),a.add(o)):e.push(r)}for(let r of a){let o=Yc(r.children);e.push(new zt(r.value,o))}return e.filter(r=>!a.has(r))}function Rm(i){return i.data||{}}function km(i){return i.resolve||{}}function Nm(i,e,a,r,o,u){return Nt(h=>Om(i,e,a,r,h.extractedUrl,o,u).pipe(q(({state:f,tree:v})=>ut(S({},h),{targetSnapshot:f,urlAfterRedirects:v}))))}function Fm(i,e){return Nt(a=>{let{targetSnapshot:r,guards:{canActivateChecks:o}}=a;if(!o.length)return R(a);let u=new Set(o.map(v=>v.route)),h=new Set;for(let v of u)if(!h.has(v))for(let m of Xc(v))h.add(m);let f=0;return Ct(h).pipe(Ie(v=>u.has(v)?zm(v,r,i,e):(v.data=ga(v,v.parent,i).resolve,R(void 0))),pt(()=>f++),as(1),Nt(v=>f===h.size?R(a):Ee))})}function Xc(i){let e=i.children.map(a=>Xc(a)).flat();return[i,...e]}function zm(i,e,a,r){let o=i.routeConfig,u=i._resolve;return o?.title!==void 0&&!Zc(o)&&(u[Wi]=o.title),Vm(u,i,e,r).pipe(q(h=>(i._resolvedData=h,i.data=ga(i,i.parent,a).resolve,null)))}function Vm(i,e,a,r){let o=Hs(i);if(o.length===0)return R({});let u={};return Ct(o).pipe(Nt(h=>Bm(i[h],e,a,r).pipe(Oe(),pt(f=>{u[h]=f}))),as(1),Gl(u),wn(h=>qc(h)?Ee:si(h)))}function Bm(i,e,a,r){let o=Ki(e)??r,u=Un(i,o),h=u.resolve?u.resolve(e,a):ue(o,()=>u(e,a));return He(h)}function Zs(i){return Ft(e=>{let a=i(e);return a?Ct(a).pipe(q(()=>e)):R(e)})}var Jc=(()=>{let e=class e{buildTitle(r){let o,u=r.root;for(;u!==void 0;)o=this.getResolvedTitleForRoute(u)??o,u=u.children.find(h=>h.outlet===z);return o}getResolvedTitleForRoute(r){return r.data[Wi]}};e.\u0275fac=function(o){return new(o||e)},e.\u0275prov=$({token:e,factory:()=>T(jm),providedIn:"root"});let i=e;return i})(),jm=(()=>{let e=class e extends Jc{constructor(r){super(),this.title=r}updateTitle(r){let o=this.buildTitle(r);o!==void 0&&this.title.setTitle(o)}};e.\u0275fac=function(o){return new(o||e)(U(Wu))},e.\u0275prov=$({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})(),Xi=new Y("",{providedIn:"root",factory:()=>({})}),go=new Y(""),ba=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=T(Or)}loadComponent(r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return R(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let o=He(r.loadComponent()).pipe(q(Qc),pt(h=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=h}),tn(()=>{this.componentLoaders.delete(r)})),u=new is(o,()=>new Te).pipe(ns());return this.componentLoaders.set(r,u),u}loadChildren(r,o){if(this.childrenLoaders.get(o))return this.childrenLoaders.get(o);if(o._loadedRoutes)return R({routes:o._loadedRoutes,injector:o._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(o);let h=Um(o,this.compiler,r,this.onLoadEndListener).pipe(tn(()=>{this.childrenLoaders.delete(o)})),f=new is(h,()=>new Te).pipe(ns());return this.childrenLoaders.set(o,f),f}};e.\u0275fac=function(o){return new(o||e)},e.\u0275prov=$({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})();function Um(i,e,a,r){return He(i.loadChildren()).pipe(q(Qc),Nt(o=>o instanceof cu||Array.isArray(o)?R(o):Ct(e.compileModuleAsync(o))),q(o=>{r&&r(i);let u,h,f=!1;return Array.isArray(o)?(h=o,f=!0):(u=o.create(a).injector,h=u.get(go,[],{optional:!0,self:!0}).flat()),{routes:h.map(ya),injector:u}}))}function Zm(i){return i&&typeof i=="object"&&"default"in i}function Qc(i){return Zm(i)?i.default:i}var Ca=(()=>{let e=class e{};e.\u0275fac=function(o){return new(o||e)},e.\u0275prov=$({token:e,factory:()=>T($m),providedIn:"root"});let i=e;return i})(),$m=(()=>{let e=class e{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,o){return r}};e.\u0275fac=function(o){return new(o||e)},e.\u0275prov=$({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})(),th=new Y(""),eh=new Y("");function Hm(i,e,a){let r=i.get(eh),o=i.get(It);return i.get(_t).runOutsideAngular(()=>{if(!o.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(m=>setTimeout(m));let u,h=new Promise(m=>{u=m}),f=o.startViewTransition(()=>(u(),Wm(i))),{onViewTransitionCreated:v}=r;return v&&ue(i,()=>v({transition:f,from:e,to:a})),h})}function Wm(i){return new Promise(e=>{fs(e,{injector:i})})}var Ma=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Te,this.transitionAbortSubject=new Te,this.configLoader=T(ba),this.environmentInjector=T(Ae),this.urlSerializer=T(Gi),this.rootContexts=T(qi),this.location=T(vi),this.inputBindingEnabled=T(_o,{optional:!0})!==null,this.titleStrategy=T(Jc),this.options=T(Xi,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=T(Ca),this.createViewTransition=T(th,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>R(void 0),this.rootComponentType=null;let r=u=>this.events.next(new Qs(u)),o=u=>this.events.next(new ta(u));this.configLoader.onLoadEndListener=o,this.configLoader.onLoadStartListener=r}complete(){this.transitions?.complete()}handleNavigationRequest(r){let o=++this.navigationId;this.transitions?.next(ut(S(S({},this.transitions.value),r),{id:o}))}setupNavigations(r,o,u){return this.transitions=new Rt({id:0,currentUrlTree:o,currentRawUrl:o,extractedUrl:this.urlHandlingStrategy.extract(o),urlAfterRedirects:this.urlHandlingStrategy.extract(o),rawUrl:o,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Ni,restoredState:null,currentSnapshot:u.snapshot,targetSnapshot:null,currentRouterState:u,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(_e(h=>h.id!==0),q(h=>ut(S({},h),{extractedUrl:this.urlHandlingStrategy.extract(h.rawUrl)})),Ft(h=>{let f=!1,v=!1;return R(h).pipe(Ft(m=>{if(this.navigationId>h.id)return this.cancelNavigationTransition(h,"",Vt.SupersededByNewNavigation),Ee;this.currentTransition=h,this.currentNavigation={id:m.id,initialUrl:m.rawUrl,extractedUrl:m.extractedUrl,trigger:m.source,extras:m.extras,previousNavigation:this.lastSuccessfulNavigation?ut(S({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let b=!r.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),A=m.extras.onSameUrlNavigation??r.onSameUrlNavigation;if(!b&&A!=="reload"){let x="";return this.events.next(new $e(m.id,this.urlSerializer.serialize(m.rawUrl),x,ao.IgnoredSameUrlNavigation)),m.resolve(null),Ee}if(this.urlHandlingStrategy.shouldProcessUrl(m.rawUrl))return R(m).pipe(Ft(x=>{let I=this.transitions?.getValue();return this.events.next(new Bn(x.id,this.urlSerializer.serialize(x.extractedUrl),x.source,x.restoredState)),I!==this.transitions?.getValue()?Ee:Promise.resolve(x)}),Nm(this.environmentInjector,this.configLoader,this.rootComponentType,r.config,this.urlSerializer,this.paramsInheritanceStrategy),pt(x=>{h.targetSnapshot=x.targetSnapshot,h.urlAfterRedirects=x.urlAfterRedirects,this.currentNavigation=ut(S({},this.currentNavigation),{finalUrl:x.urlAfterRedirects});let I=new lo(x.id,this.urlSerializer.serialize(x.extractedUrl),this.urlSerializer.serialize(x.urlAfterRedirects),x.targetSnapshot);this.events.next(I)}));if(b&&this.urlHandlingStrategy.shouldProcessUrl(m.currentRawUrl)){let{id:x,extractedUrl:I,source:Jt,restoredState:re,extras:J}=m,V=new Bn(x,this.urlSerializer.serialize(I),Jt,re);this.events.next(V);let Bt=jc(this.rootComponentType).snapshot;return this.currentTransition=h=ut(S({},m),{targetSnapshot:Bt,urlAfterRedirects:I,extras:ut(S({},J),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=I,R(h)}else{let x="";return this.events.next(new $e(m.id,this.urlSerializer.serialize(m.extractedUrl),x,ao.IgnoredByUrlHandlingStrategy)),m.resolve(null),Ee}}),pt(m=>{let b=new Ks(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot);this.events.next(b)}),q(m=>(this.currentTransition=h=ut(S({},m),{guards:tm(m.targetSnapshot,m.currentSnapshot,this.rootContexts)}),h)),cm(this.environmentInjector,m=>this.events.next(m)),pt(m=>{if(h.guardsResult=m.guardsResult,Vn(m.guardsResult))throw Hc(this.urlSerializer,m.guardsResult);let b=new Ys(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot,!!m.guardsResult);this.events.next(b)}),_e(m=>m.guardsResult?!0:(this.cancelNavigationTransition(m,"",Vt.GuardRejected),!1)),Zs(m=>{if(m.guards.canActivateChecks.length)return R(m).pipe(pt(b=>{let A=new Xs(b.id,this.urlSerializer.serialize(b.extractedUrl),this.urlSerializer.serialize(b.urlAfterRedirects),b.targetSnapshot);this.events.next(A)}),Ft(b=>{let A=!1;return R(b).pipe(Fm(this.paramsInheritanceStrategy,this.environmentInjector),pt({next:()=>A=!0,complete:()=>{A||this.cancelNavigationTransition(b,"",Vt.NoDataFromResolver)}}))}),pt(b=>{let A=new Js(b.id,this.urlSerializer.serialize(b.extractedUrl),this.urlSerializer.serialize(b.urlAfterRedirects),b.targetSnapshot);this.events.next(A)}))}),Zs(m=>{let b=A=>{let x=[];A.routeConfig?.loadComponent&&!A.routeConfig._loadedComponent&&x.push(this.configLoader.loadComponent(A.routeConfig).pipe(pt(I=>{A.component=I}),q(()=>{})));for(let I of A.children)x.push(...b(I));return x};return yr(b(m.targetSnapshot.root)).pipe(ss(null),bn(1))}),Zs(()=>this.afterPreactivation()),Ft(()=>{let{currentSnapshot:m,targetSnapshot:b}=h,A=this.createViewTransition?.(this.environmentInjector,m.root,b.root);return A?Ct(A).pipe(q(()=>h)):R(h)}),q(m=>{let b=Wp(r.routeReuseStrategy,m.targetSnapshot,m.currentRouterState);return this.currentTransition=h=ut(S({},m),{targetRouterState:b}),this.currentNavigation.targetRouterState=b,h}),pt(()=>{this.events.next(new ji)}),Qp(this.rootContexts,r.routeReuseStrategy,m=>this.events.next(m),this.inputBindingEnabled),bn(1),pt({next:m=>{f=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Kt(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects))),this.titleStrategy?.updateTitle(m.targetRouterState.snapshot),m.resolve(!0)},complete:()=>{f=!0}}),Xl(this.transitionAbortSubject.pipe(pt(m=>{throw m}))),tn(()=>{!f&&!v&&this.cancelNavigationTransition(h,"",Vt.SupersededByNewNavigation),this.currentTransition?.id===h.id&&(this.currentNavigation=null,this.currentTransition=null)}),wn(m=>{if(v=!0,Gc(m))this.events.next(new Ze(h.id,this.urlSerializer.serialize(h.extractedUrl),m.message,m.cancellationCode)),Kp(m)?this.events.next(new Ui(m.url)):h.resolve(!1);else{this.events.next(new Bi(h.id,this.urlSerializer.serialize(h.extractedUrl),m,h.targetSnapshot??void 0));try{h.resolve(r.errorHandler(m))}catch(b){this.options.resolveNavigationPromiseOnError?h.resolve(!1):h.reject(b)}}return Ee}))}))}cancelNavigationTransition(r,o,u){let h=new Ze(r.id,this.urlSerializer.serialize(r.extractedUrl),o,u);this.events.next(h),r.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}};e.\u0275fac=function(o){return new(o||e)},e.\u0275prov=$({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})();function Gm(i){return i!==Ni}var qm=(()=>{let e=class e{};e.\u0275fac=function(o){return new(o||e)},e.\u0275prov=$({token:e,factory:()=>T(Km),providedIn:"root"});let i=e;return i})(),ma=class{shouldDetach(e){return!1}store(e,a){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,a){return e.routeConfig===a.routeConfig}},Km=(()=>{let e=class e extends ma{};e.\u0275fac=(()=>{let r;return function(u){return(r||(r=Mn(e)))(u||e)}})(),e.\u0275prov=$({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})(),nh=(()=>{let e=class e{};e.\u0275fac=function(o){return new(o||e)},e.\u0275prov=$({token:e,factory:()=>T(Ym),providedIn:"root"});let i=e;return i})(),Ym=(()=>{let e=class e extends nh{constructor(){super(...arguments),this.location=T(vi),this.urlSerializer=T(Gi),this.options=T(Xi,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=T(Ca),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Ue,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=jc(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(r){return this.location.subscribe(o=>{o.type==="popstate"&&r(o.url,o.state)})}handleRouterEvent(r,o){if(r instanceof Bn)this.stateMemento=this.createStateMemento();else if(r instanceof $e)this.rawUrlTree=o.initialUrl;else if(r instanceof lo){if(this.urlUpdateStrategy==="eager"&&!o.extras.skipLocationChange){let u=this.urlHandlingStrategy.merge(o.finalUrl,o.initialUrl);this.setBrowserUrl(u,o)}}else r instanceof ji?(this.currentUrlTree=o.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(o.finalUrl,o.initialUrl),this.routerState=o.targetRouterState,this.urlUpdateStrategy==="deferred"&&(o.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,o))):r instanceof Ze&&(r.code===Vt.GuardRejected||r.code===Vt.NoDataFromResolver)?this.restoreHistory(o):r instanceof Bi?this.restoreHistory(o,!0):r instanceof Kt&&(this.lastSuccessfulId=r.id,this.currentPageId=this.browserPageId)}setBrowserUrl(r,o){let u=this.urlSerializer.serialize(r);if(this.location.isCurrentPathEqualTo(u)||o.extras.replaceUrl){let h=this.browserPageId,f=S(S({},o.extras.state),this.generateNgRouterState(o.id,h));this.location.replaceState(u,"",f)}else{let h=S(S({},o.extras.state),this.generateNgRouterState(o.id,this.browserPageId+1));this.location.go(u,"",h)}}restoreHistory(r,o=!1){if(this.canceledNavigationResolution==="computed"){let u=this.browserPageId,h=this.currentPageId-u;h!==0?this.location.historyGo(h):this.currentUrlTree===r.finalUrl&&h===0&&(this.resetState(r),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(o&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(r,o){return this.canceledNavigationResolution==="computed"?{navigationId:r,\u0275routerPageId:o}:{navigationId:r}}};e.\u0275fac=(()=>{let r;return function(u){return(r||(r=Mn(e)))(u||e)}})(),e.\u0275prov=$({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})(),Ri=function(i){return i[i.COMPLETE=0]="COMPLETE",i[i.FAILED=1]="FAILED",i[i.REDIRECTING=2]="REDIRECTING",i}(Ri||{});function ih(i,e){i.events.pipe(_e(a=>a instanceof Kt||a instanceof Ze||a instanceof Bi||a instanceof $e),q(a=>a instanceof Kt||a instanceof $e?Ri.COMPLETE:(a instanceof Ze?a.code===Vt.Redirect||a.code===Vt.SupersededByNewNavigation:!1)?Ri.REDIRECTING:Ri.FAILED),_e(a=>a!==Ri.REDIRECTING),bn(1)).subscribe(()=>{e()})}function Xm(i){throw i}var Jm={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Qm={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},yt=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=T(Sr),this.stateManager=T(nh),this.options=T(Xi,{optional:!0})||{},this.pendingTasks=T(hi),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=T(Ma),this.urlSerializer=T(Gi),this.location=T(vi),this.urlHandlingStrategy=T(Ca),this._events=new Te,this.errorHandler=this.options.errorHandler||Xm,this.navigated=!1,this.routeReuseStrategy=T(qm),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=T(go,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!T(_o,{optional:!0}),this.eventsSubscription=new Bl,this.isNgZoneEnabled=T(_t)instanceof _t&&_t.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:r=>{this.console.warn(r)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let r=this.navigationTransitions.events.subscribe(o=>{try{let u=this.navigationTransitions.currentTransition,h=this.navigationTransitions.currentNavigation;if(u!==null&&h!==null){if(this.stateManager.handleRouterEvent(o,h),o instanceof Ze&&o.code!==Vt.Redirect&&o.code!==Vt.SupersededByNewNavigation)this.navigated=!0;else if(o instanceof Kt)this.navigated=!0;else if(o instanceof Ui){let f=this.urlHandlingStrategy.merge(o.url,u.currentRawUrl),v={info:u.extras.info,skipLocationChange:u.extras.skipLocationChange,replaceUrl:this.urlUpdateStrategy==="eager"||Gm(u.source)};this.scheduleNavigation(f,Ni,null,v,{resolve:u.resolve,reject:u.reject,promise:u.promise})}}eg(o)&&this._events.next(o)}catch(u){this.navigationTransitions.transitionAbortSubject.next(u)}});this.eventsSubscription.add(r)}resetRootComponentType(r){this.routerState.root.component=r,this.navigationTransitions.rootComponentType=r}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Ni,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((r,o)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(r,"popstate",o)},0)})}navigateToSyncWithBrowser(r,o,u){let h={replaceUrl:!0},f=u?.navigationId?u:null;if(u){let m=S({},u);delete m.navigationId,delete m.\u0275routerPageId,Object.keys(m).length!==0&&(h.state=m)}let v=this.parseUrl(r);this.scheduleNavigation(v,o,f,h)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(r){this.config=r.map(ya),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(r,o={}){let{relativeTo:u,queryParams:h,fragment:f,queryParamsHandling:v,preserveFragment:m}=o,b=m?this.currentUrlTree.fragment:f,A=null;switch(v){case"merge":A=S(S({},this.currentUrlTree.queryParams),h);break;case"preserve":A=this.currentUrlTree.queryParams;break;default:A=h||null}A!==null&&(A=this.removeEmptyProps(A));let x;try{let I=u?u.snapshot:this.routerState.snapshot.root;x=Fc(I)}catch{(typeof r[0]!="string"||!r[0].startsWith("/"))&&(r=[]),x=this.currentUrlTree.root}return zc(x,r,A,b??null)}navigateByUrl(r,o={skipLocationChange:!1}){let u=Vn(r)?r:this.parseUrl(r),h=this.urlHandlingStrategy.merge(u,this.rawUrlTree);return this.scheduleNavigation(h,Ni,null,o)}navigate(r,o={skipLocationChange:!1}){return tg(r),this.navigateByUrl(this.createUrlTree(r,o),o)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){try{return this.urlSerializer.parse(r)}catch{return this.urlSerializer.parse("/")}}isActive(r,o){let u;if(o===!0?u=S({},Jm):o===!1?u=S({},Qm):u=o,Vn(r))return yc(this.currentUrlTree,r,u);let h=this.parseUrl(r);return yc(this.currentUrlTree,h,u)}removeEmptyProps(r){return Object.entries(r).reduce((o,[u,h])=>(h!=null&&(o[u]=h),o),{})}scheduleNavigation(r,o,u,h,f){if(this.disposed)return Promise.resolve(!1);let v,m,b;f?(v=f.resolve,m=f.reject,b=f.promise):b=new Promise((x,I)=>{v=x,m=I});let A=this.pendingTasks.add();return ih(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(A))}),this.navigationTransitions.handleNavigationRequest({source:o,restoredState:u,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:r,extras:h,resolve:v,reject:m,promise:b,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),b.catch(x=>Promise.reject(x))}};e.\u0275fac=function(o){return new(o||e)},e.\u0275prov=$({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})();function tg(i){for(let e=0;e<i.length;e++)if(i[e]==null)throw new et(4008,!1)}function eg(i){return!(i instanceof ji)&&!(i instanceof Ui)}var Yt=(()=>{let e=class e{constructor(r,o,u,h,f,v){this.router=r,this.route=o,this.tabIndexAttribute=u,this.renderer=h,this.el=f,this.locationStrategy=v,this.href=null,this.commands=null,this.onChanges=new Te,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;let m=f.nativeElement.tagName?.toLowerCase();this.isAnchorElement=m==="a"||m==="area",this.isAnchorElement?this.subscription=r.events.subscribe(b=>{b instanceof Kt&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(r){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",r)}ngOnChanges(r){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(r){r!=null?(this.commands=Array.isArray(r)?r:[r],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(r,o,u,h,f){let v=this.urlTree;if(v===null||this.isAnchorElement&&(r!==0||o||u||h||f||typeof this.target=="string"&&this.target!="_self"))return!0;let m={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(v,m),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let r=this.urlTree;this.href=r!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(r)):null;let o=this.href===null?null:ou(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",o)}applyAttributeValue(r,o){let u=this.renderer,h=this.el.nativeElement;o!==null?u.setAttribute(h,r,o):u.removeAttribute(h,r)}get urlTree(){return this.commands===null?null:this.router.createUrlTree(this.commands,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}};e.\u0275fac=function(o){return new(o||e)(O(yt),O(un),eu("tabindex"),O(ci),O(en),O(gi))},e.\u0275dir=St({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(o,u){o&1&&H("click",function(f){return u.onClick(f.button,f.ctrlKey,f.shiftKey,f.altKey,f.metaKey)}),o&2&&Pr("target",u.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[ct.HasDecoratorInputTransform,"preserveFragment","preserveFragment",on],skipLocationChange:[ct.HasDecoratorInputTransform,"skipLocationChange","skipLocationChange",on],replaceUrl:[ct.HasDecoratorInputTransform,"replaceUrl","replaceUrl",on],routerLink:"routerLink"},standalone:!0,features:[uu,De]});let i=e;return i})();var vo=class{};var ng=(()=>{let e=class e{constructor(r,o,u,h,f){this.router=r,this.injector=u,this.preloadingStrategy=h,this.loader=f}setUpPreloading(){this.subscription=this.router.events.pipe(_e(r=>r instanceof Kt),Ie(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(r,o){let u=[];for(let h of o){h.providers&&!h._injector&&(h._injector=ps(h.providers,r,`Route: ${h.path}`));let f=h._injector??r,v=h._loadedInjector??f;(h.loadChildren&&!h._loadedRoutes&&h.canLoad===void 0||h.loadComponent&&!h._loadedComponent)&&u.push(this.preloadConfig(f,h)),(h.children||h._loadedRoutes)&&u.push(this.processRoutes(v,h.children??h._loadedRoutes))}return Ct(u).pipe(rs())}preloadConfig(r,o){return this.preloadingStrategy.preload(o,()=>{let u;o.loadChildren&&o.canLoad===void 0?u=this.loader.loadChildren(r,o):u=R(null);let h=u.pipe(Nt(f=>f===null?R(void 0):(o._loadedRoutes=f.routes,o._loadedInjector=f.injector,this.processRoutes(f.injector??r,f.routes))));if(o.loadComponent&&!o._loadedComponent){let f=this.loader.loadComponent(o);return Ct([h,f]).pipe(rs())}else return h})}};e.\u0275fac=function(o){return new(o||e)(U(yt),U(Or),U(Ae),U(vo),U(ba))},e.\u0275prov=$({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})(),rh=new Y(""),ig=(()=>{let e=class e{constructor(r,o,u,h,f={}){this.urlSerializer=r,this.transitions=o,this.viewportScroller=u,this.zone=h,this.options=f,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},this.environmentInjector=T(Ae),f.scrollPositionRestoration||="disabled",f.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof Bn?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=r.navigationTrigger,this.restoredId=r.restoredState?r.restoredState.navigationId:0):r instanceof Kt?(this.lastId=r.id,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.urlAfterRedirects).fragment)):r instanceof $e&&r.code===ao.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof uo&&(r.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(r.position):r.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(r.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(r,o){this.zone.runOutsideAngular(()=>es(this,null,function*(){yield new Promise(u=>{setTimeout(()=>{u()}),fs(()=>{u()},{injector:this.environmentInjector})}),this.zone.run(()=>{this.transitions.events.next(new uo(r,this.lastSource==="popstate"?this.store[this.restoredId]:null,o))})}))}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}};e.\u0275fac=function(o){Cr()},e.\u0275prov=$({token:e,factory:e.\u0275fac});let i=e;return i})();function rg(i){return i.routerState.root}function Ji(i,e){return{\u0275kind:i,\u0275providers:e}}function og(){let i=T(wr);return e=>{let a=i.get(Ir);if(e!==a.components[0])return;let r=i.get(yt),o=i.get(oh);i.get(Pa)===1&&r.initialNavigation(),i.get(sh,null,ls.Optional)?.setUpPreloading(),i.get(rh,null,ls.Optional)?.init(),r.resetRootComponentType(a.componentTypes[0]),o.closed||(o.next(),o.complete(),o.unsubscribe())}}var oh=new Y("",{factory:()=>new Te}),Pa=new Y("",{providedIn:"root",factory:()=>1});function sg(){return Ji(2,[{provide:Pa,useValue:0},{provide:ys,multi:!0,deps:[wr],useFactory:e=>{let a=e.get(yu,Promise.resolve());return()=>a.then(()=>new Promise(r=>{let o=e.get(yt),u=e.get(oh);ih(o,()=>{r(!0)}),e.get(Ma).afterPreactivation=()=>(r(!0),u.closed?R(void 0):u),o.initialNavigation()}))}}])}function ag(){return Ji(3,[{provide:ys,multi:!0,useFactory:()=>{let e=T(yt);return()=>{e.setUpLocationChangeListener()}}},{provide:Pa,useValue:2}])}var sh=new Y("");function lg(i){return Ji(0,[{provide:sh,useExisting:ng},{provide:vo,useExisting:i}])}function ug(){return Ji(8,[Mc,{provide:_o,useExisting:Mc}])}function cg(i){let e=[{provide:th,useValue:Hm},{provide:eh,useValue:S({skipNextTransition:!!i?.skipInitialTransition},i)}];return Ji(9,e)}var Sc=new Y("ROUTER_FORROOT_GUARD"),hg=[vi,{provide:Gi,useClass:zi},yt,qi,{provide:un,useFactory:rg,deps:[yt]},ba,[]],Sa=(()=>{let e=class e{constructor(r){}static forRoot(r,o){return{ngModule:e,providers:[hg,[],{provide:go,multi:!0,useValue:r},{provide:Sc,useFactory:mg,deps:[[yt,new us,new Ql]]},{provide:Xi,useValue:o||{}},o?.useHash?fg():pg(),dg(),o?.preloadingStrategy?lg(o.preloadingStrategy).\u0275providers:[],o?.initialNavigation?gg(o):[],o?.bindToComponentInputs?ug().\u0275providers:[],o?.enableViewTransitions?cg().\u0275providers:[],vg()]}}static forChild(r){return{ngModule:e,providers:[{provide:go,multi:!0,useValue:r}]}}};e.\u0275fac=function(o){return new(o||e)(U(Sc,8))},e.\u0275mod=Et({type:e}),e.\u0275inj=Tt({});let i=e;return i})();function dg(){return{provide:rh,useFactory:()=>{let i=T(Su),e=T(_t),a=T(Xi),r=T(Ma),o=T(Gi);return a.scrollOffset&&i.setOffset(a.scrollOffset),new ig(o,r,i,e,a)}}}function fg(){return{provide:gi,useClass:bu}}function pg(){return{provide:gi,useClass:wu}}function mg(i){return"guarded"}function gg(i){return[i.initialNavigation==="disabled"?ag().\u0275providers:[],i.initialNavigation==="enabledBlocking"?sg().\u0275providers:[]]}var xc=new Y("");function vg(){return[{provide:xc,useFactory:og},{provide:ws,multi:!0,useExisting:xc}]}var ie=Qe(je());function _g(i,e){if(i&1&&(C(0,"div")(1,"p"),P(2),w(),C(3,"p"),P(4),w()()),i&2){let a=rn();j(2),Ne("Latitude: ",a.homeLocation.lat,""),j(2),Ne("Longitude: ",a.homeLocation.lng,"")}}function yg(i,e){i&1&&(C(0,"p"),P(1,"Set a Home Location after registering in app and clicking on the map."),w())}var ah=(()=>{let e=class e{constructor(r,o){this.http=r,this.router=o,this.options={layers:[(0,ie.tileLayer)("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:"&copy; OpenStreetMap contributors"})],zoom:14,center:(0,ie.latLng)([50.8282,12.9209])},this.homeLocation=null,this.homeIcon=(0,ie.icon)({iconUrl:"assets/home.png",iconSize:[32,32],iconAnchor:[12,41],popupAnchor:[1,-34],shadowUrl:""})}ngOnInit(){this.getHomeLocation()}onMapReady(r){this.map=r}onMapClick(r){localStorage.getItem("token")?this.showSetHomeLocationPrompt(r.latlng):this.showLoginPrompt(r.latlng)}showLoginPrompt(r){let u=(0,ie.popup)().setLatLng(r).setContent(`
      <div>
        <p>Please log in to set your home location.</p>
        <br>
      </div>
    `).openOn(this.map);setTimeout(()=>{document.getElementById("loginButton")?.addEventListener("click",()=>{this.router.navigate(["/login"]),this.map?.closePopup(u)})},0)}showSetHomeLocationPrompt(r){let u=(0,ie.popup)().setLatLng(r).setContent(`
      <div>
        <p>Do you want this as your home location?</p>
        <br>
        <button id="confirmButton" class="btn btn-primary">Yes</button>
        <button id="cancelButton" class="btn btn-secondary">No</button>
      </div>
    `).openOn(this.map);setTimeout(()=>{let h=document.getElementById("confirmButton"),f=document.getElementById("cancelButton");h?h.addEventListener("click",()=>{console.log("Confirm button clicked"),this.setHomeLocation(r.lat,r.lng),this.map?.closePopup(u)}):console.error("Confirm button not found"),f?f.addEventListener("click",()=>{console.log("Cancel button clicked"),this.map?.closePopup(u)}):console.error("Cancel button not found")},0)}setHomeLocation(r,o){let u=localStorage.getItem("token");if(!u){console.error("No token found");return}this.http.put("/api/homeLocation",{lat:r,lng:o},{headers:{Authorization:`Bearer ${u}`}}).subscribe(h=>{console.log("Home location updated:",h),this.homeLocation={lat:r,lng:o},this.updateHomeMarker()},h=>{console.error("Error updating home location:",h)})}getHomeLocation(){let r=localStorage.getItem("token");if(!r){console.error("No token found");return}this.http.get("/api/homeLocation",{headers:{Authorization:`Bearer ${r}`}}).subscribe(o=>{console.log("Fetched home location:",o),this.homeLocation=o.homeLocation,this.updateHomeMarker()},o=>{console.error("Error fetching home location:",o)})}updateHomeMarker(){this.map&&this.homeLocation&&(this.homeMarker&&this.map.removeLayer(this.homeMarker),this.homeMarker=(0,ie.marker)([this.homeLocation.lat,this.homeLocation.lng],{icon:this.homeIcon}).addTo(this.map).bindPopup("Home Location"))}navigateToSchool(){this.router.navigate(["/school"])}navigateToKindergarden(){this.router.navigate(["/kindergarden"])}navigateToSCP(){this.router.navigate(["/social-child-projects"])}navigateToSTP(){this.router.navigate(["/social-teenager-projects"])}};e.\u0275fac=function(o){return new(o||e)(O(Mt),O(yt))},e.\u0275cmp=ot({type:e,selectors:[["app-home"]],decls:27,vars:3,consts:[["noLocation",""],[1,"container-fluid","mt-4","mb-4"],[1,"row"],[1,"col-12","col-md-3","mb-4","mb-md-0"],[1,"sidebar"],[1,"homecard"],[1,"fa","fa-home"],[4,"ngIf","ngIfElse"],["role","group","aria-label","Filter buttons",1,"btn-group-vertical","w-100"],[1,"btn","btn-primary",3,"click"],[1,"col-12","col-md-9"],["leaflet","",1,"map",2,"height","500px",3,"leafletClick","leafletMapReady","leafletOptions"]],template:function(o,u){if(o&1){let h=Pn();C(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"div",5)(5,"i",6),P(6," Home Location"),w(),ee(7,_g,5,2,"div",7)(8,yg,2,0,"ng-template",null,0,pi),w(),Q(10,"br")(11,"br")(12,"br")(13,"br"),C(14,"h2"),P(15,"Filters"),w(),C(16,"div",8)(17,"button",9),H("click",function(){return Ht(h),Wt(u.navigateToSchool())}),P(18,"Schools"),w(),C(19,"button",9),H("click",function(){return Ht(h),Wt(u.navigateToKindergarden())}),P(20,"Kindergartens"),w(),C(21,"button",9),H("click",function(){return Ht(h),Wt(u.navigateToSCP())}),P(22,"Social Child Projects"),w(),C(23,"button",9),H("click",function(){return Ht(h),Wt(u.navigateToSTP())}),P(24,"Social Teenager Projects"),w()()()(),C(25,"div",10)(26,"div",11),H("leafletClick",function(v){return Ht(h),Wt(u.onMapClick(v))})("leafletMapReady",function(v){return Ht(h),Wt(u.onMapReady(v))}),w()()()()}if(o&2){let h=di(9);j(7),rt("ngIf",u.homeLocation)("ngIfElse",h),j(19),rt("leafletOptions",u.options)}},dependencies:[ze,Gt],styles:[".container-fluid[_ngcontent-%COMP%]{padding-left:30px;padding-right:30px}.sidebar[_ngcontent-%COMP%]{border-right:1px solid #ddd;padding-right:15px;padding-left:15px}h2[_ngcontent-%COMP%]{margin-left:1rem;margin-right:1rem;margin-bottom:1rem}.homecard[_ngcontent-%COMP%]{background:#419f241a;border-radius:15px;box-shadow:0 4px 6px #0000001a;backdrop-filter:blur(10px);-webkit-backdrop-filter:blur(10px);border:1px solid rgba(255,255,255,.3);padding:20px;color:#100f0f}.homecard[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{display:block;margin-bottom:10px;font-size:1.5em}.homecard[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;padding:5px 0}.btn-group-vertical[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{width:90%;margin-left:1rem;margin-right:1rem;margin-bottom:1rem;background-color:#2471a3;border-color:#e6dedc}.btn-group-vertical[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:hover{background-color:#f9e79f;border-color:#fff;color:#000}.map[_ngcontent-%COMP%]{height:500px;width:100%}@media (min-width: 768px){.col-md-3[_ngcontent-%COMP%]{max-width:25%}.col-md-9[_ngcontent-%COMP%]{max-width:75%}}"]});let i=e;return i})();var Zn=(()=>{let e=class e{constructor(r){this.http=r,this.authUrl="http://localhost:3000/api",this.authToken=new Rt(this.getToken())}getToken(){return localStorage.getItem("token")}login(r,o){return this.http.post(`${this.authUrl}/login`,{username:r,password:o}).pipe(pt(u=>{u.token&&(localStorage.setItem("token",u.token),this.authToken.next(u.token))}))}register(r,o){return this.http.post(`${this.authUrl}/register`,{username:r,password:o}).pipe(pt(u=>{u.token&&(localStorage.setItem("token",u.token),this.authToken.next(u.token))}))}logout(){localStorage.removeItem("token"),this.authToken.next(null)}isAuthenticated(){return this.authToken.asObservable().pipe(q(r=>!!r))}};e.\u0275fac=function(o){return new(o||e)(U(Mt))},e.\u0275prov=$({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})();var lh=(()=>{let e=class e{constructor(r,o){this.authService=r,this.router=o,this.username="",this.password=""}login(){this.authService.login(this.username,this.password).subscribe(()=>{this.router.navigate(["/"])})}goToRegister(){this.router.navigate(["/register"])}};e.\u0275fac=function(o){return new(o||e)(O(Zn),O(yt))},e.\u0275cmp=ot({type:e,selectors:[["app-login"]],decls:21,vars:2,consts:[[1,"container","mt-5"],[1,"row"],[1,"col-md-6","d-none","d-md-block"],["src","assets/login.jpg","alt","Login Image",1,"img-fluid"],[1,"col-md-6","d-flex","justify-content-center","align-items-center"],[1,"login-form"],[3,"ngSubmit"],[1,"mb-3"],["for","username",1,"form-label"],["type","text","id","username","name","username","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","password",1,"form-label"],["type","password","id","password","name","password","required","",1,"form-control",3,"ngModelChange","ngModel"],["type","submit",1,"btn","btn-primary","w-100"],[1,"btn","btn-link","mt-3","w-100",3,"click"]],template:function(o,u){o&1&&(C(0,"div",0)(1,"div",1)(2,"div",2),Q(3,"img",3),w(),C(4,"div",4)(5,"div",5)(6,"h2"),P(7,"Login"),w(),C(8,"form",6),H("ngSubmit",function(){return u.login()}),C(9,"div",7)(10,"label",8),P(11,"Username"),w(),C(12,"input",9),Tn("ngModelChange",function(f){return xn(u.username,f)||(u.username=f),f}),w()(),C(13,"div",7)(14,"label",10),P(15,"Password"),w(),C(16,"input",11),Tn("ngModelChange",function(f){return xn(u.password,f)||(u.password=f),f}),w()(),C(17,"button",12),P(18,"Login"),w()(),C(19,"button",13),H("click",function(){return u.goToRegister()}),P(20,"Don't have an account? Register here"),w()()()()()),o&2&&(j(12),Sn("ngModel",u.username),j(4),Sn("ngModel",u.password))},dependencies:[Jr,Ln,Kr,Yr,Li,Oi,Ii],styles:[".container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;min-height:100vh}.img-fluid[_ngcontent-%COMP%]{max-height:100vh;object-fit:cover;filter:blur(.5px);box-shadow:0 4px 8px #0003;border-radius:8px;transition:transform .3s ease-in-out}.img-fluid[_ngcontent-%COMP%]:hover{transform:scale(.95)}.login-form[_ngcontent-%COMP%]{background:#ffffff1a;backdrop-filter:blur(10px);-webkit-backdrop-filter:blur(10px);border-radius:10px;padding:2rem;box-shadow:0 4px 10px #0000004d;color:#0e0e0e;max-width:400px;width:100%}h2[_ngcontent-%COMP%]{margin-bottom:1.5rem;color:#090909}.form-label[_ngcontent-%COMP%]{font-weight:700;color:#0b0b0b}.form-control[_ngcontent-%COMP%]{background-color:#c5aa9e33;border:1px solid rgba(255,255,255,.3);color:#121212}.form-control[_ngcontent-%COMP%]::placeholder{color:#a13838b3}.btn-primary[_ngcontent-%COMP%]{margin-top:1rem;background-color:#ff5733;border-color:#ff5733}.btn-primary[_ngcontent-%COMP%]:hover{background-color:#c70039;border-color:#c70039}.btn-link[_ngcontent-%COMP%]{text-align:center;color:#0b0b0b}"]});let i=e;return i})();var uh=(()=>{let e=class e{constructor(r,o){this.authService=r,this.router=o,this.username="",this.password=""}register(){this.authService.register(this.username,this.password).subscribe(()=>{this.router.navigate(["/login"])})}goToLogin(){this.router.navigate(["/login"])}};e.\u0275fac=function(o){return new(o||e)(O(Zn),O(yt))},e.\u0275cmp=ot({type:e,selectors:[["app-register"]],decls:17,vars:2,consts:[[1,"register-container"],[1,"register-form"],[3,"ngSubmit"],[1,"mb-3"],["for","username",1,"form-label"],["type","text","id","username","name","username","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","password",1,"form-label"],["type","password","id","password","name","password","required","",1,"form-control",3,"ngModelChange","ngModel"],["type","submit",1,"btn","btn-primary","w-100"],[1,"btn","btn-link","mt-3","w-100",3,"click"]],template:function(o,u){o&1&&(C(0,"div",0)(1,"div",1)(2,"h2"),P(3,"Register"),w(),C(4,"form",2),H("ngSubmit",function(){return u.register()}),C(5,"div",3)(6,"label",4),P(7,"Username"),w(),C(8,"input",5),Tn("ngModelChange",function(f){return xn(u.username,f)||(u.username=f),f}),w()(),C(9,"div",3)(10,"label",6),P(11,"Password"),w(),C(12,"input",7),Tn("ngModelChange",function(f){return xn(u.password,f)||(u.password=f),f}),w()(),C(13,"button",8),P(14,"Register"),w()(),C(15,"button",9),H("click",function(){return u.goToLogin()}),P(16,"Already have an account? Login here"),w()()()),o&2&&(j(8),Sn("ngModel",u.username),j(4),Sn("ngModel",u.password))},dependencies:[Jr,Ln,Kr,Yr,Li,Oi,Ii],styles:[".register-container[_ngcontent-%COMP%]{background:url(/assets/register.jpg) no-repeat center center fixed;background-size:cover;height:100vh;display:flex;justify-content:center;align-items:center}.register-form[_ngcontent-%COMP%]{background:#ffffff1a;backdrop-filter:blur(10px);-webkit-backdrop-filter:blur(10px);border-radius:10px;padding:2rem;box-shadow:0 4px 10px #0000004d;color:#0c0b0b;max-width:400px;width:100%}h2[_ngcontent-%COMP%]{margin-bottom:1.5rem;color:#0d0d0d}.form-label[_ngcontent-%COMP%]{font-weight:700;color:#111010}.form-control[_ngcontent-%COMP%]{background-color:#81333333;border:1px solid rgba(255,255,255,.3);color:#070707}.form-control[_ngcontent-%COMP%]::placeholder{color:#161616b3}.btn-primary[_ngcontent-%COMP%]{margin-top:1rem;background-color:#ff5733;border-color:#ff5733}.btn-primary[_ngcontent-%COMP%]:hover{background-color:#c70039;border-color:#c70039}.btn-link[_ngcontent-%COMP%]{text-align:center;color:#030303;margin-top:1rem}"]});let i=e;return i})();var we=Qe(je());var We=(()=>{let e=class e{constructor(r){this.http=r}savePointOfInterest(r,o){let u=localStorage.getItem("token"),h=new ye().set("Authorization",`Bearer ${u}`);return this.http.put("/api/pointOfInterest",{lat:r,lng:o},{headers:h})}};e.\u0275fac=function(o){return new(o||e)(U(Mt))},e.\u0275prov=$({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})();var wg=()=>["/"],ch=(()=>{let e=class e{constructor(r,o){this.http=r,this.pointOfInterestService=o,this.options={layers:[(0,we.tileLayer)("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:"&copy; OpenStreetMap contributors"})],zoom:14,center:(0,we.latLng)([50.8282,12.9209])},this.markers=[],this.areSchoolsShown=!1,this.showSchoolsButtonText="Show Schools",this.schoolIcon=(0,we.icon)({iconUrl:"assets/school.png",iconSize:[32,32],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41]}),window.savePointOfInterest=this.globalSavePointOfInterest.bind(this)}ngOnInit(){}onMapReady(r){this.map=r}toggleSchools(){this.areSchoolsShown?this.removeSchoolMarkers():this.addSchoolMarkers(),this.areSchoolsShown=!this.areSchoolsShown,this.showSchoolsButtonText=this.areSchoolsShown?"Hide Schools":"Show Schools"}addSchoolMarkers(){this.http.get("https://services6.arcgis.com/jiszdsDupTUO3fSM/arcgis/rest/services/Schulen_OpenData/FeatureServer/0/query?outFields=*&where=1%3D1&f=geojson").subscribe(o=>{o.features.forEach(h=>{let f=h.geometry.coordinates,v=[f[1],f[0]],m=(0,we.marker)((0,we.latLng)(v),{icon:this.schoolIcon}).bindPopup(`<b>You clicked here</b><br><br><button class="btn btn-primary" onclick="savePointOfInterest(${f[1]}, ${f[0]})">Save as Point of Interest</button>`);m.addTo(this.map),this.markers.push(m)})})}removeSchoolMarkers(){this.markers.forEach(r=>{this.map.removeLayer(r)}),this.markers=[]}globalSavePointOfInterest(r,o){this.pointOfInterestService.savePointOfInterest(r,o).subscribe(u=>{console.log("Point of Interest saved",u),alert("Point of Interest saved successfully")},u=>{console.error("Error saving Point of Interest",u),alert("Error saving Point of Interest")})}};e.\u0275fac=function(o){return new(o||e)(O(Mt),O(We))},e.\u0275cmp=ot({type:e,selectors:[["app-school"]],decls:17,vars:4,consts:[[1,"container-fluid","mt-4","mb-4"],[1,"row"],[1,"col-12","col-md-3","mb-4","mb-md-0"],[1,"sidebar"],[1,"homecard"],["aria-hidden","true",1,"fa","fa-graduation-cap"],["role","group","aria-label","Filter buttons",1,"btn-group-vertical","w-100"],[1,"btn","btn-primary",3,"click"],[1,"btn","btn-primary",3,"routerLink"],[1,"col-12","col-md-9"],["leaflet","",1,"map",2,"height","500px",3,"leafletMapReady","leafletOptions"]],template:function(o,u){o&1&&(C(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"i",5),P(6," Schools"),w()(),Q(7,"br")(8,"br")(9,"br"),C(10,"div",6)(11,"button",7),H("click",function(){return u.toggleSchools()}),P(12),w(),C(13,"button",8),P(14,"Back"),w()()()(),C(15,"div",9)(16,"div",10),H("leafletMapReady",function(f){return u.onMapReady(f)}),w()()()()),o&2&&(j(12),ke(u.showSchoolsButtonText),j(),rt("routerLink",Fe(3,wg)),j(3),rt("leafletOptions",u.options))},dependencies:[Yt,Gt],styles:[".btn-group-vertical[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{width:90%;margin-left:1rem;margin-right:1rem;margin-bottom:1rem;background-color:#2471a3;border-color:#e6dedc}.btn-group-vertical[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:hover{background-color:#f9e79f;border-color:#fff;color:#000}.homecard[_ngcontent-%COMP%]{background:#419f241a;border-radius:15px;box-shadow:0 4px 6px #0000001a;backdrop-filter:blur(10px);-webkit-backdrop-filter:blur(10px);border:1px solid rgba(255,255,255,.3);padding:20px;color:#100f0f}.homecard[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{display:block;margin-bottom:10px;font-size:1.5em}.homecard[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;padding:5px 0}"]});let i=e;return i})();var be=Qe(je());var bg=()=>["/"],hh=(()=>{let e=class e{constructor(r,o){this.http=r,this.pointOfInterestService=o,this.options={layers:[(0,be.tileLayer)("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:"&copy; OpenStreetMap contributors"})],zoom:14,center:(0,be.latLng)([50.8282,12.9209])},this.markers=[],this.areKinderdenShown=!1,this.showKinderdenButtonText="Show Kindergardens",this.schoolIcon=(0,be.icon)({iconUrl:"assets/kindergarden.png",iconSize:[32,32],iconAnchor:[16,32],popupAnchor:[0,-32],shadowSize:[41,41]}),window.savePointOfInterest=this.globalSavePointOfInterest.bind(this)}ngOnInit(){}onMapReady(r){this.map=r}toggleKindergardens(){this.areKinderdenShown?this.removeKindergardenMarkers():this.addKindergardenMarkers(),this.areKinderdenShown=!this.areKinderdenShown,this.showKinderdenButtonText=this.areKinderdenShown?"Hide Kindergardens":"Show Kindergardens"}addKindergardenMarkers(){this.http.get("https://services6.arcgis.com/jiszdsDupTUO3fSM/arcgis/rest/services/Kindertageseinrichtungen_Sicht/FeatureServer/0/query?outFields=*&where=1%3D1&f=geojson").subscribe(o=>{o.features.forEach(h=>{let f=h.geometry.coordinates,v=[f[1],f[0]],m=(0,be.marker)((0,be.latLng)(v),{icon:this.schoolIcon}).bindPopup(`<b>You clicked here</b><br><br><button class="btn btn-primary" onclick="savePointOfInterest(${f[1]}, ${f[0]})">Save as Point of Interest</button>`);m.addTo(this.map),this.markers.push(m)})})}removeKindergardenMarkers(){this.markers.forEach(r=>{this.map.removeLayer(r)}),this.markers=[]}globalSavePointOfInterest(r,o){this.pointOfInterestService.savePointOfInterest(r,o).subscribe(u=>{console.log("Point of Interest saved",u),alert("Point of Interest saved successfully")},u=>{console.error("Error saving Point of Interest",u),alert("Error saving Point of Interest")})}};e.\u0275fac=function(o){return new(o||e)(O(Mt),O(We))},e.\u0275cmp=ot({type:e,selectors:[["app-kindergarden"]],decls:17,vars:4,consts:[[1,"container-fluid","mt-4","mb-4"],[1,"row"],[1,"col-12","col-md-3","mb-4","mb-md-0"],[1,"sidebar"],[1,"homecard"],["aria-hidden","true",1,"fa","fa-graduation-cap"],["role","group","aria-label","Filter buttons",1,"btn-group-vertical","w-100"],[1,"btn","btn-primary",3,"click"],[1,"btn","btn-primary",3,"routerLink"],[1,"col-12","col-md-9"],["leaflet","",1,"map",2,"height","500px",3,"leafletMapReady","leafletOptions"]],template:function(o,u){o&1&&(C(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"i",5),P(6," Kindergardens"),w()(),Q(7,"br")(8,"br")(9,"br"),C(10,"div",6)(11,"button",7),H("click",function(){return u.toggleKindergardens()}),P(12),w(),C(13,"button",8),P(14,"Back"),w()()()(),C(15,"div",9)(16,"div",10),H("leafletMapReady",function(f){return u.onMapReady(f)}),w()()()()),o&2&&(j(12),ke(u.showKinderdenButtonText),j(),rt("routerLink",Fe(3,bg)),j(3),rt("leafletOptions",u.options))},dependencies:[Yt,Gt],styles:[".btn-group-vertical[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{width:90%;margin-left:1rem;margin-right:1rem;margin-bottom:1rem;background-color:#2471a3;border-color:#e6dedc}.btn-group-vertical[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:hover{background-color:#f9e79f;border-color:#fff;color:#000}.homecard[_ngcontent-%COMP%]{background:#419f241a;border-radius:15px;box-shadow:0 4px 6px #0000001a;backdrop-filter:blur(10px);-webkit-backdrop-filter:blur(10px);border:1px solid rgba(255,255,255,.3);padding:20px;color:#100f0f}.homecard[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{display:block;margin-bottom:10px;font-size:1.5em}.homecard[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;padding:5px 0}"]});let i=e;return i})();var Ce=Qe(je());var Cg=()=>["/"],dh=(()=>{let e=class e{constructor(r,o){this.http=r,this.pointOfInterestService=o,this.options={layers:[(0,Ce.tileLayer)("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:"&copy; OpenStreetMap contributors"})],zoom:14,center:(0,Ce.latLng)([50.8282,12.9209])},this.markers=[],this.areSCPShown=!1,this.showSCPButtonText="Show Social Child Projects",this.schoolIcon=(0,Ce.icon)({iconUrl:"assets/building.png",iconSize:[32,32],iconAnchor:[16,32],popupAnchor:[0,-32],shadowSize:[41,41]}),window.savePointOfInterest=this.globalSavePointOfInterest.bind(this)}ngOnInit(){}onMapReady(r){this.map=r}toggleSCP(){this.areSCPShown?this.removeSCPMarkers():this.addSCPMarkers(),this.areSCPShown=!this.areSCPShown,this.showSCPButtonText=this.areSCPShown?"Hide Social Child Projects":"Show Social Child Projects"}addSCPMarkers(){this.http.get("https://services6.arcgis.com/jiszdsDupTUO3fSM/arcgis/rest/services/Schulsozialarbeit_FL_1/FeatureServer/0/query?where=1%3D1&outFields=*&f=geojson").subscribe(o=>{o&&o.features&&Array.isArray(o.features)?o.features.forEach(h=>{let f=h.geometry.coordinates,v=[f[1],f[0]],m=(0,Ce.marker)((0,Ce.latLng)(v),{icon:this.schoolIcon}).bindPopup(`<b>You clicked here</b><br><br><button class="btn btn-primary" onclick="savePointOfInterest(${f[1]}, ${f[0]})">Save as Point of Interest</button>`);m.addTo(this.map),this.markers.push(m)}):console.error("Invalid data format",o)},o=>{console.error("Error fetching data from API",o)})}removeSCPMarkers(){this.markers.forEach(r=>{this.map.removeLayer(r)}),this.markers=[]}globalSavePointOfInterest(r,o){this.pointOfInterestService.savePointOfInterest(r,o).subscribe(u=>{console.log("Point of Interest saved",u),alert("Point of Interest saved successfully")},u=>{console.error("Error saving Point of Interest",u),alert("Error saving Point of Interest")})}};e.\u0275fac=function(o){return new(o||e)(O(Mt),O(We))},e.\u0275cmp=ot({type:e,selectors:[["app-socialchild"]],decls:17,vars:4,consts:[[1,"container-fluid","mt-4","mb-4"],[1,"row"],[1,"col-12","col-md-3","mb-4","mb-md-0"],[1,"sidebar"],[1,"homecard"],["aria-hidden","true",1,"fa","fa-graduation-cap"],["role","group","aria-label","Filter buttons",1,"btn-group-vertical","w-100"],[1,"btn","btn-primary",3,"click"],[1,"btn","btn-primary",3,"routerLink"],[1,"col-12","col-md-9"],["leaflet","",1,"map",2,"height","500px",3,"leafletMapReady","leafletOptions"]],template:function(o,u){o&1&&(C(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"i",5),P(6," Social Child Projects"),w()(),Q(7,"br")(8,"br")(9,"br"),C(10,"div",6)(11,"button",7),H("click",function(){return u.toggleSCP()}),P(12),w(),C(13,"button",8),P(14,"Back"),w()()()(),C(15,"div",9)(16,"div",10),H("leafletMapReady",function(f){return u.onMapReady(f)}),w()()()()),o&2&&(j(12),ke(u.showSCPButtonText),j(),rt("routerLink",Fe(3,Cg)),j(3),rt("leafletOptions",u.options))},dependencies:[Yt,Gt],styles:[".btn-group-vertical[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{width:90%;margin-left:1rem;margin-right:1rem;margin-bottom:1rem;background-color:#2471a3;border-color:#e6dedc}.btn-group-vertical[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:hover{background-color:#f9e79f;border-color:#fff;color:#000}.homecard[_ngcontent-%COMP%]{background:#419f241a;border-radius:15px;box-shadow:0 4px 6px #0000001a;backdrop-filter:blur(10px);-webkit-backdrop-filter:blur(10px);border:1px solid rgba(255,255,255,.3);padding:20px;color:#100f0f}.homecard[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{display:block;margin-bottom:10px;font-size:1.5em}.homecard[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;padding:5px 0}"]});let i=e;return i})();var Me=Qe(je());var Mg=()=>["/"],fh=(()=>{let e=class e{constructor(r,o){this.http=r,this.pointOfInterestService=o,this.options={layers:[(0,Me.tileLayer)("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:"&copy; OpenStreetMap contributors"})],zoom:14,center:(0,Me.latLng)([50.8282,12.9209])},this.markers=[],this.areSTPShown=!1,this.showSTPButtonText="Show Social Teenager Projects",this.schoolIcon=(0,Me.icon)({iconUrl:"assets/playground.png",iconSize:[32,32],iconAnchor:[16,32],popupAnchor:[0,-32],shadowSize:[41,41]}),window.savePointOfInterest=this.globalSavePointOfInterest.bind(this)}ngOnInit(){}onMapReady(r){this.map=r}toggleSTP(){this.areSTPShown?this.removeSTPMarkers():this.addSTPMarkers(),this.areSTPShown=!this.areSTPShown,this.showSTPButtonText=this.areSTPShown?"Hide Social Teenager Projects":"Show Social Teenager Projects"}addSTPMarkers(){this.http.get("https://services6.arcgis.com/jiszdsDupTUO3fSM/arcgis/rest/services/Jugendberufshilfen_FL_1/FeatureServer/0/query?outFields=*&where=1%3D1&f=geojson").subscribe(o=>{o&&o.features&&Array.isArray(o.features)?o.features.forEach(h=>{let f=h.geometry.coordinates,v=[f[1],f[0]],m=(0,Me.marker)((0,Me.latLng)(v),{icon:this.schoolIcon}).bindPopup(`<b>You clicked here</b><br><br><button class="btn btn-primary" onclick="savePointOfInterest(${f[1]}, ${f[0]})">Save as Point of Interest</button>`);m.addTo(this.map),this.markers.push(m)}):console.error("Invalid data format",o)},o=>{console.error("Error fetching data from API",o)})}removeSTPMarkers(){this.markers.forEach(r=>{this.map.removeLayer(r)}),this.markers=[]}globalSavePointOfInterest(r,o){this.pointOfInterestService.savePointOfInterest(r,o).subscribe(u=>{console.log("Point of Interest saved",u),alert("Point of Interest saved successfully")},u=>{console.error("Error saving Point of Interest",u),alert("Error saving Point of Interest")})}};e.\u0275fac=function(o){return new(o||e)(O(Mt),O(We))},e.\u0275cmp=ot({type:e,selectors:[["app-socialteenager"]],decls:17,vars:4,consts:[[1,"container-fluid","mt-4","mb-4"],[1,"row"],[1,"col-12","col-md-3","mb-4","mb-md-0"],[1,"sidebar"],[1,"homecard"],["aria-hidden","true",1,"fa","fa-graduation-cap"],["role","group","aria-label","Filter buttons",1,"btn-group-vertical","w-100"],[1,"btn","btn-primary",3,"click"],[1,"btn","btn-primary",3,"routerLink"],[1,"col-12","col-md-9"],["leaflet","",1,"map",2,"height","500px",3,"leafletMapReady","leafletOptions"]],template:function(o,u){o&1&&(C(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"i",5),P(6," Social Teen Projects"),w()(),Q(7,"br")(8,"br")(9,"br"),C(10,"div",6)(11,"button",7),H("click",function(){return u.toggleSTP()}),P(12),w(),C(13,"button",8),P(14,"Back"),w()()()(),C(15,"div",9)(16,"div",10),H("leafletMapReady",function(f){return u.onMapReady(f)}),w()()()()),o&2&&(j(12),ke(u.showSTPButtonText),j(),rt("routerLink",Fe(3,Mg)),j(3),rt("leafletOptions",u.options))},dependencies:[Yt,Gt],styles:[".btn-group-vertical[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{width:90%;margin-left:1rem;margin-right:1rem;margin-bottom:1rem;background-color:#2471a3;border-color:#e6dedc}.btn-group-vertical[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:hover{background-color:#f9e79f;border-color:#fff;color:#000}.homecard[_ngcontent-%COMP%]{background:#419f241a;border-radius:15px;box-shadow:0 4px 6px #0000001a;backdrop-filter:blur(10px);-webkit-backdrop-filter:blur(10px);border:1px solid rgba(255,255,255,.3);padding:20px;color:#100f0f}.homecard[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{display:block;margin-bottom:10px;font-size:1.5em}.homecard[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;padding:5px 0}"]});let i=e;return i})();var Xt=Qe(je());function Pg(i,e){if(i&1&&(C(0,"div")(1,"p"),P(2),w(),C(3,"p"),P(4),w()()),i&2){let a=rn();j(2),Ne("Latitude: ",a.homeLocation.lat,""),j(2),Ne("Longitude: ",a.homeLocation.lng,"")}}function Sg(i,e){i&1&&(C(0,"p"),P(1,"Set a Home Location after registering in app and clicking on the map."),w())}function xg(i,e){if(i&1&&(C(0,"div")(1,"p"),P(2),w(),C(3,"p"),P(4),w()()),i&2){let a=rn();j(2),Ne("Latitude: ",a.poiLocation.lat,""),j(2),Ne("Longitude: ",a.poiLocation.lng,"")}}function Tg(i,e){i&1&&(C(0,"p"),P(1,"No POI location set."),w())}var ph=(()=>{let e=class e{constructor(r,o){this.http=r,this.router=o,this.options={layers:[(0,Xt.tileLayer)("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:"&copy; OpenStreetMap contributors"})],zoom:14,center:(0,Xt.latLng)([50.8282,12.9209])},this.homeLocation=null,this.poiLocation=null,this.homeIcon=(0,Xt.icon)({iconUrl:"assets/home.png",iconSize:[32,32],iconAnchor:[12,41],popupAnchor:[1,-34],shadowUrl:""}),this.poiIcon=(0,Xt.icon)({iconUrl:"assets/poi.png",iconSize:[32,32],iconAnchor:[12,41],popupAnchor:[1,-34],shadowUrl:""})}ngOnInit(){this.getHomeLocation(),this.getPOILocation()}onMapReady(r){this.map=r}onMapClick(r){let o=r.latlng,h=(0,Xt.popup)().setLatLng(o).setContent(`
      <div>
        <p>Do you want this as your home location?</p>
        <br>
        <button class="btn btn-primary" >Yes</button>
        <button class="btn btn-secondary">No</button>
      </div>
    `).openOn(this.map);setTimeout(()=>{document.getElementById("confirmButton")?.addEventListener("click",()=>{this.setHomeLocation(o.lat,o.lng),this.map?.closePopup(h)}),document.getElementById("cancelButton")?.addEventListener("click",()=>{this.map?.closePopup(h)})},0)}setHomeLocation(r,o){let u=localStorage.getItem("token");if(!u){console.error("No token found");return}this.http.put("/api/homeLocation",{lat:r,lng:o},{headers:{Authorization:`Bearer ${u}`}}).subscribe(h=>{console.log("Home location updated:",h),this.homeLocation={lat:r,lng:o},this.updateHomeMarker()},h=>{console.error("Error updating home location:",h)})}getHomeLocation(){let r=localStorage.getItem("token");if(!r){console.error("No token found");return}this.http.get("/api/homeLocation",{headers:{Authorization:`Bearer ${r}`}}).subscribe(o=>{console.log("Fetched home location:",o),this.homeLocation=o.homeLocation,this.updateHomeMarker()},o=>{console.error("Error fetching home location:",o)})}updateHomeMarker(){this.map&&this.homeLocation&&(this.homeMarker&&this.map.removeLayer(this.homeMarker),this.homeMarker=(0,Xt.marker)([this.homeLocation.lat,this.homeLocation.lng],{icon:this.homeIcon}).addTo(this.map).bindPopup("Home Location"))}getPOILocation(){let r=localStorage.getItem("token");if(!r){console.error("No token found");return}this.http.get("/api/pointOfInterest",{headers:{Authorization:`Bearer ${r}`}}).subscribe(o=>{console.log("Fetched POI location:",o),this.poiLocation=o.pointOfInterest,this.updatePOIMarker()},o=>{console.error("Error fetching POI location:",o)})}updatePOIMarker(){if(this.map&&this.poiLocation){this.poiMarker&&this.map.removeLayer(this.poiMarker);let r=`
        <div>
          <p><strong>THIS IS YOUR POINT OF INTEREST</strong></p>
          <br>
          <p>Latitude: ${this.poiLocation.lat}</p>
          <p>Longitude: ${this.poiLocation.lng}</p>
        </div>
      `;this.poiMarker=(0,Xt.marker)([this.poiLocation.lat,this.poiLocation.lng],{icon:this.poiIcon}).addTo(this.map).bindPopup(r)}}};e.\u0275fac=function(o){return new(o||e)(O(Mt),O(yt))},e.\u0275cmp=ot({type:e,selectors:[["app-poi"]],decls:19,vars:5,consts:[["noLocation",""],["noPOILocation",""],[1,"container-fluid","mt-4","mb-4"],[1,"row"],[1,"col-12","col-md-3","mb-4","mb-md-0"],[1,"sidebar"],[1,"homecard"],[1,"fa","fa-home"],[4,"ngIf","ngIfElse"],[1,"fa","fa-map-pin"],[1,"col-12","col-md-9"],["leaflet","",1,"map",2,"height","500px",3,"leafletClick","leafletMapReady","leafletOptions"]],template:function(o,u){if(o&1){let h=Pn();C(0,"div",2)(1,"div",3)(2,"div",4)(3,"div",5)(4,"div",6)(5,"i",7),P(6," Home Location"),w(),ee(7,Pg,5,2,"div",8)(8,Sg,2,0,"ng-template",null,0,pi),w(),Q(10,"br"),C(11,"div",6)(12,"i",9),P(13," Point of Interest"),w(),ee(14,xg,5,2,"div",8)(15,Tg,2,0,"ng-template",null,1,pi),w()()(),C(17,"div",10)(18,"div",11),H("leafletClick",function(v){return Ht(h),Wt(u.onMapClick(v))})("leafletMapReady",function(v){return Ht(h),Wt(u.onMapReady(v))}),w()()()()}if(o&2){let h=di(9),f=di(16);j(7),rt("ngIf",u.homeLocation)("ngIfElse",h),j(7),rt("ngIf",u.poiLocation)("ngIfElse",f),j(4),rt("leafletOptions",u.options)}},dependencies:[ze,Gt],styles:[".homecard[_ngcontent-%COMP%]{background:#419f241a;border-radius:15px;box-shadow:0 4px 6px #0000001a;backdrop-filter:blur(10px);-webkit-backdrop-filter:blur(10px);border:1px solid rgba(255,255,255,.3);padding:20px;color:#100f0f}.homecard[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{display:block;margin-bottom:10px;font-size:1.5em}.homecard[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;padding:5px 0}"]});let i=e;return i})();var Eg=[{path:"",component:ah},{path:"login",component:lh},{path:"register",component:uh},{path:"school",component:ch},{path:"kindergarden",component:hh},{path:"social-child-projects",component:dh},{path:"social-teenager-projects",component:fh},{path:"poi",component:ph}],mh=(()=>{let e=class e{};e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=Et({type:e}),e.\u0275inj=Tt({imports:[Sa.forRoot(Eg),Sa]});let i=e;return i})();function Ig(i,e){i&1&&(C(0,"li",8)(1,"a",12),P(2," Login "),w()())}function Og(i,e){if(i&1){let a=Pn();C(0,"li",8)(1,"a",13),H("click",function(){Ht(a);let o=rn();return Wt(o.logout())}),P(2," Log Out "),w()()}}var gh=(()=>{let e=class e{constructor(r){this.authService=r,this.isAuthenticated$=this.authService.isAuthenticated()}ngOnInit(){}logout(){this.authService.logout()}};e.\u0275fac=function(o){return new(o||e)(O(Zn))},e.\u0275cmp=ot({type:e,selectors:[["app-header"]],decls:19,vars:6,consts:[[1,"navbar","navbar-expand-lg","navbar-light","custom-navbar"],[1,"container-fluid"],["routerLink","/",1,"navbar-brand"],["src","assets/logo.svg","alt","Logo","width","95","height","85",1,"d-inline-block","align-text-top",2,"margin-left","1rem"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarNav","aria-controls","navbarNav","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarNav",1,"collapse","navbar-collapse"],[1,"navbar-nav","ms-auto"],[1,"nav-item"],["aria-current","page","routerLink","/",1,"nav-link","active"],["routerLink","/poi",1,"nav-link"],["class","nav-item",4,"ngIf"],["routerLink","/login",1,"nav-link"],[1,"nav-link",3,"click"]],template:function(o,u){o&1&&(C(0,"nav",0)(1,"div",1)(2,"a",2),Q(3,"img",3),P(4," Chemnitz Map "),w(),C(5,"button",4),Q(6,"span",5),w(),C(7,"div",6)(8,"ul",7)(9,"li",8)(10,"a",9),P(11,"Home"),w()(),C(12,"li",8)(13,"a",10),P(14,"Point of Interest"),w()(),ee(15,Ig,3,0,"li",11),gs(16,"async"),ee(17,Og,3,0,"li",11),gs(18,"async"),w()()()()),o&2&&(j(15),rt("ngIf",!vs(16,2,u.isAuthenticated$)),j(2),rt("ngIf",vs(18,4,u.isAuthenticated$)))},dependencies:[ze,Yt,Cu],styles:[".custom-navbar[_ngcontent-%COMP%]{height:120px;background-color:#2471a3}.custom-navbar[_ngcontent-%COMP%]   .navbar-brand[_ngcontent-%COMP%]{display:flex;align-items:center;height:100%}.custom-navbar[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-weight:700;color:#fff}.custom-navbar[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#f9e79f}.custom-navbar[_ngcontent-%COMP%]   .navbar-brand[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin:20px}.custom-navbar[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{display:flex;align-items:center;height:100%;color:#fff;padding:0 25px;font-weight:700;font-size:large;transition:color .3s}.custom-navbar[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:hover{color:#f9e79f}.custom-navbar[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]{margin:10px}.custom-navbar[_ngcontent-%COMP%]   .navbar-toggler[_ngcontent-%COMP%]{align-self:center}@media (max-width: 991px){.custom-navbar[_ngcontent-%COMP%]{height:auto}.custom-navbar[_ngcontent-%COMP%]   .navbar-brand[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin:10px}.custom-navbar[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{padding:10px;font-size:medium}.custom-navbar[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]{margin:5px 0}}@media (max-width: 576px){.custom-navbar[_ngcontent-%COMP%]   .navbar-brand[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:75px;height:65px}.custom-navbar[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{padding:5px;font-size:small}}"]});let i=e;return i})();var vh=(()=>{let e=class e{};e.\u0275fac=function(o){return new(o||e)},e.\u0275cmp=ot({type:e,selectors:[["app-footer"]],decls:42,vars:0,consts:[[1,"footer","mt-auto","py-3"],[1,"row","m-5"],[1,"col-md-4"],[1,"list-unstyled"],["routerLink","/"],["routerLink","/schools"],["routerLink","/kindergarten"],["routerLink","/social-child-projects"],["routerLink","/social-teenager-projects"],["href","https://www.facebook.com/gunners808/","target","_blank",1,"me-2"],[1,"fab","fa-facebook-f"],["href","https://twitter.com","target","_blank",1,"me-2"],[1,"fab","fa-twitter"],["href","https://instagram.com","target","_blank",1,"me-2"],[1,"fab","fa-instagram"],["href","https://www.linkedin.com/in/imamulahsan/","target","_blank"],[1,"fab","fa-linkedin-in"],[1,"text-center","mt-3"]],template:function(o,u){o&1&&(C(0,"footer",0)(1,"div",1)(2,"div",2)(3,"h3"),P(4,"Contact"),w(),C(5,"p"),P(6," Imamul Ahsan "),Q(7,"br"),P(8," Masters student in TU Chemnitz "),w()(),C(9,"div",2)(10,"h3"),P(11,"Quick Links"),w(),C(12,"ul",3)(13,"li")(14,"a",4),P(15,"Home"),w()(),C(16,"li")(17,"a",5),P(18,"Schools"),w()(),C(19,"li")(20,"a",6),P(21,"Kindergarten"),w()(),C(22,"li")(23,"a",7),P(24,"Social Child Projects"),w()(),C(25,"li")(26,"a",8),P(27,"Social Teenager Projects"),w()()()(),C(28,"div",2)(29,"h3"),P(30,"Follow"),w(),C(31,"a",9),Q(32,"i",10),w(),C(33,"a",11),Q(34,"i",12),w(),C(35,"a",13),Q(36,"i",14),w(),C(37,"a",15),Q(38,"i",16),w()()(),C(39,"div",17)(40,"p"),P(41,"\xA9 2024 Imamul Ahsan."),w()()())},dependencies:[Yt],styles:[".footer[_ngcontent-%COMP%]{position:relative;width:100%;text-align:left;padding:20px 0;background-color:#2471a3}.footer[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{margin-bottom:20px}.footer[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;text-decoration:none}.footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}.footer[_ngcontent-%COMP%]   .fab[_ngcontent-%COMP%]{font-size:1.5rem;color:#fff}.footer[_ngcontent-%COMP%]   .fab[_ngcontent-%COMP%]:hover{color:#f9e79f}"]});let i=e;return i})();function Dg(i,e){i&1&&(C(0,"div"),Q(1,"app-header"),w())}function Rg(i,e){i&1&&(C(0,"div"),Q(1,"app-footer"),w())}var _h=(()=>{let e=class e{constructor(r){this.router=r,this.title="frontend",this.showHeaderFooter=!0,this.router.events.subscribe(o=>{o instanceof Kt&&(this.showHeaderFooter=!(o.url==="/login"||o.url==="/register"))})}};e.\u0275fac=function(o){return new(o||e)(O(yt))},e.\u0275cmp=ot({type:e,selectors:[["app-root"]],decls:3,vars:2,consts:[[4,"ngIf"]],template:function(o,u){o&1&&(ee(0,Dg,2,0,"div",0),Q(1,"router-outlet"),ee(2,Rg,2,0,"div",0)),o&2&&(rt("ngIf",u.showHeaderFooter),j(2),rt("ngIf",u.showHeaderFooter))},dependencies:[ze,_a,gh,vh]});let i=e;return i})();var kg="@",Ng=(()=>{let e=class e{constructor(r,o,u,h,f){this.doc=r,this.delegate=o,this.zone=u,this.animationType=h,this.moduleImpl=f,this._rendererFactoryPromise=null,this.scheduler=T(au,{optional:!0})}ngOnDestroy(){this._engine?.flush()}loadImpl(){return(this.moduleImpl??import("./chunk-IWPV24HZ.js")).catch(o=>{throw new et(5300,!1)}).then(({\u0275createEngine:o,\u0275AnimationRendererFactory:u})=>{this._engine=o(this.animationType,this.doc,this.scheduler);let h=new u(this.delegate,this._engine,this.zone);return this.delegate=h,h})}createRenderer(r,o){let u=this.delegate.createRenderer(r,o);if(u.\u0275type===0)return u;typeof u.throwOnSyntheticProps=="boolean"&&(u.throwOnSyntheticProps=!1);let h=new Ta(u);return o?.data?.animation&&!this._rendererFactoryPromise&&(this._rendererFactoryPromise=this.loadImpl()),this._rendererFactoryPromise?.then(f=>{let v=f.createRenderer(r,o);h.use(v)}).catch(f=>{h.use(u)}),h}begin(){this.delegate.begin?.()}end(){this.delegate.end?.()}whenRenderingDone(){return this.delegate.whenRenderingDone?.()??Promise.resolve()}};e.\u0275fac=function(o){Cr()},e.\u0275prov=$({token:e,factory:e.\u0275fac});let i=e;return i})(),Ta=class{constructor(e){this.delegate=e,this.replay=[],this.\u0275type=1}use(e){if(this.delegate=e,this.replay!==null){for(let a of this.replay)a(e);this.replay=null}}get data(){return this.delegate.data}destroy(){this.replay=null,this.delegate.destroy()}createElement(e,a){return this.delegate.createElement(e,a)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}get destroyNode(){return this.delegate.destroyNode}appendChild(e,a){this.delegate.appendChild(e,a)}insertBefore(e,a,r,o){this.delegate.insertBefore(e,a,r,o)}removeChild(e,a,r){this.delegate.removeChild(e,a,r)}selectRootElement(e,a){return this.delegate.selectRootElement(e,a)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,a,r,o){this.delegate.setAttribute(e,a,r,o)}removeAttribute(e,a,r){this.delegate.removeAttribute(e,a,r)}addClass(e,a){this.delegate.addClass(e,a)}removeClass(e,a){this.delegate.removeClass(e,a)}setStyle(e,a,r,o){this.delegate.setStyle(e,a,r,o)}removeStyle(e,a,r){this.delegate.removeStyle(e,a,r)}setProperty(e,a,r){this.shouldReplay(a)&&this.replay.push(o=>o.setProperty(e,a,r)),this.delegate.setProperty(e,a,r)}setValue(e,a){this.delegate.setValue(e,a)}listen(e,a,r){return this.shouldReplay(a)&&this.replay.push(o=>o.listen(e,a,r)),this.delegate.listen(e,a,r)}shouldReplay(e){return this.replay!==null&&e.startsWith(kg)}};function yh(i="animations"){return ds("NgAsyncAnimations"),Cn([{provide:Mr,useFactory:(e,a,r)=>new Ng(e,a,r,i),deps:[It,jr,_t]},{provide:ru,useValue:i==="noop"?"NoopAnimations":"BrowserAnimations"}])}var wh=(()=>{let e=class e{};e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=Et({type:e,bootstrap:[_h]}),e.\u0275inj=Tt({providers:[yh()],imports:[Hu,mh,Nu,mc,_c]});let i=e;return i})();$u().bootstrapModule(wh).catch(i=>console.error(i));
